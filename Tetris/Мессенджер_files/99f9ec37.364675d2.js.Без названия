"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[79547],{480365:(e,t,a)=>{a.d(t,{IconLiveText20h:()=>o});var o=(0,a(28178).makeIcon)("IconLiveText20h","live_text_20h","0 0 42 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 42 20" id="live_text_20h"><path d="M8 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H9V6a1 1 0 0 0-1-1Zm7 1a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0V6Zm15-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2h-3v-2h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2h-4Zm-8.325 9.31-2.55-7.824a.993.993 0 0 1-.117-.363L19 6.1h.005a1 1 0 1 1 1.99-.199L21 5.9l2 6.4 2-6.4h.005a1 1 0 0 1 1.99.2H27l-.008.023a.993.993 0 0 1-.118.363l-2.55 7.824a1 1 0 0 1-.95.69h-.748a1 1 0 0 1-.95-.69Z" /></symbol>',42,20,!1,void 0)},926683:(e,t,a)=>{a.d(t,{Icon12Flag:()=>o});var o=(0,a(28178).makeIcon)("Icon12Flag","flag_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="flag_12"><path fill="currentColor" fill-rule="evenodd" d="M1.75 0A.75.75 0 0 0 1 .75v9.5a.75.75 0 0 0 1.5 0V6.805c.261.112.533.184.808.192.79.022 1.525-.227 2.257-.5q.25-.094.5-.19c.626-.241 1.25-.482 1.915-.596.733-.149 1.492-.258 2.143.123l.232.149a.094.094 0 0 0 .145-.079V1.47c0-.25 0-.376-.063-.554A1.5 1.5 0 0 0 10.172.5a.9.9 0 0 0-.315-.217 2.9 2.9 0 0 0-.95-.27c-.68-.06-1.33.094-1.968.312a72 72 0 0 0-.866.307c-.56.202-1.12.403-1.689.576A2.94 2.94 0 0 1 2.5 1.2V.75A.75.75 0 0 0 1.75 0" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},437043:(e,t,a)=>{a.d(t,{Icon16ChainOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon16ChainOutline","chain_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="chain_outline_16"><path d="M10.422 3.023a1.82 1.82 0 0 1 2.552 0 1.77 1.77 0 0 1-.003 2.502l-.746.747a.75.75 0 0 0 1.06 1.06l.746-.744a3.25 3.25 0 0 0-.002-4.631 3.32 3.32 0 0 0-4.661 0L6.14 5.153a3.25 3.25 0 0 0 0 4.633.75.75 0 1 0 1.054-1.067 1.75 1.75 0 0 1 0-2.5zM5.575 12.98a1.82 1.82 0 0 1-2.552 0 1.75 1.75 0 0 1 0-2.5l.754-.754a.75.75 0 1 0-1.06-1.06l-.75.75a3.25 3.25 0 0 0 .002 4.63 3.32 3.32 0 0 0 4.661 0l3.228-3.197a3.25 3.25 0 0 0 0-4.632.75.75 0 0 0-1.054 1.067 1.75 1.75 0 0 1 0 2.499z" /></symbol>',16,16,!1,void 0)},888056:(e,t,a)=>{a.d(t,{Icon16Clock:()=>o});var o=(0,a(28178).makeIcon)("Icon16Clock","clock_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="clock_16"><path fill-rule="evenodd" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.9-11.5a.9.9 0 1 0-1.8 0V8a.9.9 0 0 0 .264.636l2.1 2.1a.9.9 0 1 0 1.272-1.272L8.9 7.627z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},293079:(e,t,a)=>{a.d(t,{Icon16DownloadOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon16DownloadOutline","download_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="download_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M8.75 1.75a.75.75 0 0 0-1.5 0v6.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44zm-6 10.75a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},117374:(e,t,a)=>{a.d(t,{Icon16DropdownOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon16DropdownOutline","dropdown_outline_16","0 0 16 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12" id="dropdown_outline_16"><path fill="currentColor" d="m8 6.778 3.773-3.107a.75.75 0 1 1 .954 1.158l-4.25 3.5a.75.75 0 0 1-.954 0l-4.25-3.5a.75.75 0 0 1 .954-1.158z" /></symbol>',16,12,!1,void 0)},455321:(e,t,a)=>{a.d(t,{Icon16ListPlayOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon16ListPlayOutline","list_play_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="list_play_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M2 3.75A.75.75 0 0 1 2.75 3h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 3.75m0 8.5a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75M2 8a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5A.75.75 0 0 1 2 8m12.684 3.036a.625.625 0 0 0 0-1.086L9.947 7.085A.632.632 0 0 0 9 7.626v5.748c0 .481.526.782.947.541z" /></symbol>',16,16,!1,void 0)},728494:(e,t,a)=>{a.d(t,{Icon20AddSquareOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20AddSquareOutline","add_square_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="add_square_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M11.6 3.5H8.4c-1.145 0-1.913.001-2.505.05-.574.047-.849.13-1.03.223a2.5 2.5 0 0 0-1.093 1.092c-.092.181-.175.456-.222 1.03-.049.592-.05 1.36-.05 2.505v3.2c0 1.145.001 1.913.05 2.505.047.574.13.849.223 1.03a2.5 2.5 0 0 0 1.092 1.093c.181.092.456.176 1.03.222.592.049 1.36.05 2.505.05h3.2c1.145 0 1.913-.001 2.505-.05.574-.046.849-.13 1.03-.223a2.5 2.5 0 0 0 1.093-1.092c.092-.181.176-.456.222-1.03.049-.592.05-1.36.05-2.505V8.4c0-1.145-.001-1.913-.05-2.505-.046-.574-.13-.849-.223-1.03a2.5 2.5 0 0 0-1.092-1.092c-.181-.093-.456-.177-1.03-.224-.592-.048-1.36-.049-2.505-.049m-9.164.684C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748M10 6.004a.75.75 0 0 1 .75.75V9.25h2.496a.75.75 0 0 1 0 1.5H10.75v2.5a.75.75 0 0 1-1.5 0v-2.5H6.754a.75.75 0 0 1 0-1.5H9.25V6.753a.75.75 0 0 1 .75-.75" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},445264:(e,t,a)=>{a.d(t,{Icon20CheckAlt:()=>o});var o=(0,a(28178).makeIcon)("Icon20CheckAlt","check_alt_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="check_alt_20"><path fill-rule="evenodd" d="M16.659 5.344a1.16 1.16 0 0 1 0 1.645L8.82 14.812a1.167 1.167 0 0 1-1.649 0l-3.83-3.823a1.16 1.16 0 0 1 0-1.646 1.167 1.167 0 0 1 1.648 0l3.007 3 7.013-7a1.167 1.167 0 0 1 1.649 0Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},619383:(e,t,a)=>{a.d(t,{Icon20ChevronCircleOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20ChevronCircleOutline","chevron_circle_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="chevron_circle_outline_20"><path fill-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17m7-8.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0M9.53 6.47a.75.75 0 0 0-1.06 1.06L10.94 10l-2.47 2.47a.75.75 0 1 0 1.06 1.06l3-3a.75.75 0 0 0 0-1.06z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},982555:(e,t,a)=>{a.d(t,{Icon20ClockOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20ClockOutline","clock_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="clock_outline_20"><g fill="currentColor"><path d="M10.25 6.5a.75.75 0 0 0-1.5 0v4a.75.75 0 0 0 .516.713l3.5 1.15a.75.75 0 1 0 .468-1.425l-2.984-.981z" /><path fill-rule="evenodd" d="M18.5 10a8.5 8.5 0 1 0-17 0 8.5 8.5 0 0 0 17 0M3 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},243031:(e,t,a)=>{a.d(t,{Icon20FavoriteOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20FavoriteOutline","favorite_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="favorite_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M10.408 3.134a.92.92 0 0 0-.825 0c-.049.024-.19.13-.443.598-.244.448-.522 1.086-.919 2.003-.16.37-.327.739-.482 1.112-.02.049-.084.204-.196.332a1 1 0 0 1-.33.252c-.168.08-.351.097-.384.102l-.682.096c-.993.14-1.685.24-2.184.356-.52.121-.66.229-.697.269a.92.92 0 0 0-.218.798c.01.053.077.217.462.587.37.355.916.792 1.7 1.419l.248.2c.028.021.187.137.294.303.08.125.133.266.153.413.025.18-.012.355-.023.41-.029.139-.053.279-.08.418-.217 1.15-.371 1.964-.432 2.56-.066.636.003.822.026.86a.92.92 0 0 0 .747.442c.045.002.24-.029.765-.393.492-.343 1.129-.87 2.03-1.619l.315-.262c.038-.031.093-.077.147-.116.067-.047.172-.114.315-.154a1 1 0 0 1 .56 0c.143.04.249.107.315.154.054.039.11.085.148.116l.315.262c.9.748 1.537 1.276 2.03 1.619.524.364.72.395.764.393a.92.92 0 0 0 .747-.441c.024-.039.092-.225.027-.86-.062-.597-.215-1.41-.433-2.561q-.038-.21-.08-.418a1.3 1.3 0 0 1-.023-.41 1 1 0 0 1 .153-.413c.107-.166.266-.282.294-.304l.249-.199c.783-.627 1.329-1.064 1.699-1.419.386-.37.452-.534.462-.587a.92.92 0 0 0-.218-.798c-.036-.04-.176-.148-.697-.27-.498-.116-1.19-.214-2.184-.355-.23-.032-.462-.068-.694-.097-.052-.007-.218-.028-.372-.101a1 1 0 0 1-.33-.252c-.122-.14-.187-.313-.2-.343l-.478-1.101c-.397-.917-.675-1.555-.918-2.003-.254-.467-.395-.574-.443-.598ZM8.895 1.761a2.45 2.45 0 0 1 2.2 0c.5.25.83.732 1.103 1.236.281.516.585 1.218.963 2.09l.413.953.523.074c.945.133 1.706.24 2.28.375.56.13 1.113.32 1.488.738a2.46 2.46 0 0 1 .582 2.128c-.11.55-.49.996-.906 1.394-.426.408-1.026.888-1.77 1.484l-.112.09.044.231c.209 1.103.376 1.982.444 2.652.066.64.073 1.3-.243 1.817a2.46 2.46 0 0 1-1.991 1.176c-.605.025-1.178-.3-1.706-.667-.553-.384-1.24-.955-2.104-1.672l-.108-.09-.108.09c-.864.717-1.55 1.288-2.104 1.672-.527.367-1.101.692-1.706.667a2.46 2.46 0 0 1-1.991-1.176c-.315-.517-.309-1.177-.243-1.817.069-.67.235-1.549.445-2.652l.044-.232-.112-.089c-.745-.596-1.345-1.077-1.77-1.484-.416-.398-.796-.844-.907-1.394a2.46 2.46 0 0 1 .582-2.128c.375-.417.929-.608 1.489-.738.574-.134 1.335-.242 2.28-.375l.522-.074.413-.953c.378-.872.682-1.574.963-2.09.274-.504.603-.986 1.103-1.236" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},536426:(e,t,a)=>{a.d(t,{Icon20ListAddOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20ListAddOutline","list_add_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="list_add_outline_20"><g fill="currentColor"><path d="M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75M2 9.75A.75.75 0 0 1 2.75 9h12.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.75M2 14.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75" /><path fill-rule="evenodd" d="M19.28 12.22a.75.75 0 0 1 0 1.06l-4.495 4.496a.75.75 0 0 1-1.06 0l-2.503-2.495a.75.75 0 0 1 1.06-1.062l1.972 1.966 3.966-3.965a.75.75 0 0 1 1.06 0" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},25398:(e,t,a)=>{a.d(t,{Icon20MessageOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20MessageOutline","message_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="message_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" opacity=".4" /><path fill="currentColor" fill-rule="nonzero" d="M6.828 15.752a.75.75 0 0 1 .821-.207A7.5 7.5 0 0 0 10.25 16c3.772 0 6.75-2.694 6.75-6s-2.978-6-6.75-6S3.5 6.694 3.5 10c0 1.21.4 2.367 1.14 3.349a.75.75 0 0 1 .15.49c-.04.756-.403 1.785-1.085 3.135 1.483-.116 2.514-.534 3.123-1.222M3.242 18.5a1.204 1.204 0 0 1-1.101-1.767c.644-1.216 1.016-2.14 1.121-2.73A7 7 0 0 1 2 10c0-4.17 3.681-7.5 8.25-7.5S18.5 5.83 18.5 10s-3.681 7.5-8.25 7.5a9 9 0 0 1-2.66-.393c-.996.881-2.456 1.336-4.348 1.393" /></g></symbol>',20,20,!1,void 0)},904093:(e,t,a)=>{a.d(t,{Icon20PinOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20PinOutline","pin_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="pin_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" /><path fill="currentColor" fill-rule="nonzero" d="M11.332 2.604a.75.75 0 0 1 1.266-.384l5.182 5.183a.75.75 0 0 1-.383 1.265l-1.54.308a.3.3 0 0 0-.152.082l-2.463 2.463a.3.3 0 0 0-.086.187l-.297 3.858a1.012 1.012 0 0 1-1.724.638l-3.139-3.139-4.716 4.716a.75.75 0 0 1-1.133-.977l.073-.084 4.715-4.716-3.139-3.138a1.01 1.01 0 0 1-.084-1.336l.084-.095c.171-.171.397-.275.638-.294l3.859-.296a.3.3 0 0 0 .187-.086l2.463-2.464a.3.3 0 0 0 .081-.151Zm1.196 1.668-.033.166c-.07.348-.24.667-.491.918L9.54 7.819a1.8 1.8 0 0 1-1.133.521l-2.801.216 5.837 5.837.216-2.8c.03-.374.174-.729.413-1.015l.108-.118 2.464-2.463c.25-.251.57-.422.918-.492l.165-.033z" /></g></symbol>',20,20,!1,void 0)},273301:(e,t,a)=>{a.d(t,{Icon20PinSlashOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20PinSlashOutline","pin_slash_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="pin_slash_outline_20"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M17.965 8.15a.75.75 0 0 1-.57.519l-1.567.315a.25.25 0 0 0-.134.075c-.224.241-.457.472-.69.705a.75.75 0 0 1-1.06-1.06l.65-.665c.25-.27.578-.453.938-.525l.194-.04-3.2-3.198-.036.182a1.75 1.75 0 0 1-.48.901l-.708.706a.75.75 0 0 1-1.057-1.064l.704-.702a.25.25 0 0 0 .069-.13l.306-1.563a.75.75 0 0 1 1.266-.386l5.187 5.183a.75.75 0 0 1 .188.747M7.996 13.065l3.139 3.14c.607.606 1.616.23 1.719-.586.084-.835.13-1.674.194-2.51l1.672 1.671a.75.75 0 1 0 1.06-1.06l-9.5-9.5a.75.75 0 1 0-1.06 1.06l1.67 1.67c-.845.067-1.718.076-2.555.206-.81.157-1.116 1.132-.539 1.71l3.139 3.138-4.788 4.8a.75.75 0 0 0 1.133.977zm3.448 1.33.208-2.682-3.369-3.369-2.67.212z" /></g></symbol>',20,20,!1,void 0)},17117:(e,t,a)=>{a.d(t,{Icon20ReportOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20ReportOutline","report_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="report_outline_20"><path d="M10.001 5.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75m-.9 8.4a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0" /><path fill-rule="evenodd" d="m17.326 14.814-2.514 2.514c-.432.433-.648.649-.9.803a2.5 2.5 0 0 1-.723.3c-.288.069-.594.069-1.205.069h-3.97c-.612 0-.918 0-1.206-.07a2.5 2.5 0 0 1-.723-.299c-.252-.154-.468-.37-.9-.803L2.67 14.814c-.432-.432-.648-.648-.802-.9a2.5 2.5 0 0 1-.3-.723c-.068-.288-.068-.593-.069-1.204V8.014c0-.611 0-.917.069-1.205a2.5 2.5 0 0 1 .3-.723c.154-.252.37-.468.803-.9L5.186 2.67c.432-.432.649-.648.9-.803a2.5 2.5 0 0 1 .723-.299c.288-.069.594-.069 1.205-.069h3.97c.611 0 .917 0 1.205.07a2.5 2.5 0 0 1 .723.298c.252.155.468.371.9.804l2.514 2.514c.432.432.648.648.803.9.137.224.238.468.3.723.068.288.068.593.068 1.205v3.972c0 .611 0 .917-.069 1.205a2.5 2.5 0 0 1-.299.723c-.155.252-.37.468-.803.9Zm-.474-1.706c-.062.101-.149.188-.321.36l-3.063 3.063c-.173.173-.26.26-.36.322a1 1 0 0 1-.29.12c-.115.027-.237.027-.482.027H7.662c-.245 0-.367 0-.482-.028a1 1 0 0 1-.29-.12c-.1-.061-.186-.148-.36-.32l-3.06-3.065c-.173-.172-.26-.259-.321-.36a1 1 0 0 1-.12-.289C3 12.704 3 12.582 3 12.338V7.663c0-.245 0-.367.027-.482a1 1 0 0 1 .12-.29c.062-.1.148-.187.321-.36l3.064-3.063c.173-.172.26-.259.36-.32a1 1 0 0 1 .29-.12C7.295 3 7.418 3 7.662 3h4.673c.245 0 .367 0 .482.028a1 1 0 0 1 .29.12c.1.061.187.148.36.32l3.063 3.063c.172.173.259.26.32.36q.084.136.12.29c.028.115.028.237.028.482v4.674c0 .245 0 .367-.027.482a1 1 0 0 1-.12.29Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},331870:(e,t,a)=>{a.d(t,{Icon20UserAddOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20UserAddOutline","user_add_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="user_add_outline_20"><path fill-rule="evenodd" d="M12.5 8.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5M8.5 6a4 4 0 1 1 8 0 4 4 0 0 1-8 0m-4-.25a.75.75 0 1 0-1.5 0v2H1a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2zm4.155 7.227c.865-.458 2.194-.727 3.845-.727 1.65 0 2.98.27 3.845.727.794.42 1.155.959 1.155 1.71a.7.7 0 0 1-.05.288.3.3 0 0 1-.092.12c-.077.063-.26.155-.599.155H8.241c-.34 0-.522-.092-.6-.156a.3.3 0 0 1-.09-.12.7.7 0 0 1-.051-.287c0-.751.36-1.29 1.155-1.71M12.5 10.75c-1.774 0-3.38.283-4.547.902C6.783 12.27 6 13.26 6 14.688c0 .688.268 1.217.687 1.563.408.337.956.499 1.554.499h8.518c.598 0 1.146-.162 1.555-.499.418-.346.686-.875.686-1.564 0-1.426-.783-2.416-1.953-3.035-1.168-.619-2.773-.902-4.547-.902" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},376499:(e,t,a)=>{a.d(t,{Icon20WriteOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon20WriteOutline","write_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="write_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M13.076 2.649A2.22 2.22 0 0 1 14.645 2c.566 0 1.135.216 1.568.649l1.137 1.136a2.21 2.21 0 0 1 0 3.133l-.941.94-9.17 9.179a3.3 3.3 0 0 1-2.33.963H3a1 1 0 0 1-1-1v-1.893a3.3 3.3 0 0 1 .965-2.34l8.123-8.132zm2.286 4.135.927-.926a.71.71 0 0 0 0-1.013l-1.137-1.136a.71.71 0 0 0-.507-.21.71.71 0 0 0-.507.21l-.927.926zM12.135 5.71l-8.109 8.118a1.8 1.8 0 0 0-.525 1.266V16.2a.3.3 0 0 0 .3.3H4.91c.475 0 .931-.189 1.267-.525l8.11-8.118-2.152-2.148z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},888219:(e,t,a)=>{a.d(t,{Icon24ChevronRight:()=>o});var o=(0,a(28178).makeIcon)("Icon24ChevronRight","chevron_right_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="chevron_right_24"><path fill="currentColor" d="M14.232 12 8.116 5.884a1.25 1.25 0 1 1 1.768-1.768l7 7a1.25 1.25 0 0 1 0 1.768l-7 7a1.25 1.25 0 0 1-1.768-1.768z" /></symbol>',24,24,!1,void 0)},479049:(e,t,a)=>{a.d(t,{Icon24Filter:()=>o});var o=(0,a(28178).makeIcon)("Icon24Filter","filter_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="filter_24"><path fill-rule="evenodd" d="M6.242 8.9a2.901 2.901 0 0 0 5.516 0H20a.9.9 0 1 0 0-1.8h-8.242a2.901 2.901 0 0 0-5.515 0H4a.9.9 0 1 0 0 1.8zM9 6.9a1.1 1.1 0 1 0 0 2.2 1.1 1.1 0 0 0 0-2.2M3.1 16a.9.9 0 0 1 .9-.9h8.242a2.901 2.901 0 0 1 5.516 0H20a.9.9 0 1 1 0 1.8h-2.242a2.901 2.901 0 0 1-5.516 0H4a.9.9 0 0 1-.9-.9m10.8 0a1.1 1.1 0 1 1 2.2 0 1.1 1.1 0 0 1-2.2 0" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},658508:(e,t,a)=>{a.d(t,{Icon28ChevronRightOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon28ChevronRightOutline","chevron_right_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="chevron_right_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path stroke="#8BC1FF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m11 7.5 6.5 6.5-6.5 6.5" /><path fill="currentColor" fill-rule="nonzero" d="m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414z" /></g></symbol>',28,28,!1,void 0)},693475:(e,t,a)=>{a.d(t,{Icon28FavoriteOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon28FavoriteOutline","favorite_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="favorite_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" fill-rule="nonzero" d="m14 19.178 5.69 3.476a.205.205 0 0 0 .306-.223l-1.547-6.485 5.064-4.338a.205.205 0 0 0-.117-.36l-6.646-.533-2.56-6.156a.205.205 0 0 0-.38 0l-2.56 6.156-6.646.533a.205.205 0 0 0-.117.36l5.064 4.338-1.547 6.485a.205.205 0 0 0 .306.223zm0 2.344L9.352 24.36a2.205 2.205 0 0 1-3.294-2.393l1.264-5.297-4.136-3.543a2.205 2.205 0 0 1 1.258-3.873l5.429-.435 2.091-5.028a2.205 2.205 0 0 1 4.072 0l2.091 5.028 5.429.435a2.205 2.205 0 0 1 1.258 3.873l-4.136 3.543 1.264 5.297a2.205 2.205 0 0 1-3.294 2.393z" /></g></symbol>',28,28,!1,void 0)},601523:(e,t,a)=>{a.d(t,{Icon28HistoryBackwardOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon28HistoryBackwardOutline","history_backward_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="history_backward_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" fill-rule="nonzero" d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12c-3.226 0-6.251-1.28-8.487-3.516a1 1 0 0 1 1.415-1.414A9.96 9.96 0 0 0 14 24c5.523 0 10-4.477 10-10S19.523 4 14 4a9.97 9.97 0 0 0-7.143 3H8.5a1 1 0 0 1 .117 1.993L8.5 9h-4a1 1 0 0 1-.993-.883L3.5 8V4a1 1 0 0 1 1.993-.117L5.5 4v1.529A11.97 11.97 0 0 1 14 2m0 6a1 1 0 0 1 .993.883L15 9v4.586l2.707 2.707a1 1 0 0 1-1.32 1.497l-.094-.083-3-3a1 1 0 0 1-.284-.576L13 14V9a1 1 0 0 1 1-1" /></g></symbol>',28,28,!1,void 0)},189741:(e,t,a)=>{a.d(t,{Icon28SearchOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon28SearchOutline","search_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="search_outline_28"><path fill="currentColor" fill-rule="evenodd" d="M13 4a9 9 0 1 0 5.618 16.032l4.675 4.675a1 1 0 0 0 1.414-1.414l-4.675-4.675A9 9 0 0 0 13 4m0 2a7 7 0 1 0 0 14 7 7 0 0 0 0-14" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},769532:(e,t,a)=>{a.d(t,{Icon36Hearts2Outline:()=>o});var o=(0,a(28178).makeIcon)("Icon36Hearts2Outline","hearts_2_outline_36","0 0 36 36",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 36 36" id="hearts_2_outline_36"><path fill-rule="evenodd" d="M3 20.54C3 16.907 5.998 14 9.645 14c1.872 0 3.492.82 4.855 2.257C15.864 14.82 17.483 14 19.355 14 23.002 14 26 16.906 26 20.54c0 1.926-.529 3.443-1.791 4.993-1.191 1.461-3.049 2.965-5.639 4.94l-2.712 2.07c-.8.61-1.915.61-2.715 0l-2.713-2.07c-2.59-1.975-4.447-3.479-5.638-4.94C3.529 23.983 3 22.466 3 20.54m6.645-4.04c-2.312 0-4.145 1.832-4.145 4.04 0 1.348.33 2.308 1.23 3.414.972 1.193 2.584 2.523 5.216 4.531l2.554 1.948 2.554-1.948c2.633-2.008 4.244-3.338 5.216-4.531.901-1.106 1.23-2.066 1.23-3.413 0-2.209-1.832-4.041-4.145-4.041-1.254 0-2.481.627-3.685 2.247a1.458 1.458 0 0 1-2.34 0c-1.203-1.62-2.43-2.247-3.685-2.247" clip-rule="evenodd" /><path fill-rule="evenodd" d="M11 10.06C11 6.638 13.935 4 17.382 4c1.77 0 3.312.738 4.618 2.042C23.306 4.738 24.848 4 26.618 4 30.065 4 33 6.638 33 10.06c0 1.273-.26 2.39-.904 3.48-.622 1.052-1.562 2.009-2.793 3.04a1.25 1.25 0 1 1-1.605-1.917c1.154-.966 1.839-1.707 2.245-2.396.385-.65.557-1.315.557-2.207 0-1.891-1.66-3.56-3.882-3.56-1.19 0-2.342.567-3.468 2.013a1.46 1.46 0 0 1-2.3 0C19.724 7.067 18.573 6.5 17.382 6.5c-2.222 0-3.882 1.669-3.882 3.56q0 .235.016.448a1.25 1.25 0 0 1-2.493.187A9 9 0 0 1 11 10.06" clip-rule="evenodd" /></symbol>',36,36,!1,void 0)},423177:(e,t,a)=>{a.d(t,{Icon36ListPlayOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon36ListPlayOutline","list_play_outline_36","0 0 36 36",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 36 36" id="list_play_outline_36"><path fill-rule="evenodd" d="M4 9.25C4 8.56 4.56 8 5.25 8h23.5a1.25 1.25 0 1 1 0 2.5H5.25C4.56 10.5 4 9.94 4 9.25m0 8c0-.69.56-1.25 1.25-1.25h11.5a1.25 1.25 0 1 1 0 2.5H5.25c-.69 0-1.25-.56-1.25-1.25m0 8c0-.69.56-1.25 1.25-1.25h11.5a1.25 1.25 0 1 1 0 2.5H5.25c-.69 0-1.25-.56-1.25-1.25m28.416-1.801a1.238 1.238 0 0 1 0 2.102l-8.575 5.269c-.808.497-1.841-.093-1.841-1.051V19.23c0-.958 1.033-1.548 1.841-1.051l8.575 5.269Z" /></symbol>',36,36,!1,void 0)},537090:(e,t,a)=>{a.d(t,{Icon56ErrorOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon56ErrorOutline","error_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="error_outline_56"><g fill="none" fill-rule="evenodd"><path d="M0 0h56v56H0z" /><path fill="currentColor" fill-rule="nonzero" d="M28 4c13.255 0 24 10.745 24 24S41.255 52 28 52 4 41.255 4 28 14.745 4 28 4m0 3C16.402 7 7 16.402 7 28s9.402 21 21 21 21-9.402 21-21S39.598 7 28 7m0 27a2 2 0 1 1 0 4 2 2 0 0 1 0-4m0-17.5a1.5 1.5 0 0 1 1.5 1.5v11l-.007.144A1.5 1.5 0 0 1 26.5 29V18l.007-.144A1.5 1.5 0 0 1 28 16.5" /></g></symbol>',56,56,!1,void 0)},491867:(e,t,a)=>{a.d(t,{Icon56LikeOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon56LikeOutline","like_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="like_outline_56"><g fill="none" fill-rule="evenodd"><path d="M0 0h56v56H0z" /><path fill="currentColor" fill-rule="nonzero" d="M18.29 11C11.501 11 6 16.502 6 23.29c0 6.865 2.752 10.308 14.455 19.41l5.396 4.198a3.5 3.5 0 0 0 4.298 0l5.396-4.197C47.248 33.598 50 30.155 50 23.289 50 16.502 44.498 11 37.71 11c-3.66 0-6.91 1.736-9.71 5.098C25.2 12.736 21.95 11 18.29 11m0 3c3.129 0 5.933 1.756 8.476 5.434l.206.297a1.25 1.25 0 0 0 2.056 0l.206-.297C31.777 15.756 34.58 14 37.71 14A9.29 9.29 0 0 1 47 23.29c0 5.616-2.29 8.482-13.297 17.043l-5.396 4.197a.5.5 0 0 1-.614 0l-5.396-4.197C11.29 31.772 9 28.906 9 23.289A9.29 9.29 0 0 1 18.29 14" /></g></symbol>',56,56,!1,void 0)},408081:(e,t,a)=>{a.d(t,{Icon56ListPlayOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon56ListPlayOutline","list_play_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="list_play_outline_56"><path fill="currentColor" fill-rule="evenodd" d="M24 39.5a1.5 1.5 0 0 0-1.5-1.5h-15a1.5 1.5 0 0 0 0 3h15a1.5 1.5 0 0 0 1.5-1.5m0-12a1.5 1.5 0 0 0-1.5-1.5h-15a1.5 1.5 0 0 0 0 3h15a1.5 1.5 0 0 0 1.5-1.5m26-12a1.5 1.5 0 0 0-1.5-1.5h-41a1.5 1.5 0 0 0 0 3h41a1.5 1.5 0 0 0 1.5-1.5m-.164 19.687c-.264-.593-1.05-1.047-2.62-1.956l-9.413-5.45c-1.576-.913-2.364-1.369-3.01-1.301a2 2 0 0 0-1.41.813C33 27.819 33 28.729 33 30.55v10.9c0 1.82 0 2.731.382 3.257a2 2 0 0 0 1.41.813c.647.068 1.435-.389 3.011-1.3l9.414-5.45c1.57-.91 2.355-1.364 2.619-1.957a2 2 0 0 0 0-1.626" clip-rule="evenodd" /></symbol>',56,56,!1,void 0)},202325:(e,t,a)=>{a.d(t,{Icon56MarketOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon56MarketOutline","market_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="market_outline_56"><g fill="none" fill-rule="nonzero"><path d="M0 0h56v56H0z" /><path fill="currentColor" d="M28 6c5.523 0 10 4.477 10 10h2.59c2.23 0 3.037.232 3.852.668a4.54 4.54 0 0 1 1.89 1.89c.436.815.668 1.623.668 3.852v13.77c0 4.458-.464 6.075-1.336 7.704a9.1 9.1 0 0 1-3.78 3.78c-1.63.872-3.246 1.336-7.703 1.336H21.819c-4.457 0-6.074-.464-7.703-1.336a9.1 9.1 0 0 1-3.78-3.78C9.464 42.254 9 40.638 9 36.181V22.41c0-2.23.232-3.037.668-3.852a4.54 4.54 0 0 1 1.89-1.89c.815-.436 1.623-.668 3.852-.668H18c0-5.523 4.477-10 10-10m12.83 13H15.41c-1.58 0-2.005.082-2.437.313a1.55 1.55 0 0 0-.66.66c-.219.409-.304.813-.312 2.197L12 36.18c0 3.612.255 4.931.981 6.29a6.1 6.1 0 0 0 2.55 2.549c1.358.726 2.677.981 6.288.981h12.362c3.61 0 4.93-.255 6.288-.981a6.1 6.1 0 0 0 2.55-2.55c.726-1.358.981-2.677.981-6.288V22.41c0-1.58-.082-2.005-.313-2.437a1.55 1.55 0 0 0-.66-.66c-.409-.219-.813-.304-2.197-.312m-21.287 3c.328 0 .58.06.792.174s.378.28.491.491c.114.212.174.464.174.792v.086c0 .328-.06.58-.174.792s-.28.378-.491.491c-.212.114-.464.174-.792.174h-.086c-.328 0-.58-.06-.792-.174a1.2 1.2 0 0 1-.491-.491c-.114-.212-.174-.464-.174-.792v-.086c0-.328.06-.58.174-.792s.28-.378.491-.491c.212-.114.464-.174.792-.174zm17 0c.328 0 .58.06.792.174s.378.28.491.491c.114.212.174.464.174.792v.086c0 .328-.06.58-.174.792s-.28.378-.491.491c-.212.114-.464.174-.792.174h-.086c-.328 0-.58-.06-.792-.174a1.2 1.2 0 0 1-.491-.491c-.114-.212-.174-.464-.174-.792v-.086c0-.328.06-.58.174-.792s.28-.378.491-.491c.212-.114.464-.174.792-.174zM28 9a7 7 0 0 0-7 7h14a7 7 0 0 0-7-7" /></g></symbol>',56,56,!1,void 0)},775701:(e,t,a)=>{a.d(t,{Icon56VideoOutline:()=>o});var o=(0,a(28178).makeIcon)("Icon56VideoOutline","video_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="video_outline_56"><path fill="currentColor" d="M37.745 6c3.566 0 4.859.371 6.162 1.069s2.327 1.72 3.025 3.024C47.629 11.396 48 12.69 48 16.256v23.489c0 3.566-.371 4.859-1.068 6.162a7.27 7.27 0 0 1-3.025 3.025C42.604 49.629 41.311 50 37.745 50h-19.49c-3.565 0-4.859-.371-6.162-1.068-1.304-.698-2.327-1.72-3.024-3.025S8 43.311 8 39.745v-23.49c0-3.565.371-4.859 1.069-6.162.697-1.304 1.72-2.327 3.024-3.024S14.689 6 18.255 6zm.314 3H18.256c-2.799 0-3.761.186-4.749.714a4.27 4.27 0 0 0-1.793 1.793c-.508.95-.7 1.876-.713 4.434L11 39.745c0 2.798.186 3.76.714 4.748a4.27 4.27 0 0 0 1.793 1.793c.988.528 1.95.714 4.749.714h19.489c2.798 0 3.76-.186 4.748-.714a4.27 4.27 0 0 0 1.793-1.793c.528-.988.714-1.95.714-4.748v-23.49c0-2.798-.186-3.76-.714-4.748a4.27 4.27 0 0 0-1.793-1.793c-.95-.508-1.876-.7-4.434-.713M18.72 38c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .606.046.77.134q.245.132.377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm20 0c.445 0 .606.046.77.134q.245.132.377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134z" /></symbol>',56,56,!1,void 0)},605879:(e,t,a)=>{a.d(t,{default:()=>o});const o={button:"IconButton-module__button--a4kvp"}},204704:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"Snackbar-module__root--xnmqx"}},981955:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"VirtualList-module__root--J4Lg9",viewport:"VirtualList-module__viewport--Mhqvr"}},792056:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"BlockFilter-module__root--zU6Je",icon:"BlockFilter-module__icon--a2krz"}},20734:(e,t,a)=>{a.d(t,{default:()=>o});const o={options:"Onboarding-module__options--jGIzR",saveButton:"Onboarding-module__saveButton--TL6Hu",doneBox:"Onboarding-module__doneBox--OJ4FA",headlineDone:"Onboarding-module__headlineDone--x4VcQ",doneBoxIcon:"Onboarding-module__doneBoxIcon--kSsQn"}},958953:(e,t,a)=>{a.d(t,{default:()=>o});const o={link:"OpenSearchTab-module__link--Vizcw"}},39856:(e,t,a)=>{a.d(t,{default:()=>o});const o={openSectionSliderCell:"OpenSectionSliderCell-module__openSectionSliderCell--J1uCD",openSectionSliderCard:"OpenSectionSliderCell-module__openSectionSliderCard--HBwOp",openSectionSliderCellButton:"OpenSectionSliderCell-module__openSectionSliderCellButton--op_pV",openSectionSliderCellButtonIcon:"OpenSectionSliderCell-module__openSectionSliderCellButtonIcon--LOX4N",openSectionSliderCellText:"OpenSectionSliderCell-module__openSectionSliderCellText--qq8im"}},694506:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"ShowFilters-module__root--Hko7J",iconBefore:"ShowFilters-module__iconBefore--tvbSU",headline:"ShowFilters-module__headline--ADhn4"}},755723:(e,t,a)=>{a.d(t,{default:()=>o});const o={title:"AudioPlaylist-module__title--s_yVp",subtitle:"AudioPlaylist-module__subtitle--Atqab",year:"AudioPlaylist-module__year--mvikD"}},822897:(e,t,a)=>{a.d(t,{default:()=>o});const o={banner:"Banner-module__banner--yKZgk",actionsWrapper:"Banner-module__actionsWrapper--tIehZ"}},616423:(e,t,a)=>{a.d(t,{default:()=>o});const o={chips:"Chips-module__chips--wX4Q1",chipsFadedOut:"Chips-module__chipsFadedOut--GEWw9",chipsHidden:"Chips-module__chipsHidden--NN9cw",chipsHeadline:"Chips-module__chipsHeadline--ykmgZ",chipsSubhead:"Chips-module__chipsSubhead--fkDwa"}},229879:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"DoubleStackedList-module__root--M0CVo",rootWithoutGrid:"DoubleStackedList-module__rootWithoutGrid--QyNVz"}},412068:(e,t,a)=>{a.d(t,{default:()=>o});const o={largeSliderCard:"GroupCategoryLargeItem-module__largeSliderCard--zp1DN"}},474059:(e,t,a)=>{a.d(t,{default:()=>o});const o={sliderCard:"GroupCollection-module__sliderCard--ujySp",singleSliderCard:"GroupCollection-module__singleSliderCard--ZwAbh"}},895514:(e,t,a)=>{a.d(t,{default:()=>o});const o={iconLeave:"GroupItem-module__iconLeave--rpCsj",government:"GroupItem-module__government--eIhwh",governmentIcon:"GroupItem-module__governmentIcon--ywLCW",stack:"GroupItem-module__stack--RFrjp",sliderCard:"GroupItem-module__sliderCard--LbBm0",sliderEvent:"GroupItem-module__sliderEvent--_RK4l",stacked:"GroupItem-module__stacked--olaIg"}},583268:(e,t,a)=>{a.d(t,{default:()=>o});const o={header:"HeaderCompact-module__header--VxEmR"}},111479:(e,t,a)=>{a.d(t,{default:()=>o});const o={iconSmall:"Link-module__iconSmall--TwHbd",iconUrl:"Link-module__iconUrl--PAUsH"}},708473:(e,t,a)=>{a.d(t,{default:()=>o});const o={card:"MarketItem-module__card--pPV9F",imageWrapper:"MarketItem-module__imageWrapper--KUtX9",image:"MarketItem-module__image--DxAT3",bookmark:"MarketItem-module__bookmark--KpZg5",body:"MarketItem-module__body--zM_XI",subtitle:"MarketItem-module__subtitle--ERK3x",header:"MarketItem-module__header--gUEMs",oldPrice:"MarketItem-module__oldPrice--Vfkcx",group:"MarketItem-module__group--kebSX",caption:"MarketItem-module__caption--a23WD",verified:"MarketItem-module__verified--ksVwr"}},167929:(e,t,a)=>{a.d(t,{default:()=>o});const o={musicCell:"MusicAudios-module__musicCell--ff7BJ",padding:"MusicAudios-module__padding--itPIY",moreIcon:"MusicAudios-module__moreIcon--PH4mv"}},775376:(e,t,a)=>{a.d(t,{default:()=>o});const o={placeholder:"Placeholder-module__placeholder--q1V0C",placeholderBig:"Placeholder-module__placeholderBig--bN6tb",placeholderStretched:"Placeholder-module__placeholderStretched--q4wlT",image:"Placeholder-module__image--FsJ1q"}},998106:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistBanner-module__root--_Xsd9",ratio:"PlaylistBanner-module__ratio--S65Up",verticalRatio:"PlaylistBanner-module__verticalRatio--sUoxf",thumb:"PlaylistBanner-module__thumb--FFWgM",blur:"PlaylistBanner-module__blur--iXm0j",verticalThumb:"PlaylistBanner-module__verticalThumb--Ng_AW",placeholder:"PlaylistBanner-module__placeholder--m7SbB"}},757830:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistCard-module__root--YO1_j",preview:"PlaylistCard-module__preview--bS1RT",thumb:"PlaylistCard-module__thumb--Di6wA",blur:"PlaylistCard-module__blur--rxbwc",counter:"PlaylistCard-module__counter--D5nzG",title:"PlaylistCard-module__title--j5Z7J"}},822474:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistHeader-module__root--HDRKw",titleWrapper:"PlaylistHeader-module__titleWrapper--XP0BL",avatar:"PlaylistHeader-module__avatar--WD2cC",title:"PlaylistHeader-module__title--e7RZM",subtitle:"PlaylistHeader-module__subtitle--zl8A4"}},790894:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"PlaylistPreview-module__root--_S_Yf",overlay:"PlaylistPreview-module__overlay--rFUgx",badge:"PlaylistPreview-module__badge--VVgjx"}},152626:(e,t,a)=>{a.d(t,{default:()=>o});const o={searchSpellcheck:"SearchSpellchecker-module__searchSpellcheck--FtfSw",searchSpellcheckSubtitle:"SearchSpellchecker-module__searchSpellcheckSubtitle--EoBzB",searchSpellcheckSubtitleButton:"SearchSpellchecker-module__searchSpellcheckSubtitleButton--P8OSR",searchSpellcheckTitle:"SearchSpellchecker-module__searchSpellcheckTitle--WYG0h",searchSpellcheckQuery:"SearchSpellchecker-module__searchSpellcheckQuery--NC0FC"}},480028:(e,t,a)=>{a.d(t,{default:()=>o});const o={suggestionItem:"SliderSuggestion-module__suggestionItem--J0IAh"}},366201:(e,t,a)=>{a.d(t,{default:()=>o});const o={content:"Slider-module__content--N6r_S",pagination:"Slider-module__pagination--rjv28",groupsItemSliderElement:"Slider-module__groupsItemSliderElement--aTctg"}},517837:(e,t,a)=>{a.d(t,{default:()=>o});const o={suggestionRemove:"Suggestion-module__suggestionRemove--SA6tU"}},109694:(e,t,a)=>{a.d(t,{default:()=>o});const o={catalogTripleStackedSliderInner:"TripleStackedSliderItems-module__catalogTripleStackedSliderInner--sm34D",catalogTripleStackedSliderColumn:"TripleStackedSliderItems-module__catalogTripleStackedSliderColumn--hJM4t",row:"TripleStackedSliderItems-module__row--Tvjsz"}},977795:(e,t,a)=>{a.d(t,{default:()=>o});const o={card:"ShortVideoCard-module__card--oVemx"}},233670:(e,t,a)=>{a.d(t,{default:()=>o});const o={cardRounded:"VideoCard-module__cardRounded--v2Fr3",cardRoundedSmall:"VideoCard-module__cardRoundedSmall--z8VGQ",info:"VideoCard-module__info--WIEDg",largeCard:"VideoCard-module__largeCard--fC2wJ",main:"VideoCard-module__main--IP5Pi",avatarWrapper:"VideoCard-module__avatarWrapper--l3jhz",titleWrapper:"VideoCard-module__titleWrapper--fZ61f",title:"VideoCard-module__title--CvNaR",subtitle:"VideoCard-module__subtitle--asxxI",userNameWrapper:"VideoCard-module__userNameWrapper--qvvbC",userName:"VideoCard-module__userName--Yderl",verifiedIcon:"VideoCard-module__verifiedIcon--a4MJg",viewIcon:"VideoCard-module__viewIcon--GvehF",views:"VideoCard-module__views--uP5Fh"}},726583:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"BlockFilter-module__root--MtcgW",icon:"BlockFilter-module__icon--_ooTH"}},191221:(e,t,a)=>{a.d(t,{default:()=>o});const o={title:"GroupItem-module__title--nvH48"}},928557:(e,t,a)=>{a.d(t,{default:()=>o});const o={separator:"IslandSeparator-module__separator--CeDrZ",lowerSeparatorWrapper:"IslandSeparator-module__lowerSeparatorWrapper--t6J_C",upperSeparator:"IslandSeparator-module__upperSeparator--fAg7D",lowerSeparator:"IslandSeparator-module__lowerSeparator--cMjNx"}},36702:(e,t,a)=>{a.d(t,{default:()=>o});const o={list:"List-module__list--_lBED"}},602843:(e,t,a)=>{a.d(t,{default:()=>o});const o={container:"PinnedVideo-module__container--N4NMq"}},537129:(e,t,a)=>{a.d(t,{default:()=>o});const o={shortVideoList:"ShortVideoList-module__shortVideoList--_jaPh"}},931482:(e,t,a)=>{a.d(t,{default:()=>o});const o={scrollContainer:"Slider-module__scrollContainer--e44Nn",groupContainer:"Slider-module__groupContainer--ZTNjj"}},419580:(e,t,a)=>{a.d(t,{default:()=>o});const o={item:"TripleStackedSliderItems-module__item--YAajV"}},287715:(e,t,a)=>{a.d(t,{default:()=>o});const o={sizeM:"VideoCardSlider-module__sizeM--VJTHC",sizeS:"VideoCardSlider-module__sizeS--_j1Rj",container:"VideoCardSlider-module__container--VFv3B"}},335228:(e,t,a)=>{a.d(t,{default:()=>o});const o={container:"OpenUrl-module__container--CZ1hU",link:"OpenUrl-module__link--Fp8xZ"}},804549:(e,t,a)=>{a.d(t,{default:()=>o});const o={itemVerification:"CatalogUser-module__itemVerification--JTnyY",extraDescription:"CatalogUser-module__extraDescription--Wdd8R"}},612103:(e,t,a)=>{a.d(t,{default:()=>o});const o={buttonRemove:"CatalogUserButton-module__buttonRemove--gR2Tk"}},203373:(e,t,a)=>{a.d(t,{default:()=>o});const o={buttonLeave:"GroupItemButton-module__buttonLeave--PQQUK"}},286434:(e,t,a)=>{a.d(t,{default:()=>o});const o={government:"GroupItemDescription-module__government--YgfA3",governmentIcon:"GroupItemDescription-module__governmentIcon--UxRpa",userStack:"GroupItemDescription-module__userStack--Yfi0O"}},147946:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"HeaderCompact-module__root--KEKi3"}},436005:(e,t,a)=>{a.d(t,{default:()=>o});const o={button:"ClearRecentGroups-module__button--eQoeh",icon:"ClearRecentGroups-module__icon--gQ0OU",link:"ClearRecentGroups-module__link--y0cM9"}},252496:(e,t,a)=>{a.d(t,{default:()=>o});const o={list:"List-module__list--_d6Ww"}},396455:(e,t,a)=>{a.d(t,{default:()=>o});const o={card:"MarketItem-module__card--yJ25a"}},153120:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"Slider-module__root--MrteC",inner:"Slider-module__inner--inreZ"}},892606:(e,t,a)=>{a.d(t,{default:()=>o});const o={cardRounded:"VideoCard-module__cardRounded--dvZui",cardRoundedSmall:"VideoCard-module__cardRoundedSmall--kkj_i",info:"VideoCard-module__info--Zz8T5",main:"VideoCard-module__main--o5uwP",avatarWrapper:"VideoCard-module__avatarWrapper--ub_TK",titleWrapper:"VideoCard-module__titleWrapper--Ms246",title:"VideoCard-module__title--PdX1w",action:"VideoCard-module__action--juyCs",viewsFull:"VideoCard-module__viewsFull--ZPEL0"}},135171:(e,t,a)=>{a.d(t,{default:()=>o});const o={authors:"List-module__authors--vqD5X"}},371456:(e,t,a)=>{a.d(t,{default:()=>o});const o={list:"ListCommunity-module__list--j0SED"}},8064:(e,t,a)=>{a.d(t,{default:()=>o});const o={author:"SearchAuthor-module__author--wMQgy"}},107095:(e,t,a)=>{a.d(t,{default:()=>o});const o={searchSpellcheck:"SearchSpellchecker-module__searchSpellcheck--YI1p7"}},630757:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"DynamicPagination-module__root--sC7FF",rootHidden:"DynamicPagination-module__rootHidden--XQzXr",pagination:"DynamicPagination-module__pagination--CwPIE",paginationHidden:"DynamicPagination-module__paginationHidden--e5uRf"}},786157:(e,t,a)=>{a.d(t,{default:()=>o});const o={root:"VideoListItem-module__root--KiSEH",preview:"VideoListItem-module__preview--lGfr9",info:"VideoListItem-module__info--pTJQk",main:"VideoListItem-module__main--uFoXI",title:"VideoListItem-module__title--_dTwW",subtitle:"VideoListItem-module__subtitle--ax0jK",endAdornment:"VideoListItem-module__endAdornment--Y6QI4"}},363207:(e,t,a)=>{a.d(t,{default:()=>o});const o={video:"VideoPreview-module__video--uO9Xu",videoRounded:"VideoPreview-module__videoRounded--CvBzB",videoPage:"VideoPreview-module__videoPage--oNstn",videoDuration:"VideoPreview-module__videoDuration--yLlQi",videoLive:"VideoPreview-module__videoLive--Gjftk",videoUpcomingLive:"VideoPreview-module__videoUpcomingLive--oqjrp",videoImage:"VideoPreview-module__videoImage--h3ni6",views:"VideoPreview-module__views--_aM9w",previewFailed:"VideoPreview-module__previewFailed--h_zfS",processingLabel:"VideoPreview-module__processingLabel--VHoxT",adultLock:"VideoPreview-module__adultLock--tCuHu",cornerIcon:"VideoPreview-module__cornerIcon--kx3Ka",cornerIconPrivacy:"VideoPreview-module__cornerIconPrivacy--dL0d3",progressBar:"VideoPreview-module__progressBar--LgtO1",progress:"VideoPreview-module__progress--d4DXW",playBtn:"VideoPreview-module__playBtn--h8H4s",videoImageBlur:"VideoPreview-module__videoImageBlur--jiwub",videoBlur:"VideoPreview-module__videoBlur--Ri0mp",overlay:"VideoPreview-module__overlay--ffAAC"}},944278:(e,t,a)=>{a.d(t,{default:()=>o});const o={overlay:"VideoPreviewOverlay-module__overlay--U6kk9",title:"VideoPreviewOverlay-module__title--s2Rj3",icon:"VideoPreviewOverlay-module__icon--bkCQL",center:"VideoPreviewOverlay-module__center--CEJ4Y",text:"VideoPreviewOverlay-module__text--N_iwM",blur:"VideoPreviewOverlay-module__blur--wXHLk"}},68743:(e,t,a)=>{a(38672)},433581:(e,t,a)=>{a.d(t,{observer:()=>l.observer});a(809991);var o,r=a(321645),i=a(356158),n=(a(38672),a(391367),a(992449)),l=a(350666);a(68743),a(764947),a(433579),a(548495);(0,i.observerBatching)(r.unstable_batchedUpdates);o=n.observerFinalizationRegistry.finalizeAllImmediately},350666:(e,t,a)=>{a.d(t,{observer:()=>c});var o=a(667294),r=a(391367),i=a(38672),n="function"==typeof Symbol&&Symbol.for,l=n?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&(0,o.forwardRef)((function(e){return null})).$$typeof,s=n?Symbol.for("react.memo"):"function"==typeof o.memo&&(0,o.memo)((function(e){return null})).$$typeof;function c(e,t){var a;if(s&&e.$$typeof===s)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if((0,r.isUsingStaticRendering)())return e;var n=null!==(a=null==t?void 0:t.forwardRef)&&void 0!==a&&a,c=e,u=e.displayName||e.name;if(l&&e.$$typeof===l&&(n=!0,"function"!=typeof(c=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var p,_,m=function(e,t){return(0,i.useObserver)((function(){return c(e,t)}),u)};return m.displayName=e.displayName,Object.defineProperty(m,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(m.contextTypes=e.contextTypes),n&&(m=(0,o.forwardRef)(m)),m=(0,o.memo)(m),p=e,_=m,Object.keys(p).forEach((function(e){d[e]||Object.defineProperty(_,e,Object.getOwnPropertyDescriptor(p,e))})),m}var d={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0}},391367:(e,t,a)=>{a.d(t,{enableStaticRendering:()=>r,isUsingStaticRendering:()=>i});var o=!1;function r(e){o=e}function i(){return o}},548495:(e,t,a)=>{a.d(t,{useAsObservableSource:()=>n});var o=a(168949),r=a(667294),i=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var o,r,i=a.call(e),n=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)n.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return n};function n(e){var t=i((0,r.useState)((function(){return(0,o.observable)(e,{},{deep:!1})})),1)[0];return(0,o.runInAction)((function(){Object.assign(t,e)})),t}},764947:(e,t,a)=>{a(168949),a(667294)},433579:(e,t,a)=>{a(168949),a(667294),a(548495)},38672:(e,t,a)=>{a.d(t,{useObserver:()=>u});var o=a(168949),r=a(667294),i=a(903821),n=a(391367),l=a(992449),s=a(61688),c=function(){};function d(e){e.reaction=new o.Reaction("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}function u(e,t){if(void 0===t&&(t="observed"),(0,n.isUsingStaticRendering)())return e();var a=r.useRef(null);if(!a.current){var o={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return l.observerFinalizationRegistry.unregister(o),o.onStoreChange=e,o.reaction||(d(o),o.stateVersion=Symbol()),function(){var e;o.onStoreChange=null,null===(e=o.reaction)||void 0===e||e.dispose(),o.reaction=null}},getSnapshot:function(){return o.stateVersion}};a.current=o}var u,p,_=a.current;if(_.reaction||(d(_),l.observerFinalizationRegistry.register(a,_,_)),r.useDebugValue(_.reaction,i.printDebugValue),(0,s.useSyncExternalStore)(_.subscribe,_.getSnapshot,c),_.reaction.track((function(){try{u=e()}catch(e){p=e}})),p)throw p;return u}},146325:(e,t,a)=>{a.d(t,{UniversalFinalizationRegistry:()=>r});var o=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var a=Date.now();t.registrations.forEach((function(o,r){a-o.registeredAt>=e&&(t.finalize(o.value),t.registrations.delete(r))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,a){this.registrations.set(a,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),r="undefined"!=typeof FinalizationRegistry?FinalizationRegistry:o},809991:(e,t,a)=>{var o=a(168949);if(!a(667294).useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!o.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available")},356158:(e,t,a)=>{a.d(t,{observerBatching:()=>i});var o=a(168949);function r(e){e()}function i(e){e||(e=r),(0,o.configure)({reactionScheduler:e})}},992449:(e,t,a)=>{a.d(t,{observerFinalizationRegistry:()=>o});var o=new(a(146325).UniversalFinalizationRegistry)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null}))},903821:(e,t,a)=>{a.d(t,{printDebugValue:()=>r});var o=a(168949);function r(e){return(0,o.getDependencyTree)(e)}},321645:(e,t,a)=>{a.d(t,{unstable_batchedUpdates:()=>o.unstable_batchedUpdates});var o=a(973935)},146427:(e,t,a)=>{a.d(t,{FriendsFriendStatusStatusEnumNames:()=>o});const o={NOT_A_FRIEND:0,OUTCOMING_REQUEST:1,INCOMING_REQUEST:2,IS_FRIEND:3}},127160:(e,t,a)=>{a.d(t,{GroupsGroupFullMemberStatusEnumNames:()=>o});const o={NOT_A_MEMBER:0,MEMBER:1,NOT_SURE:2,DECLINED:3,HAS_SENT_A_REQUEST:4,INVITED:5}},159380:(e,t,a)=>{a.d(t,{MarketMarketItemAvailabilityEnumNames:()=>o});const o={AVAILABLE:0,REMOVED:1,UNAVAILABLE:2}},599801:(e,t,a)=>{a.d(t,{useElementSize:()=>i});var o=a(667294),r=a(659397);function i(){const[e,t]=(0,o.useState)({width:0,height:0}),[a,i]=(0,o.useState)(null),n=(0,o.useCallback)((()=>{t((e=>{const{offsetHeight:t=0,offsetWidth:o=0}=a||{};return e.height!==t||e.width!==o?{height:t,width:o}:e}))}),[a]);return(0,o.useEffect)((()=>{const e=(0,r.debounce)(n,50);return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[n]),(0,o.useEffect)(n),[i,e]}},4483:(e,t,a)=>{a.d(t,{useUniqId:()=>i});var o=a(667294),r=a(659397);function i(){return`:r${(0,o.useRef)((0,r.getRandomString)(6)).current}:`}},484598:(e,t,a)=>{a.d(t,{createCatalogGetAudioSearchFx:()=>c,createCatalogGetBlockItemsFx:()=>g,createCatalogGetClassifiedsFx:()=>r,createCatalogGetOwnerVideosSearchFx:()=>m,createCatalogGetPeopleSearchFx:()=>n,createCatalogGetSearchGamesFx:()=>p,createCatalogGetSearchGroupsFx:()=>v,createCatalogGetSearchMiniAppsFx:()=>u,createCatalogGetSectionFx:()=>i,createCatalogGetShortVideoSearchFx:()=>S,createCatalogGetVideoFx:()=>s,createCatalogGetVideoSearchWeb2Fx:()=>d,createCatalogHideBlockFx:()=>l,createCatalogReplaceBlocksFx:()=>_});var o=a(876354);const r=e=>(0,o.createApiEffect)("catalog.getClassifieds",e),i=e=>(0,o.createApiEffect)("catalog.getSection",e),n=e=>(0,o.createApiEffect)("catalog.getPeopleSearch",e),l=e=>(0,o.createApiEffect)("catalog.hideBlock",e),s=e=>(0,o.createApiEffect)("catalog.getVideo",e),c=e=>(0,o.createApiEffect)("catalog.getAudioSearch",e),d=e=>(0,o.createApiEffect)("catalog.getVideoSearchWeb2",e),u=e=>(0,o.createApiEffect)("catalog.getSearchMiniApps",e),p=e=>(0,o.createApiEffect)("catalog.getSearchGames",e),_=e=>(0,o.createApiEffect)("catalog.replaceBlocks",e),m=e=>(0,o.createApiEffect)("catalog.getOwnerVideosSearch",e),g=e=>(0,o.createApiEffect)("catalog.getBlockItems",e),v=e=>(0,o.createApiEffect)("catalog.getSearchGroups",e),S=e=>(0,o.createApiEffect)("catalog.getShortVideoSearch",e)},62628:(e,t,a)=>{a.d(t,{createFetchMarketItemsFx:()=>r,createMarketAddToCartFx:()=>_,createMarketDeleteAlbumFx:()=>p,createMarketDeleteFx:()=>f,createMarketGetAlbumByIdFx:()=>u,createMarketGetAlbumsFx:()=>c,createMarketGetByIdFx:()=>n,createMarketGetEditUrlFx:()=>S,createMarketGetItemReviewsFx:()=>i,createMarketGetSellerResponseTimeFx:()=>d,createMarketGetServiceRatingFx:()=>m,createMarketGetSettingsFx:()=>s,createMarketGetTotalCountersFx:()=>l,createMarketRemoveFromCartFx:()=>g,createMarketReorderAlbumsFx:()=>v});var o=a(876354);const r=e=>(0,o.createApiEffect)("market.get",e),i=e=>(0,o.createApiEffect)("market.getItemReviews",e),n=e=>(0,o.createApiEffect)("market.getById",e),l=e=>(0,o.createApiEffect)("market.getCounters",e),s=e=>(0,o.createApiEffect)("market.getSettings",e),c=e=>(0,o.createApiEffect)("market.getAlbums",e),d=e=>(0,o.createApiEffect)("market.getSellerResponseTime",e),u=e=>(0,o.createApiEffect)("market.getAlbumById",e),p=e=>(0,o.createApiEffect)("market.deleteAlbum",e),_=e=>(0,o.createApiEffect)("market.addToCart",e),m=e=>(0,o.createApiEffect)("market.getServiceRating",e),g=e=>(0,o.createApiEffect)("market.removeFromCart",e),v=e=>(0,o.createApiEffect)("market.reorderAlbums",e),S=e=>(0,o.createApiEffect)("market.getEditUrl",e),f=e=>(0,o.createApiEffect)("market.delete",e)},399293:(e,t,a)=>{a.d(t,{createWallSubscribeFx:()=>r,createWallUnsubscribeFx:()=>i});var o=a(876354);const r=e=>(0,o.createApiEffect)("wall.subscribe",e),i=e=>(0,o.createApiEffect)("wall.unsubscribe",e)},836993:(e,t,a)=>{a.d(t,{useHelpHint:()=>i});var o=a(509793),r=a(112494);const i=e=>(0,r.useEntitiesStore)((0,o.ensureAccountHelpHintsService)().$helpHints,e)},827351:(e,t,a)=>{a.d(t,{getCommunityCoverGradient:()=>o});const o=(e="#CFD9E9")=>`radial-gradient(88.27% 156.47% at 6.53% 87.17%, ${e} 0%, ${e}45 100%)`},126160:(e,t,a)=>{a.d(t,{getScrollTop:()=>o});const o=()=>window.scrollY||window.pageYOffset||document.body.scrollTop||document.documentElement&&document.documentElement.scrollTop||0},626749:(e,t,a)=>{a.d(t,{hyphenateStyleName:()=>i});const o=/([A-Z])/g,r=new Map,i=e=>{const t=r.get(e);if(t)return t;let a=e.replace(o,"-$1").toLowerCase();return a.startsWith("ms-")&&(a=`-${a}`),r.set(e,a),a}},397631:(e,t,a)=>{a.d(t,{splitRawId:()=>o});const o=e=>{const[t,a,o]=e.split("_");return{ownerId:Number(t),itemId:Number(a),externalId:void 0!==o?o:null}}},150108:(e,t,a)=>{a.d(t,{isValidUrl:()=>i,makeUrl:()=>r});var o=a(437037);function r(e,t,a=!0){if(!t)return e;const[r,i]=e.split("?"),n={},l=[];return i&&i.split("&").map((e=>{const[a,o]=e.split("=");a in t||(t[a]=o)})),Object.keys(t).forEach((e=>{const a=t[e];var r;("string"==typeof(r=a)&&r||(0,o.isNumber)(a))&&(n[e]=a)})),Object.keys(n).forEach((e=>{const t=a?encodeURIComponent(n[e]):n[e];l.push(`${e}=${t}`)})),0===l.length?r:`${r}?${l.join("&")}`}const i=e=>{try{return new URL(e),!0}catch{}return!1}},892979:(e,t,a)=>{a.d(t,{AudioPlayerContext:()=>i});var o=a(667294),r=a(93799);const i=(0,o.createContext)({status:r.AudioPlayerStatus.NO,currentAudio:null,currentPlaylist:null,currentAudioProgress:0,currentAudioVolume:0,audioPlayerContext:""})},93799:(e,t,a)=>{var o;a.d(t,{AudioPlayerStatus:()=>o,RADIO_PLAYLIST_ID:()=>r}),function(e){e.NO="no",e.INIT="init",e.LOADING="loading",e.PLAYING="playing",e.PAUSED="paused",e.ENDED="ended",e.STOPPED="stopped"}(o||(o={}));const r=-110},340288:(e,t,a)=>{a.d(t,{useAudioPlayer:()=>i});var o=a(667294),r=a(892979);const i=()=>(0,o.useContext)(r.AudioPlayerContext)},65428:(e,t,a)=>{a.d(t,{Catalog:()=>p});var o=a(785893),r=a(667294),i=a(504190),n=a(86894),l=a(366005),s=a(863619),c=a(789581),d=a(234862),u=a(806660);const p=({blockLayoutResolver:e,catalog:t,nextFromSections:a,loadingBlockIds:p,extendedData:_,onGetSection:m=(()=>{}),onGetBlockItems:g=(()=>{}),onPendingSection:v=(()=>{}),onErrorSection:S=(()=>{}),onSelectAction:f,onCatalogUpdate:C=(()=>{}),show:h=!0,island:I,sliderProps:E,collectClick:y,collectView:k,catalogVars:A,platformVars:T,blockResolvers:R,isIndexUsedAsBlockKey:x,withStretchedPlaceholders:L,appCatalogService:O=l.appCatalogService})=>{const w=(0,i.useStore)(O.catalogService.$catalog),b=(0,i.useStore)(O.catalogService.$sections),N=(0,i.useStore)(O.catalogService.$sectionResponse),V=(0,i.useUnit)(O.catalogService.$catalogGetBlockItemsResponse),P=(0,i.useStore)(O.catalogService.$isSectionPending),B=(0,i.useStore)(O.catalogService.$fetchSectionError),M=(0,i.useStore)(O.actionsService.$selectedAction),D=(0,i.useStore)(O.catalogService.$updatedCatalog),j=(0,i.useStore)(O.catalogService.$lastSectionId),F=(0,i.useStore)(O.catalogService.$nextFrom),G=(0,i.useStore)(O.layoutService.$snackbar),U=(0,i.useStore)(O.layoutService.$popout),H=(0,i.useEvent)(O.catalogService.fireLoadingBlockIds),$=(0,i.useEvent)(O.catalogService.fireClearSectionResponse),z=(0,i.useEvent)(O.catalogService.fireClearUpdatedCatalog),W=(0,i.useEvent)(O.catalogService.fireSetCatalog),K=(0,i.useEvent)(O.layoutService.setSnackbar),Y=(0,i.useEvent)(O.pageService.fireSetCacheId),q=(0,i.useEvent)(O.actionsService.selectAction),Q=(0,i.useEvent)(O.pageService.fireSetPageId),Z=(0,i.useEvent)(O.pageService.fireSetCatalogType),X=(0,i.useEvent)(O.storiesService.fireSetStoriesOpener),J=(0,i.useEvent)(O.catalogService.fireSetSections),ee=(0,i.useEvent)(O.fireSetExtendedData),te=(0,i.useEvent)(O.catalogService.fireClearCatalogGetBlockItemsResponse),ae=(0,r.useMemo)((()=>w?.sections?.find((({id:e})=>e===w?.default_section))),[w?.sections,w?.default_section]),oe=(0,r.useMemo)((()=>(0,c.unionBlocksByLayout)(ae?[ae,...b]:b)),[ae,b,ae?.blocks?.length]);if((0,r.useEffect)((()=>{K(null)}),[ae]),(0,r.useEffect)((()=>{p&&H(p)}),[p]),(0,r.useEffect)((()=>{Y(A?.cacheId||"")}),[A?.cacheId]),(0,r.useEffect)((()=>{N&&(m(N),$())}),[N]),(0,r.useEffect)((()=>{V&&V.block&&(g(V),te())}),[V]),(0,r.useEffect)((()=>{v(P)}),[P]),(0,r.useEffect)((()=>{S(B)}),[B]),(0,r.useEffect)((()=>{M&&f&&f(M)}),[M]),(0,r.useEffect)((()=>{(ae||b.length>0)&&q(null)}),[ae,b]),(0,r.useEffect)((()=>{if(D){const e=window.location.href;C({id:e,updatedCatalog:D,cacheId:A?.cacheId||""}),z()}}),[D]),(0,r.useEffect)((()=>{t&&W(t)}),[t]),(0,r.useEffect)((()=>{_&&ee(_)}),[_]),(0,r.useEffect)((()=>{a&&J(a)}),[a]),(0,r.useEffect)((()=>{A?.pageId&&Q(A.pageId)}),[A?.pageId]),(0,r.useEffect)((()=>{A?.catalogType&&Z(A.catalogType)}),[A?.catalogType]),(0,r.useEffect)((()=>{T?.openStories&&X(T.openStories)}),[T?.openStories]),(0,r.useEffect)((()=>()=>{W({sections:[],default_section:""})}),[]),!h)return null;const re=t=>t.map(((t,a)=>{if(!t?.id)return null;const o=e(t),i=x?`section_${a}`:`${t.id}_section_${a}`;return(0,r.createElement)(o,{...t,blockIndex:a,key:i})}));return(0,o.jsx)(d.CatalogConfigProvider,{...T,blockResolvers:R,appCatalogService:O,withStretchedPlaceholders:L,sliderProps:E,children:(0,o.jsx)(d.CatalogLogProvider,{collectClick:y,collectView:k,children:(0,o.jsx)(d.CatalogOwnerProvider,{children:(0,o.jsx)(n.SplitLayout,{popout:U,children:(0,o.jsxs)(n.SplitCol,{children:[I?(0,c.splitCatalogBlocksByIsland)(oe).map(((e,t)=>(0,o.jsx)(u.Group,{mode:"card",children:re(e)},`${e[0]?.id}_section_group_${t}`))):re(oe),(0,o.jsx)(s.NextFrom,{nextFrom:F,sectionId:j,rootMargin:A?.rootMargin},j),G]})})})})})}},804312:(e,t,a)=>{a(785893),a(667294),a(234862),a(65428),a(469758)},841723:(e,t,a)=>{a.d(t,{addAudio:()=>w,addFriend:()=>l,addRecent:()=>_,addToPlaylist:()=>v,addVideo:()=>S,agreeBlurRestriction:()=>B,clearSearchRecent:()=>c,deleteAudio:()=>b,deleteFriend:()=>s,deleteVideo:()=>f,faveAddPost:()=>k,faveAddProduct:()=>u,faveAddVideo:()=>C,faveRemovePost:()=>A,faveRemoveProduct:()=>p,faveRemoveVideo:()=>I,followRadioStation:()=>N,getPlaylistsByVideoExtended:()=>R,getPlaylistsExtended:()=>x,getSection:()=>i,getStories:()=>n,groupsRemoveRecent:()=>d,likeAdd:()=>m,likeDelete:()=>g,markNotInterested:()=>h,removeFromPlaylist:()=>E,removeSearchRecentQuery:()=>M,removeViewingHistoryRecords:()=>y,restoreAudio:()=>P,saveSelection:()=>T,subscribeToVideoPlaylist:()=>L,unfollowRadioStation:()=>V,unsubscribeFromVideoPlaylist:()=>O});var o=a(166695),r=a(413189);a(34467);function i(e,t){return(0,o.api)(r.CATALOG_API_METHODS.GET_SECTION,{...e},void 0,t)}function n(e){return(0,o.api)(r.CATALOG_API_METHODS.GET_STORIES,{...e})}function l(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_FRIEND,e)}function s(e){return(0,o.api)(r.CATALOG_API_METHODS.DELETE_FRIEND,e)}function c(e){return(0,o.api)(r.CATALOG_API_METHODS.CLEAR_RECENT,{...e})}function d(e){return(0,o.api)(r.CATALOG_API_METHODS.GROUPS_REMOVE_RECENT,{...e})}function u(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_ADD_PRODUCT,{...e})}function p(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_REMOVE_PRODUCT,{...e})}function _(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_RECENT,e)}function m(e){return(0,o.api)(r.CATALOG_API_METHODS.LIKES_ADD,e)}function g(e){return(0,o.api)(r.CATALOG_API_METHODS.LIKES_DELETE,e)}function v(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_VIDEO_TO_PLAYLIST,e)}function S(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_VIDEO,e)}function f(e){return(0,o.api)(r.CATALOG_API_METHODS.DELETE_VIDEO,e)}function C(e){return(0,o.api)(r.CATALOG_API_METHODS.ADD_VIDEO_TO_FAVE,e)}function h(e){return(0,o.api)(r.CATALOG_API_METHODS.MARK_VIDEO_NOT_INTERESTED,e)}function I(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_VIDEO_FROM_FAVE,e)}function E(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_VIDEO_FROM_PLAYLIST,e)}function y(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_VIEWING_HISTORY_RECORDS,e)}function k(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_ADD_POST,e)}function A(e){return(0,o.api)(r.CATALOG_API_METHODS.FAVE_REMOVE_POST,e)}function T(e){return(0,o.api)(r.CATALOG_API_METHODS.SAVE_SELECTION,e)}function R(e,t){return(0,o.api)(r.CATALOG_API_METHODS.GET_PLAYLISTS_BY_VIDEO,e,void 0,t)}function x(e,t){return(0,o.api)(r.CATALOG_API_METHODS.GET_PLAYLISTS,e,void 0,t)}function L(e){return(0,o.api)(r.CATALOG_API_METHODS.SUBSCRIBE_TO_ALBUM,e)}function O(e){return(0,o.api)(r.CATALOG_API_METHODS.UNSUBSCRIBE_TO_ALBUM,e)}function w(e,t){return(0,o.api)(r.CATALOG_API_METHODS.ADD_AUDIO,e,void 0,t)}function b(e,t){return(0,o.api)(r.CATALOG_API_METHODS.DELETE_AUDIO,e,void 0,t)}function N(e,t){return(0,o.api)(r.CATALOG_API_METHODS.FOLLOW_RADIO_STATION,e,void 0,t)}function V(e,t){return(0,o.api)(r.CATALOG_API_METHODS.UNFOLLOW_RADIO_STATION,e,void 0,t)}function P(e,t){return(0,o.api)(r.CATALOG_API_METHODS.RESTORE_AUDIO,e,void 0,t)}function B(e){return(0,o.api)(r.CATALOG_API_METHODS.AGREE_BLUR_RESTRICTION,e)}function M(e){return(0,o.api)(r.CATALOG_API_METHODS.REMOVE_SEARCH_RECENT_QUERY,e)}},326045:(e,t,a)=>{a.d(t,{IconButton:()=>l});var o=a(785893),r=a(659397),i=a(981284),n=a(605879);const l=({className:e,children:t,...a})=>(0,o.jsx)(i.IconButton,{className:(0,r.classNames)(n.default.button,e),...a,children:t})},229488:(e,t,a)=>{a.d(t,{IconButton:()=>o.IconButton});var o=a(326045)},906683:(e,t,a)=>{a.d(t,{Snackbar:()=>_});var o=a(785893),r=a(647605),i=a(690839),n=a(86894),l=a(659397),s=a(130593),c=a(977053),d=a(234862),u=a(969660),p=a(204704);const _=({event:e,content:t="",isError:a,actionLink:_,onClose:m=(()=>{}),onActionClick:g,...v})=>{const{navGo:S}=(0,d.useCatalogConfig)(),f=(0,c.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");return(0,o.jsx)(n.Snackbar,{layout:"vertical",before:a?(0,o.jsx)(r.Icon24ErrorCircleOutline,{className:(0,s.getColorClass)("color_accent_red")}):f?(0,u.getSnackbarStatusIcon)(e):(0,o.jsx)(i.Icon24CheckCircleOn,{className:(0,s.getColorClass)("color_accent_blue")}),onClose:m,duration:5e3,className:p.default.root,onActionClick:_?()=>{S(_)}:g,...v,children:(0,l.decodeHTMLEntities)(e?(0,u.getSnackbarStatusText)(e):t)})}},653890:(e,t,a)=>{a.d(t,{Snackbar:()=>o.Snackbar});var o=a(906683)},969660:(e,t,a)=>{a.d(t,{getSnackbarStatusIcon:()=>u,getSnackbarStatusText:()=>d});var o=a(785893),r=a(471828),i=a(903999),n=a(910301),l=a(690839),s=a(130593),c=a(977053);const d=e=>{const t=(0,c.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");switch(e){case i.SNACKBAR_EVENTS.ADD_TO_FAVE:return t?r.getLang("mobile_video_added_to_watch_later"):r.getLang("mobile_video_added_to_fave");case i.SNACKBAR_EVENTS.REMOVE_FROM_FAVE:return t?r.getLang("mobile_video_removed_from_watch_later"):r.getLang("mobile_video_removed_from_fave");case i.SNACKBAR_EVENTS.ADD_TO_MY:return r.getLang("mobile_video_added_to_my_videos");case i.SNACKBAR_EVENTS.REMOVE_FROM_MY:return r.getLang("mobile_video_removed_from_my_videos");case i.SNACKBAR_EVENTS.REMOVE_FROM_GROUP:return r.getLang("mobile_video_removed_from_group");case i.SNACKBAR_EVENTS.ADD_TO_PLAYLIST:return r.getLang("mobile_video_added_to_playlist");case i.SNACKBAR_EVENTS.ADD_TO_PLAYLISTS:return r.getLang("mobile_video_added_to_playlists");case i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLIST:return r.getLang("mobile_video_removed_from_playlist");case i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLISTS:return r.getLang("mobile_video_removed_from_playlists");case i.SNACKBAR_EVENTS.COPY_LINK:return r.getLang("mobile_video_link_copied");case i.SNACKBAR_EVENTS.COPY_ERID:return r.getLang("mobile_video_erid_copied");case i.SNACKBAR_EVENTS.ORD_ADDED:return r.getLang("mobile_video_ord_snackbar_added");case i.SNACKBAR_EVENTS.DELETE_PLAYLIST:return r.getLang("mobile_video_playlist_deleted");case i.SNACKBAR_EVENTS.PLAYLIST_SAVED:return r.getLang("mobile_video_playlist_saved");case i.SNACKBAR_EVENTS.REMOVE_FROM_HISTORY:return r.getLang("mobile_video_removed_from_history");case i.SNACKBAR_EVENTS.CLEAR_VIEWING_HISTORY:return r.getLang("mobile_video_cleared_history");case i.SNACKBAR_EVENTS.ONBOARDING_RELOAD_CATALOG:return r.getLang("mobile_video_onboarding_snackbar_refresh_text");case i.SNACKBAR_EVENTS.UPLOAD_SUCCESS:return r.getLang("mobile_video_showcase_form_file_upload_success");case i.SNACKBAR_EVENTS.UPLOAD_PROGRESS:return r.getLang("mobile_video_showcase_form_upload_in_progress");case i.SNACKBAR_EVENTS.VIDEO_SAVED:return r.getLang("mobile_video_saved");case i.SNACKBAR_EVENTS.ERROR:return r.getLang("mobile_video_global_error")}},u=e=>{switch(e){case i.SNACKBAR_EVENTS.ADD_TO_FAVE:case i.SNACKBAR_EVENTS.REMOVE_FROM_FAVE:return(0,o.jsx)(n.Icon24ClockOutline,{className:(0,s.getColorClass)("color_accent_blue")});default:return(0,o.jsx)(l.Icon24CheckCircleOn,{className:(0,s.getColorClass)("color_accent_blue")})}}},131091:(e,t,a)=>{a.d(t,{VirtualList:()=>d});var o=a(785893),r=a(667294),i=a(325429),n=a(126160),l=a(659397),s=a(504190),c=a(981955);const d=({Item:e,items:t})=>{const{appCatalogService:a}=(0,i.useCatalogConfig)(),[d,u]=(0,r.useState)(!1),[p,_]=(0,r.useState)(0),m=(0,r.useRef)(null),g=(0,r.useRef)(null),v=(0,s.useStore)(a.postsService.$postExpandedStates);(0,r.useEffect)((()=>{const e=m.current;if(!e)return;const t=(0,l.throttle)((()=>{const t=(0,n.getScrollTop)();u((a=>!t&&a?a:t<=e.offsetTop+e.offsetHeight+800&&t+window.innerHeight>=e.offsetTop-800))}),50);return t(),window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[]);const S=(0,r.useCallback)((0,l.throttle)((e=>{const t=e.contentRect.height??e.target.clientHeight;t&&_(t)}),50),[]);(0,r.useEffect)((()=>{if(!g.current||!d||p)return;const e=new ResizeObserver((e=>{e.forEach(S)}));return e.observe(g.current),()=>e.disconnect()}),[S,d]),(0,r.useEffect)((()=>{d&&g.current&&_(g.current.clientHeight)}),[v]);const f={"--virtual-list-height":p?`${p}px`:"100%"};return(0,o.jsx)("div",{ref:m,className:c.default.root,style:f,children:(0,o.jsx)("div",{className:(0,l.classNames)(p&&c.default.viewport),children:d&&(0,o.jsx)("div",{ref:g,children:t.map((t=>(0,r.createElement)(e,{...t,key:t.id})))})})})}},828303:(e,t,a)=>{a.d(t,{VirtualList:()=>o.VirtualList});var o=a(131091)},348073:(e,t,a)=>{a.d(t,{Snackbar:()=>o.Snackbar,VirtualList:()=>r.VirtualList});a(229488);var o=a(653890),r=a(828303)},903999:(e,t,a)=>{a.d(t,{CRITERIA_PARAMS_REG_EXP:()=>o,FAVORITE_SOURCES:()=>i,SNACKBAR_EVENTS:()=>r});const o=/^\w\[(.*)]$/,r={ADD_TO_FAVE:"ADD_TO_FAVE",REMOVE_FROM_FAVE:"REMOVE_FROM_FAVE",ADD_TO_MY:"ADD_TO_MY",REMOVE_FROM_MY:"REMOVE_FROM_MY",REMOVE_FROM_GROUP:"REMOVE_FROM_GROUP",ADD_TO_PLAYLIST:"ADD_TO_PLAYLIST",ADD_TO_PLAYLISTS:"ADD_TO_PLAYLISTS",REMOVE_FROM_PLAYLIST:"REMOVE_FROM_PLAYLIST",REMOVE_FROM_PLAYLISTS:"REMOVE_FROM_PLAYLISTS",DELETE_PLAYLIST:"DELETE_PLAYLIST",PLAYLIST_SAVED:"PLAYLIST_SAVED",COPY_LINK:"COPY_LINK",COPY_ERID:"COPY_ERID",ORD_ADDED:"ORD_ADDED",REMOVE_FROM_HISTORY:"REMOVE_FROM_HISTORY",CLEAR_VIEWING_HISTORY:"CLEAR_VIEWING_HISTORY",ONBOARDING_RELOAD_CATALOG:"ONBOARDING_RELOAD_CATALOG",UPLOAD_SUCCESS:"UPLOAD_SUCCESS",UPLOAD_PROGRESS:"UPLOAD_PROGRESS",VIDEO_SAVED:"VIDEO_SAVED",ERROR:"ERROR"},i={VIDEO_PLAYER_MODAL:"video_player_modal",VIDEO_PLAYER_BUTTON:"video_player_button",VIDEO_CARD_MODAL:"video_card_modal",VIDEO_CARD_BUTTON:"video_card_button",SNACKBAR:"snackbar"}},533878:(e,t,a)=>{a(785893),a(325429),a(471828),a(242864),a(942205),a(690033),a(719634)},202077:(e,t,a)=>{a.d(t,{getCatalogUserDescription:()=>n});var o=a(785893),r=a(242864),i=a(942205);const n=({friendsDescription:e,descriptions:t,friendsPhotos:a,userStackSize:n="s"})=>{const l=[],s=e?.text,[c,d]=t?.map((e=>e.text))||[];return!c||a.length&&!s||l.push((0,o.jsx)(r.TextClamp,{lines:1,children:c})),d?l.push((0,o.jsx)(r.TextClamp,{lines:1,children:d})):a.length&&(s||c)&&l.push((0,o.jsx)(i.UsersStack,{photos:a,size:n,children:(0,o.jsx)(r.TextClamp,{lines:1,children:s||c})})),l}},316453:(e,t,a)=>{a(533878),a(202077)},797610:(e,t,a)=>{a.d(t,{prepareSpellcheck:()=>o});const o=e=>{const t={...e};return t.title&&(t.title=t.title.replace(/\$query/g,"")),t.suggest&&(t.suggest=t.suggest.replace(/\$search_action/g,"")),t}},577655:(e,t,a)=>{a.d(t,{FAVORITE_SOURCES:()=>r.FAVORITE_SOURCES,SNACKBAR_EVENTS:()=>r.SNACKBAR_EVENTS,Snackbar:()=>o.Snackbar,VirtualList:()=>o.VirtualList,chunks:()=>i.chunks,getObjectPropertyNumber:()=>i.getObjectPropertyNumber,getObjectPropertyString:()=>i.getObjectPropertyString,getUrlWithTrackCode:()=>i.getUrlWithTrackCode});var o=a(348073),r=(a(316453),a(903999)),i=a(70668)},70668:(e,t,a)=>{a.d(t,{chunks:()=>u,extractIds:()=>d,fromQueryObjectField:()=>c,getAvatarOwnerSrc:()=>p,getObjectPropertyNumber:()=>m,getObjectPropertyString:()=>_,getUrlWithTrackCode:()=>s});var o=a(903999),r=a(150108),i=a(325429),n=a(659397);const l=e=>{switch(e){case i.CatalogType.SEARCH:return"search_track_code";case i.CatalogType.VIDEO:return"video_track_code";case i.CatalogType.GROUPS:return"trackcode";default:return"search_track_code"}},s=(e,t,a)=>t&&a?(0,r.makeUrl)(e,{[l(a)]:t,from:a}):e,c=(e="")=>{const t=decodeURI(e);let a=t;return t.startsWith("?")&&(a=a.substr(1)),a.split("&").reduce(((e,t)=>{let[a="",r=""]=t.split("=");if(o.CRITERIA_PARAMS_REG_EXP.test(a)){const e=a.match(o.CRITERIA_PARAMS_REG_EXP);a=e?.length&&e[1]?e[1]:""}return{...e,[a]:r}}),{})},d=e=>{const[t,a]=`${e}`.split("_");return[+t,+a]};function*u(e,t){for(let a=0;a<e.length;a+=t)yield e.slice(a,a+t)}const p=e=>e.photo_100||e.photo_200,_=(e,t)=>{if((0,n.isObject)(e)&&(0,n.isString)(e[t]))return e[t]},m=(e,t)=>{if((0,n.isObject)(e)&&(0,n.isNumber)(e[t]))return e[t]}},407916:(e,t,a)=>{a.d(t,{Action:()=>n});var o=a(785893),r=a(306657),i=a(667294);const n=({action:e,dataTestId:t,...a})=>{if(!e)return(0,o.jsx)(i.Fragment,{});const n=(0,r.getAction)(e);return(0,o.jsx)(n,{...a,action:e,dataTestId:t})}},521003:(e,t,a)=>{a.d(t,{BlockFilter:()=>u});var o=a(785893),r=a(667294),i=a(86894),n=a(504190),l=a(413189),s=a(234862),c=a(792056);const d=e=>`catalog-action-${e}`,u=({layout:e,action:t})=>{const{appCatalogService:a}=(0,s.useCatalogConfig)(),u=(0,n.useStore)(a.actionsService.$selectedAction);switch((0,r.useEffect)((()=>{u?.replacement_id&&document.getElementById(d(u.replacement_id))?.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"})}),[u?.replacement_id]),e){case l.CatalogBlockLayoutName.HORIZONTAL_BUTTONS:case l.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(r.Fragment,{children:(t.options||[]).map((e=>{const t=u?e.replacement_id===u.replacement_id:1===e.selected;return(0,o.jsx)(i.SubnavigationButton,{"data-testid":"block_filter",id:d(e.replacement_id),className:c.default.root,selected:t,mode:t?"tertiary":"outline",before:(0,o.jsx)("img",{className:c.default.icon,alt:e.text,src:e.icon_sizes?.[0]?.url}),onClick:()=>(e=>{e.replacement_id!==u?.replacement_id&&a.actionsService.selectAction(e)})(e),children:e.text},e.replacement_id)}))});default:return(0,o.jsx)(r.Fragment,{})}}},178935:(e,t,a)=>{a.d(t,{BlockFilter:()=>o.BlockFilter});var o=a(521003)},808824:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>_});var o=a(785893),r=a(981284),i=a(130593),n=a(427210),l=a(324153),s=a(721848),c=a(234862),d=a(504190),u=a(413189),p=a(471828);const _=({action:e})=>{const{appCatalogService:t}=(0,c.useCatalogConfig)(),a=(0,c.useCollectClick)(),_=(0,d.useStore)(t.pageService.$catalogType),m=(0,s.useRefLogView)({type:l.EventItemType.CATALOG_ITEM,trackCode:e.track_code});return(0,o.jsx)(r.IconButton,{"data-testid":"clear_recent_groups",getRootRef:m,onClick:()=>{if(a({track_code:e.track_code,type:l.EventItemType.CATALOG_ITEM,action:l.SearchClickActionMap.REMOVE_RECENT}),t.catalogService.fireRemoveBlocks(e.target_block_ids||[]),_===u.CatalogType.SEARCH)return t.searchRecentService.fireClearSearchRecent({});t.searchRecentService.fireGroupsRemoveRecent({})},noPadding:!0,"aria-label":p.getLang("groups_catalog_header_aria_label_clear_recent"),children:(0,o.jsx)(n.Icon24Dismiss,{className:(0,i.getColorClass)("color_icon_secondary")})})}},747650:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>o.ClearRecentGroups});var o=a(808824)},297450:(e,t,a)=>{a.d(t,{CreatePlaylist:()=>s});var o=a(785893),r=a(584676),i=a(441430),n=a(407729),l=a(471828);const s=({action:e})=>{const t=e.owner_id??window.vk.id;return(0,o.jsx)(r.Div,{children:(0,o.jsx)(i.Button,{before:(0,o.jsx)(n.Icon24Add,{}),mode:"secondary",stretched:!0,href:`/video?action=add_playlist&owner_id=${t}`,size:"m",children:l.getLang("mobile_video_showcase_create_playlist")})})}},385691:(e,t,a)=>{a.d(t,{CreatePlaylist:()=>o.CreatePlaylist});var o=a(297450)},42358:(e,t,a)=>{a.d(t,{GroupsMyGroupsTabs:()=>u});var o=a(785893),r=a(667294),i=a(733552),n=a(564726),l=a(203844),s=a(504190),c=a(413189),d=a(234862);const u=({layout:e,action:t})=>{const{appCatalogService:a}=(0,d.useCatalogConfig)(),u=(0,s.useStore)(a.actionsService.$selectedAction);return t.options&&e===c.CatalogBlockLayoutName.LIST?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Spacing,{size:4}),(0,o.jsx)(n.Tabs,{children:t.options.map((e=>{const t=u?e.replacement_id===u.replacement_id:1===e.selected,r=e.badge?.text?Number(e.badge.text):void 0;return(0,o.jsx)(l.TabsItem,{"data-testid":"tabs_item",id:(i=e.replacement_id,`catalog-action-${i}`),selected:t,status:r,onClick:()=>(e=>{e.replacement_id!==u?.replacement_id&&a.actionsService.selectAction(e)})(e),children:e.text},e.replacement_id);var i}))})]}):(0,o.jsx)(r.Fragment,{})}},107587:(e,t,a)=>{a.d(t,{GroupsMyGroupsTabs:()=>o.GroupsMyGroupsTabs});var o=a(42358)},246486:(e,t,a)=>{a.d(t,{HideBlock:()=>u});var o=a(785893),r=a(432483),i=a(504190),n=a(667294),l=a(471828),s=a(924766),c=a(800856),d=a(325429);const u=({action:e})=>{const{appCatalogService:t}=(0,d.useCatalogConfig)(),a=(0,i.useEvent)(t.catalogService.fireHideBlock),u=(0,n.useRef)(null),p=l.getLang("global_hide"),_=(0,n.useCallback)((()=>{e?.block_id&&a(e.block_id)}),[e.block_id]);return(0,o.jsx)(s.DropdownActionSheet,{offsetDistance:-7,placement:"bottom-end",content:(0,o.jsx)(s.DropdownActionSheet.Item,{onClick:_,children:p},p),children:(0,o.jsx)(c.Link,{mode:"tertiary",getRootRef:u,children:(0,o.jsx)(r.Icon24MoreHorizontal,{})})})}},751936:(e,t,a)=>{a.d(t,{HideBlock:()=>o.HideBlock});var o=a(246486)},974854:(e,t,a)=>{a.d(t,{Onboarding:()=>g});var o=a(785893),r=a(667294),i=a(441430),n=a(990460),l=a(504190),s=a(86894),c=a(491867),d=a(537090),u=a(471828),p=a(912068),_=a(20734),m=a(325429);const g=({action:e})=>{const{appCatalogService:t}=(0,m.useCatalogConfig)(),a=(0,l.useStore)(t.onboardingService.$onboardingOptions),g=(0,l.useStore)(t.onboardingService.$onboardingStatus),v=a.some((e=>!!e.selected)),S=e.title,f=e.block_id;(0,r.useEffect)((()=>{t.onboardingService.fireInitOptions(e.options||[])}),[e.options]);return(0,o.jsxs)(o.Fragment,{children:[(g.status===p.OnboardingResponseStatus.IDLE||g.status===p.OnboardingResponseStatus.PENDING)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:_.default.options,children:a.map((e=>(0,o.jsx)(s.SubnavigationButton,{size:"m",mode:"primary",selected:!!e.selected,onClick:()=>t.onboardingService.fireToggleOption(e),children:e.text},e.replacement_id)))}),v&&(0,o.jsx)(i.Button,{onClick:()=>{const e=a.filter((e=>!!e.selected)).map((e=>e.replacement_id)).join(",");f&&t.onboardingService.fireSaveOptions({selection_ids:e,block_id:f})},loading:g.status===p.OnboardingResponseStatus.PENDING,size:"m",stretched:!0,className:_.default.saveButton,children:S})]}),g.status===p.OnboardingResponseStatus.SUCCESS&&(0,o.jsxs)("div",{className:_.default.doneBox,children:[(0,o.jsx)(c.Icon56LikeOutline,{className:_.default.doneBoxIcon}),(0,o.jsx)(n.Headline,{className:_.default.headlineDone,children:g.message})]}),g.status===p.OnboardingResponseStatus.ERROR&&(0,o.jsxs)("div",{className:_.default.doneBox,children:[(0,o.jsx)(d.Icon56ErrorOutline,{className:_.default.doneBoxIcon}),(0,o.jsx)(n.Headline,{className:_.default.headlineDone,children:u.getLang("mobile_video_global_error")})]})]})}},606005:(e,t,a)=>{a.d(t,{Onboarding:()=>o.Onboarding});var o=a(974854)},268815:(e,t,a)=>{a.d(t,{OpenSearchTab:()=>_});var o=a(785893),r=a(667294),i=a(800856),n=a(70668),l=a(324153),s=a(413189),c=a(234862),d=a(721848),u=a(747610),p=a(958953);const _=({action:e})=>{const{navGo:t}=(0,c.useCatalogConfig)(),a=(0,c.useCollectClick)(),_=(0,d.useRefLogView)({type:l.EventItemType.CATALOG_ITEM,trackCode:e.track_code}),m=(0,n.fromQueryObjectField)(window.location.search),g=(0,u.encodeUrlSearchParams)({q:m.q},"&"),v=(0,r.useMemo)((()=>{switch(e.search_tab){case"groups":return`${s.OPEN_SEARCH_TAB_ACTION_URL.GROUPS}${g}`;case"people":return`${s.OPEN_SEARCH_TAB_ACTION_URL.PEOPLE}${g}`;case"video":case"videos":return`${s.OPEN_SEARCH_TAB_ACTION_URL.VIDEO}${g}`;case"mini_apps":return`${s.OPEN_SEARCH_TAB_ACTION_URL.SERVICES}${g}`;case"games":return`${s.OPEN_SEARCH_TAB_ACTION_URL.GAMES}${g}`;case"music":return`${s.OPEN_SEARCH_TAB_ACTION_URL.MUSIC}${g}`;case"clips":return`${s.OPEN_SEARCH_TAB_ACTION_URL.CLIPS}${g}`;default:return""}}),[e]),S=(0,r.useCallback)((o=>{o.preventDefault(),a({track_code:e.track_code,type:l.EventItemType.CATALOG_ITEM,action:l.SearchClickActionMap.TAP_SHOW_ALL}),t(v)}),[e,v]);return(0,o.jsx)(i.Link,{"data-testid":"open_search_tab",getRootRef:_,href:v,onClick:S,className:p.default.link,children:e.title})}},352535:(e,t,a)=>{a.d(t,{OpenSearchTab:()=>o.OpenSearchTab});var o=a(268815)},161325:(e,t,a)=>{a.d(t,{OpenSection:()=>_});var o=a(785893),r=a(981284),i=a(800856),n=a(721848),l=a(504190),s=a(324153),c=a(234862),d=a(150108),u=a(396043),p=a(325429);const _=({action:e,layout:t,ariaLabel:a,dataTestId:_})=>{const{appCatalogService:m}=(0,c.useCatalogConfig)(),g=(0,l.useStore)(m.pageService.$catalogType),v=(0,n.useRefLogView)({type:s.EventItemType.CATALOG_ITEM,trackCode:e.track_code}),S=(0,c.useCollectClick)(),f=t===p.CatalogBlockLayoutName.HEADER_LARGE&&g===p.CatalogType.GROUPS?void 0:e?.action?.url,C=e.section_id,h=(0,u.getActionIcon)(e.icon);if(h)return(0,o.jsx)(r.IconButton,{noPadding:!0,href:f,"aria-hidden":!f,"aria-label":a,children:h});const I=f?(0,d.makeUrl)(f,{section_id:C||"",from:g}):void 0;return(0,o.jsx)(i.Link,{"data-testid":Boolean(_)?_:"open_section",getRootRef:v,href:I,onClick:()=>{S({action:s.SearchClickActionMap.TAP_SHOW_ALL,track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM})},children:e.title})}},264330:(e,t,a)=>{a.d(t,{OpenSection:()=>o.OpenSection});var o=a(161325)},396043:(e,t,a)=>{a.d(t,{getActionIcon:()=>l});var o=a(785893),r=a(534940),i=a(130593),n=a(413189);const l=e=>e===n.CatalogActionIcons.CHEVRON_RIGHT_CIRCLE_28?(0,o.jsx)(r.Icon28ChevronRightCircle,{className:(0,i.getColorClass)("color_icon_secondary")}):null},500713:(e,t,a)=>{a.d(t,{OpenSectionSliderCell:()=>u});var o=a(785893),r=a(685994),i=a(441430),n=a(990460),l=a(354943),s=a(234862),c=a(324153),d=a(39856);const u=e=>{const{title:t,section_id:a,track_code:u,action:p}=e.action,_=(0,s.useCollectClick)(),m=p?.url?p?.url+(a?`?section_id=${a}`:""):void 0;return(0,o.jsx)("div",{className:d.default.openSectionSliderCell,children:(0,o.jsxs)(r.HorizontalCell,{"data-testid":"open_section_slider_cell",href:m,onClick:()=>{_({action:c.SearchClickActionMap.TAP_SHOW_ALL,track_code:u,type:c.EventItemType.CATALOG_ITEM})},className:d.default.openSectionSliderCard,children:[(0,o.jsx)(i.Button,{appearance:"accent",mode:"tertiary",className:d.default.openSectionSliderCellButton,children:(0,o.jsx)(l.Icon24ChevronCompactRight,{className:d.default.openSectionSliderCellButtonIcon})}),(0,o.jsx)(n.Text,{className:d.default.openSectionSliderCellText,children:t})]})})}},776298:(e,t,a)=>{a.d(t,{PlayVideosFromBlock:()=>u});var o=a(785893),r=a(504190),i=a(300993),n=a(471828),l=a(667294),s=a(441430),c=a(234862),d=a(324153);const u=({action:e})=>{const{appCatalogService:t}=(0,c.useCatalogConfig)(),a=(0,r.useStore)(t.catalogService.$catalog),u=(0,c.useCollectClick)(),p=(0,l.useMemo)((()=>a?.sections?.find((({id:e})=>e===a?.default_section))),[a?.sections,a?.default_section]),_=(0,l.useMemo)((()=>p?.blocks?.find((t=>t.id===e.block_id&&t.videos_ids?.length))?.videos_ids?.[0]),[p]);return(0,o.jsx)(s.Button,{before:(0,o.jsx)(i.Icon24Play,{}),appearance:"overlay",mode:"primary",stretched:!0,href:_?`/video${_}`:"",onClick:()=>{u?.({action:d.SearchClickActionMap.PLAY_ALL_OUT,track_code:e?.track_code,type:d.EventItemType.VIDEO})},size:"m",children:n.getLang("mobile_video_playlist_play")})}},379603:(e,t,a)=>{a.d(t,{PlayVideosFromBlock:()=>o.PlayVideosFromBlock});var o=a(776298)},336951:(e,t,a)=>{a.d(t,{SearchShowMore:()=>c});var o=a(785893),r=a(117374),i=a(471828),n=a(86894),l=a(234862),s=a(504190);const c=({action:e,next_from:t})=>{const{appCatalogService:a}=(0,l.useCatalogConfig)(),c=(0,s.useUnit)(a.catalogService.fireGetBlockItems);return(0,s.useUnit)(a.catalogService.CatalogGetBlockItemsFx.pending)?(0,o.jsx)(n.PanelSpinner,{size:"regular"}):(0,o.jsx)(n.CellButton,{centered:!0,after:(0,o.jsx)(r.Icon16DropdownOutline,{}),onClick:()=>{e.block_id&&c({block_id:e.block_id,start_from:t})},children:i.getLang("search_show_more")})}},432454:(e,t,a)=>{a.d(t,{ShowFilters:()=>m});var o=a(785893),r=a(86894),i=a(479049),n=a(888219),l=a(504190),s=a(324153),c=a(667294),d=a(234862),u=a(8820),p=a(990460),_=a(694506);const m=({action:e})=>{const{appCatalogService:t}=(0,d.useCatalogConfig)(),{appliedFiltersCount:a,setFilterModal:m}=(0,d.useCatalogSearch)(),g=(0,d.useCollectClick)(),v=(0,l.useStore)(t.pageService.$pageId);return(0,o.jsx)(u.SimpleCell,{"data-testid":"show_filters",className:_.default.root,onClick:()=>{g({track_code:e.track_code,type:s.EventItemType.CATALOG_ITEM,action:s.SearchClickActionMap.OPEN_FILTERS}),m(v)},before:(0,o.jsx)(i.Icon24Filter,{className:_.default.iconBefore}),after:(0,o.jsxs)(c.Fragment,{children:[!!a&&(0,o.jsx)(r.Counter,{mode:"primary",children:a}),(0,o.jsx)(n.Icon24ChevronRight,{})]}),children:(0,o.jsx)(p.Headline,{className:_.default.headline,children:e.title})})}},423905:(e,t,a)=>{a.d(t,{ShowFilters:()=>o.ShowFilters});var o=a(432454)},852220:(e,t,a)=>{a.d(t,{ToggleAlbumSubscription:()=>m});var o=a(785893),r=a(441430),i=a(86894),n=a(261102),l=a(849456),s=a(471828),c=a(504190),d=a(234862),u=a(826068),p=a(99051),_=a(324153);const m=({id:e,action:t})=>{const{appCatalogService:a}=(0,d.useCatalogConfig)(),{openUnauthorizedMoreBox:m}=(0,d.useCatalogVideo)(),[g,v]=e.toString().split("_"),S=(0,d.useCollectClick)(),f=(0,c.useStoreMap)({store:a.playlistService.$playlistItems,keys:[g,v],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),C=Boolean(f?.is_subscribed);if(!f)return null;if((0,u.isVKUserAnonymous)()){const e=e=>{m({source:p.UnauthorizedSourceType.SUBSCRIBE_VIDEO_AUTHOR,event:e})};return(0,o.jsx)(r.Button,{appearance:"overlay",mode:"outline",stretched:!0,onClick:e,size:"m",children:(0,o.jsx)(i.Paragraph,{children:s.getLang("mobile_video_playlist_subscribe_need_auth_action")})})}return(0,o.jsx)(r.Button,{before:C?(0,o.jsx)(n.Icon24CheckSquareOutline,{}):(0,o.jsx)(l.Icon24AddSquareOutline,{}),appearance:"overlay",mode:C?"secondary":"primary",stretched:!0,onClick:()=>{const e=f.owner_id,o=f.id;void 0!==e&&void 0!==o&&(C?(a.playlistService.unsubscribeFromPlaylist({owner_id:e,album_id:o}),S?.({action:_.SearchClickActionMap.UNSUBSCRIBE_OUT,track_code:t?.track_code,type:_.EventItemType.VIDEO_PLAYLIST})):(a.playlistService.subscribeOnPlaylist({owner_id:e,album_id:o}),S?.({action:_.SearchClickActionMap.SUBSCRIBE_OUT,track_code:t?.track_code,type:_.EventItemType.VIDEO_PLAYLIST})))},size:"m",children:C?s.getLang("mobile_groups_you_are_in_public"):s.getLang("mobile_groups_public_subscribe")})}},74473:(e,t,a)=>{a.d(t,{ToggleAlbumSubscription:()=>o.ToggleAlbumSubscription});var o=a(852220)},523147:(e,t,a)=>{a.d(t,{Action:()=>o.Action});var o=a(407916)},306657:(e,t,a)=>{a.d(t,{getAction:()=>S});var o=a(413189),r=a(264330),i=a(352535),n=a(747650),l=a(178935),s=a(606005),c=a(500713),d=a(423905),u=a(379603),p=a(74473),_=a(385691),m=a(107587),g=a(751936),v=a(336951);const S=e=>{switch(e.action?.type){case o.CatalogActionType.OPEN_URL:case o.CatalogActionType.OPEN_SECTION:return r.OpenSection;case o.CatalogActionType.OPEN_SEARCH_TAB:return i.OpenSearchTab;case o.CatalogActionType.CLEAR_RECENT_GROUPS:return n.ClearRecentGroups;case o.CatalogActionType.GROUPS_MY_GROUPS_TABS:return m.GroupsMyGroupsTabs;case o.CatalogActionType.BLOCK_FILTER:return l.BlockFilter;case o.CatalogActionType.OPEN_SECTION_SLIDER_CELL:return c.OpenSectionSliderCell;case o.CatalogActionType.ONBOARDING:return s.Onboarding;case o.CatalogActionType.SHOW_FILTERS:return d.ShowFilters;case o.CatalogActionType.PLAY_VIDEOS_FROM_BLOCK:return u.PlayVideosFromBlock;case o.CatalogActionType.TOGGLE_ALBUM_SUBSCRIPTION:return p.ToggleAlbumSubscription;case o.CatalogActionType.CREATE_ALBUM:return _.CreatePlaylist;case o.CatalogActionType.HIDE_BLOCK:return g.HideBlock;case o.CatalogActionType.SEARCH_SHOW_MORE:return v.SearchShowMore;default:return()=>null}}},361954:(e,t,a)=>{a.d(t,{AudioPlaylist:()=>h});var o=a(785893),r=a(504190),i=a(685994),n=a(242864),l=a(990460),s=a(8820),c=a(962941),d=a(325429),u=a(540254),p=a(433021),_=a(234862),m=a(324153),g=a(721848),v=a(413189),S=a(610636),f=a(755723);const C="photo_270",h=({id:e,layout:t})=>{const{appCatalogService:a}=(0,d.useCatalogConfig)(),{ownerId:h}=(0,c.mapAPIRawIdToAudioIdentity)(String(e)),I=(0,d.useCatalogStoreMap)(a.musicPlaylistsService.$musicPlaylists,e),E=(0,d.useCatalogStoreMap)(a.groupsService.$groups,Math.abs(Number(h))),y=(0,r.useStoreMap)({store:a.profilesService.$profiles,keys:[h],fn:(e,[t])=>e.get(+t)}),k="playlist"===I?.album_type?m.EventItemType.MUSIC_PLAYLIST:m.EventItemType.MUSIC_ALBUM,A=(0,_.useCollectClick)(),T=(0,g.useRefLogView)({type:k,trackCode:I?.track_code});if(!I)return null;const R=`/audio_playlist${e}`,{title:x,main_artists:L,thumbs:O,photo:w,year:b,track_code:N}=I,V=L?.length&&(0,p.createAuthorsString)(L)||(0,u.getOwnerName)(E||y);let P=O?.filter((e=>C in e)).map((e=>e[C]))||[];!P.length&&w&&C in w&&P.push(w[C]);const B=()=>{A({action:m.SearchClickActionMap.TAP,track_code:N,type:k})};switch(t){case v.CatalogBlockLayoutName.LARGE_SLIDER:return(0,o.jsx)(i.HorizontalCell,{size:"dynamic",header:(0,o.jsx)(n.TextClamp,{TypographyComponent:l.Text,className:f.default.title,lines:1,children:x}),onClick:B,getRootRef:T,href:R,subtitle:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.TextClamp,{TypographyComponent:l.Subhead,className:f.default.subtitle,weight:"3",lines:1,children:[V," "]}),b&&(0,o.jsx)(l.Subhead,{weight:"3",className:f.default.year,children:b})]}),children:(0,o.jsx)(S.AudioPlaylistImage,{images:P,size:156})},e);case v.CatalogBlockLayoutName.LIST:return(0,o.jsx)(s.SimpleCell,{onClick:B,getRootRef:T,href:R,before:(0,o.jsx)(S.AudioPlaylistImage,{images:P,size:72}),subtitle:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.TextClamp,{TypographyComponent:l.Subhead,weight:"3",lines:1,children:V}),b&&(0,o.jsx)(l.Subhead,{weight:"3",className:f.default.year,children:b})]}),children:(0,o.jsx)(n.TextClamp,{TypographyComponent:l.Text,lines:1,children:x})});default:return null}}},610636:(e,t,a)=>{a.d(t,{AudioPlaylistImage:()=>l});var o=a(785893),r=a(670019),i=a(19014),n=a(772418);const l=({images:e,size:t})=>e?.length?(0,o.jsx)(i.GridImage,{size:t,src:e}):(0,o.jsx)(n.Image,{size:t,children:(0,o.jsx)(r.Icon56PlaylistOutline,{width:t/2,height:t/2})})},467655:(e,t,a)=>{a.d(t,{AudioPlaylist:()=>o.AudioPlaylist});var o=a(361954)},433021:(e,t,a)=>{function o(e){return e?.map((({name:e})=>e)).join(", ")}a.d(t,{createAuthorsString:()=>o})},860161:(e,t,a)=>{a.d(t,{Banner:()=>u});var o=a(785893),r=a(667294),i=a(17046),n=a(789581),l=a(523147),s=a(325429),c=a(421960),d=a(822897);const u=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,i.getBlockByDataType)(e),u=(0,n.getEventItemTypeByDataType)(e);return e.data_type===s.CatalogBlockDataType.GROUPS_COLLECTION?(0,o.jsx)(c.DoubleStackedList,{...e}):(0,o.jsx)("div",{children:t.map((t=>(0,o.jsxs)("div",{className:d.default.banner,children:[(0,o.jsx)(a,{...t,layout:e.layout.name,type:u}),(0,o.jsx)("div",{className:d.default.actionsWrapper,children:e.actions?.map(((e,a)=>(0,o.jsx)(l.Action,{id:t.id,action:e},e.track_code||a)))})]},t.id)))})}},944811:(e,t,a)=>{a.d(t,{Banner:()=>o.Banner});var o=a(860161)},17046:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(413189),r=a(774971);const i=e=>e.data_type===o.CatalogBlockDataType.ALBUMS&&e.albums_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.ALBUMS?r.Playlist:()=>null},276270:(e,t,a)=>{a.d(t,{Button:()=>l});var o=a(785893),r=a(667294),i=a(985770),n=a(789581);const l=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,i.getBlockByDataType)(e),l=(0,n.getEventItemTypeByDataType)(e);return(0,o.jsx)(r.Fragment,{children:t.map((t=>(0,o.jsx)(a,{...t,layout:e.layout.name,type:l},t.id)))})}},937842:(e,t,a)=>{a.d(t,{Button:()=>o.Button});var o=a(276270)},985770:(e,t,a)=>{a.d(t,{extractItemsIds:()=>n,getBlockByDataType:()=>l});var o=a(413189),r=a(172045),i=a(523147);const n=e=>e.data_type===o.CatalogBlockDataType.ACTION&&e.actions?.map((e=>({id:(0,r.default)(),action:e})))||[],l=e=>e.data_type===o.CatalogBlockDataType.ACTION?i.Action:()=>null},785410:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>i});var o=a(785893),r=a(473600);const i=()=>(0,o.jsx)(r.Separator,{})},676497:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>o.CatalogSeparator});var o=a(785410)},811590:(e,t,a)=>{a.d(t,{Chips:()=>p});var o=a(785893),r=a(667294),i=a(990460),n=a(504190),l=a(659397),s=a(523147),c=a(912068),d=a(616423),u=a(325429);const p=({actions:e,layout:t,...a})=>{const{appCatalogService:p}=(0,u.useCatalogConfig)(),_=(0,n.useStore)(p.onboardingService.$onboardingStatus),{title:m,subtitle:g}=t;return(0,r.useEffect)((()=>{if(_.status===c.OnboardingResponseStatus.SUCCESS){const e=setTimeout((()=>p.onboardingService.fireCompleteOnboarding()),3e3);return()=>clearTimeout(e)}}),[_.status]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:(0,l.classNames)(d.default.chips,_.status===c.OnboardingResponseStatus.COMPLETE&&d.default.chipsHidden,_.status===c.OnboardingResponseStatus.SUCCESS&&d.default.chipsFadedOut),children:[(_.status===c.OnboardingResponseStatus.IDLE||_.status===c.OnboardingResponseStatus.PENDING)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Headline,{level:"1",className:d.default.chipsHeadline,children:m}),(0,o.jsx)(i.Subhead,{className:d.default.chipsSubhead,children:g})]}),e?.map(((e,o)=>(0,r.createElement)(s.Action,{...a,key:o,action:e,layout:t.name})))]})})}},676657:(e,t,a)=>{a.d(t,{Chips:()=>o.Chips});var o=a(811590)},941331:(e,t,a)=>{a.d(t,{DoubleStackedList:()=>p});var o=a(785893),r=a(667294),i=a(659397),n=a(898330),l=a(789581),s=a(325429),c=a(86894),d=a(282788),u=a(229879);const p=e=>{const t=(0,c.useAdaptivityWithJSMediaQueries)(),a=(0,n.getColumnsCount)(e.data_type,t),p=(0,n.getBlockByDataType)(e),_=(0,l.getEventItemTypeByDataType)(e),m=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e).map((t=>(0,r.createElement)(p,{...t,key:t.id,layout:e.layout.name,type:_})))),[e]),g=e.data_type===s.CatalogBlockDataType.ALBUMS;return(0,o.jsx)("div",{className:(0,i.classNames)(u.default.root,g&&u.default.rootWithoutGrid),children:g?m:(0,o.jsx)(d.Grid,{columns:a,spacing:8,children:m.map((e=>(0,o.jsx)(d.Grid.Item,{children:e},e.key)))})})}},421960:(e,t,a)=>{a.d(t,{DoubleStackedList:()=>o.DoubleStackedList});var o=a(941331)},898330:(e,t,a)=>{a.d(t,{extractItemsIds:()=>l,getBlockByDataType:()=>s,getColumnsCount:()=>c});var o=a(413189),r=a(774971),i=a(508375),n=a(86894);const l=e=>{switch(e.data_type){case o.CatalogBlockDataType.ALBUMS:return e?.albums_ids?.map((e=>({id:e})))||[];case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS_COLLECTION:return e.group_items||[];default:return[]}},s=e=>{switch(e.data_type){case o.CatalogBlockDataType.ALBUMS:return r.Playlist;case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS_COLLECTION:return i.GroupItem;default:return()=>null}},c=(e,t)=>{const a=(e=>{switch(e){case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS_COLLECTION:return!0;default:return!1}})(e);if(a&&t.viewWidth){return t.viewWidth>=n.ViewWidth.SMALL_TABLET?3:2}return 2}},847996:(e,t,a)=>{a.d(t,{GroupCategory:()=>f});var o=a(785893),r=a(667294),i=a(504190),n=a(685994),l=a(550949),s=a(8820),c=a(772418),d=a(413189),u=a(721848),p=a(324153),_=a(659397),m=a(150108),g=a(779834),v=a(325429);const S=({id:e,layout:t,action:a,group_items:r=[]})=>{const{appCatalogService:S}=(0,v.useCatalogConfig)(),f=(0,i.useStoreMap)({store:S.groupCategoryItemsService.$groupCategoryItems,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),C=(0,u.useRefLogView)({type:p.EventItemType.GROUP_CATEGORY_ITEM,trackCode:a?.track_code});if(!f)return null;const h=a?.action?.url,I=a?.section_id,E=h?(0,m.makeUrl)(h,{section_id:I||"",from:p.EventItemType.GROUP_CATEGORY_ITEM}):void 0,y=f.images?(0,_.getPhotoSize)(f.images,44*window.devicePixelRatio)?.url:void 0;if(!y||!f.name)return null;switch(t){case d.CatalogBlockLayoutName.TRIPLE_STACKED_SLIDER:return(0,o.jsx)(n.HorizontalCell,{getRootRef:C,"data-testid":"group_category_item_triple_stacked_slider_card",size:"dynamic",children:(0,o.jsx)(l.CommunityCategoryItem,{mode:"horizontal",src:y,title:f.name,href:E})});case d.CatalogBlockLayoutName.SMALL_SLIDER:return(0,o.jsx)(n.HorizontalCell,{getRootRef:C,"data-testid":"group_category_item_small_slider_card",size:"dynamic",children:(0,o.jsx)(l.CommunityCategoryItem,{mode:"vertical",src:y,title:f.name,href:E})});case d.CatalogBlockLayoutName.LARGE_SLIDER:return(0,o.jsx)(g.GroupCategoryLargeItem,{categoryItem:f,href:E,getRootRef:C,groupItems:r});case d.CatalogBlockLayoutName.LIST:return(0,o.jsx)(s.SimpleCell,{"data-testid":"group_category_list_item",getRootRef:C,href:E,before:(0,o.jsx)(c.Image,{borderRadius:"l",size:44,src:y}),children:f.name});default:return null}},f=(0,r.memo)(S)},779834:(e,t,a)=>{a.d(t,{GroupCategoryLargeItem:()=>s});var o=a(785893),r=a(914597),i=a(659397),n=a(559152),l=a(412068);const s=({categoryItem:e,getRootRef:t,href:a,groupItems:s})=>{const c=(0,n.useCommunityCollectionItems)(s),d=e.images?(0,i.getPhotoSize)(e.images,307*window.devicePixelRatio)?.url:void 0,u={title:e.link_text||"",href:a};return(0,o.jsx)("div",{className:l.default.largeSliderCard,ref:t,"data-testid":"group_category_item_large_slider_card",children:(0,o.jsx)(r.CommunityCollection,{title:e.name,action:u,coverSrc:d,items:c})})}},858976:(e,t,a)=>{a.d(t,{GroupCategory:()=>o.GroupCategory});var o=a(847996)},234132:(e,t,a)=>{a.d(t,{GroupCollection:()=>m});var o=a(785893),r=a(433581),i=a(471828),n=a(914597),l=a(130593),s=a(413189),c=a(721848),d=a(325429),u=a(559152),p=a(955101),_=a(474059);const m=(0,r.observer)((function({id:e,layout:t,type:a,group_items:r=[],isSingleItem:m}){const{groupsService:g}=(0,d.useCatalogGroupsContext)(),v=g?.getCollection?.(String(e)),S=m?6:3,f=r.slice(0,S),C=(0,u.useCommunityCollectionItems)(f),h=(0,p.getTrackCodesArray)(f),I=(0,c.useRefLogView)({type:a,trackCodes:h});if(!v)return null;const E=(0,p.getGroupCollectionCover)(v,m),y={title:i.getLang("groups_catalog_view_all"),href:v.url};return t===s.CatalogBlockLayoutName.SLIDER_CARD?(0,o.jsx)("div",{className:m?_.default.singleSliderCard:_.default.sliderCard,ref:I,"data-testid":"group_community_item_slider_card",children:(0,o.jsx)(n.CommunityCollection,{title:(0,o.jsx)("span",{className:(0,l.getColorClass)("color_text_contrast"),children:v.name}),action:y,coverSrc:E,subtitle:v.short_description,items:C,columns:m?2:1})}):null}))},357660:(e,t,a)=>{a.d(t,{GroupCollection:()=>o.GroupCollection});var o=a(234132)},955101:(e,t,a)=>{a.d(t,{getGroupCollectionCover:()=>i,getTrackCodesArray:()=>r});var o=a(659397);const r=e=>e.reduce(((e,t)=>(t.track_code&&e.push(t.track_code),e)),[]),i=(e,t)=>t&&e.images_wide?(0,o.getPhotoSize)(e.images_wide,window.innerWidth*window.devicePixelRatio)?.url:e.images?(0,o.getPhotoSize)(e.images,300*window.devicePixelRatio)?.url:void 0},354158:(e,t,a)=>{a.d(t,{CommonFriends:()=>n});var o=a(785893),r=a(942205),i=a(471828);const n=({group:e})=>{const t=e.friends?.count||0,a=e.friends?.preview_profiles?.reduce(((e,t)=>t.photo_50?[...e,t.photo_50]:e),[])??[];return t>0?(0,o.jsx)(r.UsersStack,{photos:a,children:i.getLang("mobile_friends_requests_common_friends",t)}):null}},629518:(e,t,a)=>{a.d(t,{GroupInvite:()=>m});var o=a(785893),r=a(433581),i=a(471828),n=a(846539),l=a(493829),s=a(130593),c=a(413189),d=a(253110),u=a(325429),p=a(423882),_=a(354158);const m=(0,r.observer)((function({id:e,layout:t}){const{groupsService:a,profilesService:r}=(0,u.useCatalogGroupsContext)(),m=a?.getGroup(Number(e)),g=r?.getProfile(Number(m?.invited_by)),v=a?.getGroup(Number(m?.invited_by));if(!m||!g&&!v)return null;const S=i.getLang("groups_inv_subscr",m.members_count||0),f=g?`${g.first_name} ${g.last_name}`:v?.name||v?.screen_name||"",C=i.getLang("groups_user_invite").replace("{user}",f),h=g?.photo_100||v?.photo_100;return t===c.CatalogBlockLayoutName.LIST?(0,o.jsx)(n.RichCell,{before:(0,o.jsx)(l.Avatar,{size:48,src:m.photo_100}),text:(0,o.jsx)("span",{className:(0,s.getColorClass)("color_text_secondary"),children:S}),caption:C,after:(0,o.jsx)(l.Avatar,{size:48,src:h}),bottom:(0,o.jsx)(_.CommonFriends,{group:m}),actions:(0,o.jsx)(p.GroupInviteActions,{group:m}),href:(0,d.getGroupUrl)(m),children:m.name}):null}))},423882:(e,t,a)=>{a.d(t,{GroupInviteActions:()=>p});var o=a(785893),r=a(234862),i=a(504190),n=a(86894),l=a(441430),s=a(130593),c=a(923335),d=a(471828),u=a(84562);const p=({group:e})=>{const{appCatalogService:t}=(0,r.useCatalogConfig)(),a=(0,i.useStoreMap)({store:t.groupsService.$groupPendingIds,keys:[e.id],fn:(e,[t])=>e.includes(t)}),p=(0,i.useStoreMap)({store:t.groupsService.$groupsLeft,keys:[e.id],fn:(e,[t])=>e.includes(t)});return e.is_member?(0,o.jsx)(l.Button,{mode:"link",size:"s",before:(0,o.jsx)(u.Icon16CheckOutline,{className:(0,s.getColorClass)("color_icon_secondary")}),onClick:c.cancelEvent,children:(0,o.jsx)("span",{className:(0,s.getColorClass)("color_text_secondary"),children:d.getLang("notifications_group_invite_accept_success")})}):p?(0,o.jsx)(l.Button,{mode:"link",size:"s",onClick:c.cancelEvent,children:(0,o.jsx)("span",{className:(0,s.getColorClass)("color_text_secondary"),children:d.getLang("notifications_group_invite_decline_success")})}):(0,o.jsxs)(n.ButtonGroup,{mode:"horizontal",gap:"m",stretched:!0,children:[(0,o.jsx)(l.Button,{mode:"primary",size:"s",onClick:a=>{(0,c.cancelEvent)(a),t.groupsService.fireJoinGroup({group_id:e.id})},disabled:a,children:d.getLang("global_accept")}),(0,o.jsx)(l.Button,{mode:"secondary",size:"s",onClick:a=>{(0,c.cancelEvent)(a),t.groupsService.fireLeaveGroup({group_id:e.id})},disabled:a,children:d.getLang("groups_decline")})]})}},318394:(e,t,a)=>{a.d(t,{GroupInvite:()=>o.GroupInvite});var o=a(629518)},486617:(e,t,a)=>{a.d(t,{GroupItem:()=>R});var o=a(785893),r=a(667294),i=a(471828),n=a(685994),l=a(242864),s=a(311429),c=a(50113),d=a(975689),u=a(720055),p=a(8820),_=a(493829),m=a(943721),g=a(130593),v=a(413189),S=a(234862),f=a(721848),C=a(70668),h=a(253110),I=a(659397),E=a(433581),y=a(96715),k=a(926683),A=a(672145),T=a(895514);const R=(0,E.observer)((function({id:e,track_code:t,layout:a,type:E,itemIndex:R,counter:x}){const{groupsService:L,platformVars:O}=(0,S.useCatalogGroupsContext)(),w=L?.getGroup(Number(e)),b=L?.checkSubscriptionLoading(Number(e)),N=O?.iconSize,V=(0,r.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),w?.id&&!b&&(w.is_member?L?.unsubscribe({group_id:w.id,track_code:t}):L?.subscribe({group_id:w.id,track_code:t}))}),[w,t,b]),P=(0,f.useRefLogView)({type:E,trackCode:t});if(!w)return null;const B=(0,C.getUrlWithTrackCode)((0,h.getGroupUrl)(w),t,v.CatalogType.GROUPS),M=!!R&&R>3,D=M?-1:0,j=w.cover?.images?(0,I.getPhotoSize)(w.cover.images,400*window.devicePixelRatio)?.url:void 0;switch(a){case v.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(n.HorizontalCell,{size:"s",href:B,getRootRef:P,"data-testid":"group_item_slider",header:(0,o.jsx)(l.TextClamp,{lines:1,children:w.name}),"aria-label":w.name,noPadding:!0,children:(0,o.jsx)(s.RichAvatar,{withBorder:!1,size:v.SLIDER_AVATAR_SIZE_SM,nft:Boolean(w.is_nft_photo),src:w.photo_200,alt:"",children:Boolean(w.verified)&&(0,o.jsx)(s.RichAvatar.Badge,{children:(0,o.jsx)(c.RasterIcon24Verified,{alt:i.getLang("search_verified")})})})});case v.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:case v.CatalogBlockLayoutName.SLIDER_CARD:return(0,o.jsx)("div",{className:T.default.sliderCard,ref:P,"data-testid":"group_item_slider_card",children:(0,o.jsx)(d.RecommendationBlock.Card,{stretched:!0,withBorder:!0,titleWeight:"2",badgeSize:"s",hideButtonIcon:!b,title:w.name||"",subtitle:w.activity||"",image:w.photo_400,href:B,badge:(0,h.getBadge)(w.members_count,w.friends),buttonLabel:w.is_member?i.getLang("groups_dd_you_in_group"):i.getLang("global_share_button_join_public"),buttonType:"primary",isButtonLoading:b,onButtonClick:V,isVerified:Boolean(w.verified),isButtonDone:Boolean(w.is_member),"aria-label":w.name,ariaHidden:M,tabIndex:D,buttonAriaHidden:M,buttonTabIndex:D})});case v.CatalogBlockLayoutName.COMPACT_LIST:return(0,o.jsx)(u.CommunityListItem,{subtitle:(0,h.getMembersCountText)(w.members_count),photo:w.photo_100,href:B,checked:Boolean(w.is_member),loading:b,isVerified:Boolean(w.verified),onSubscribeClick:V,iconSize:N,ariaLabel:Boolean(w.is_member)?i.getLang("groups_dd_you_in_group"):i.getLang("global_share_button_join_public"),children:w.name});case v.CatalogBlockLayoutName.LARGE_LIST:return(0,o.jsx)(p.SimpleCell,{before:(0,o.jsx)(_.Avatar,{src:w.photo_100,size:48}),subtitle:w.activity,extraSubtitle:(0,h.getMembersCountText)(w.members_count),href:B,children:w.name});case v.CatalogBlockLayoutName.SLIDER_EVENT:return(0,o.jsx)("div",{className:T.default.sliderEvent,ref:P,"data-testid":"group_item_slider_event",children:(0,o.jsx)(m.EventCard,{title:(0,o.jsx)("span",{className:(0,g.getColorClass)("color_text_primary"),title:w.name,children:w.name}),avatar:w.photo_100,cover:j,href:B,descriptions:[{text:w.activity}],"aria-label":w.name,"aria-hidden":M,tabIndex:D})});case v.CatalogBlockLayoutName.STACKED_LIST:return(0,o.jsx)("div",{className:T.default.stacked,ref:P,"data-testid":"group_item_stacked_event",children:(0,o.jsx)(m.EventCard,{title:(0,o.jsx)("span",{className:(0,g.getColorClass)("color_text_primary"),title:w.name,children:w.name}),avatar:w.photo_100,cover:j,href:B,descriptions:[{text:w.activity}],"aria-label":w.name})});case v.CatalogBlockLayoutName.DOUBLE_STACKED_LIST_MINIMALISTIC_CARD:case v.CatalogBlockLayoutName.DOUBLE_STACKED_LIST:case v.CatalogBlockLayoutName.BANNER:return(0,o.jsx)("div",{className:T.default.stacked,ref:P,"data-testid":"group_item_double_stacked_list",children:(0,o.jsx)(d.RecommendationBlock.Card,{stretched:!0,withBorder:!0,titleWeight:"2",badgeSize:"s",hideButtonIcon:!b,title:w.name||"",subtitle:w.activity||"",image:w.photo_400,href:B,badge:(0,h.getBadge)(w.members_count,w.friends),buttonLabel:w.is_member?i.getLang("groups_dd_you_in_group"):i.getLang("global_share_button_join_public"),buttonType:"primary",isButtonLoading:b,onButtonClick:V,isVerified:Boolean(w.verified),isButtonDone:Boolean(w.is_member),"aria-label":w.name})});case v.CatalogBlockLayoutName.DOUBLE_LIST:return(0,o.jsx)(p.SimpleCell,{href:B,subtitle:w.activity,"data-testid":"group_item_list","aria-label":w.name,badgeAfterTitle:Boolean(w.verified)&&(0,o.jsx)(y.Icon16Verified,{}),after:(0,o.jsx)(A.GroupItemCounter,{value:x}),before:(0,o.jsx)(s.RichAvatar,{size:v.CATALOG_AVATAR_SIZE_M,src:(0,C.getAvatarOwnerSrc)(w),nft:Boolean(w.is_nft_photo),"aria-hidden":!0,tabIndex:-1,alt:"",children:w.has_unseen_stories&&(0,o.jsx)(s.RichAvatar.Outline,{appearance:"accent"})}),badgeBeforeSubtitle:Boolean(w.is_government_organization)&&(0,o.jsx)(k.Icon12Flag,{className:(0,g.getColorClass)("color_icon_tertiary")}),children:w.name});default:return null}}))},672145:(e,t,a)=>{a.d(t,{GroupItemCounter:()=>i});var o=a(785893),r=a(86894);const i=({value:e,minCountForShowBadge:t=20})=>e?e>t?(0,o.jsx)(r.Badge,{mode:"new"}):(0,o.jsx)(r.Counter,{size:"s",children:e}):null},508375:(e,t,a)=>{a.d(t,{GroupItem:()=>o.GroupItem});var o=a(486617)},253110:(e,t,a)=>{a.d(t,{getBadge:()=>l,getGroupUrl:()=>i,getMembersCountText:()=>n});var o=a(471828),r=a(108538);const i=e=>e.screen_name?`/${e.screen_name}`:`/club${e.id}`,n=(e=0)=>{const t=(0,r.formatCount)(e),a=e<1e3?e:0;return o.getLang("groups_X_app_users",a).replace(String(a),t)},l=(e,t)=>{if(!t||!t.count)return{text:n(e)};const a=t.preview_profiles?.reduce(((e,t)=>t.photo_50?[...e,t.photo_50]:e),[]);return{photos:a,text:o.getLang("groups_subscribed_friends",t.count)}}},639239:(e,t,a)=>{a.d(t,{HeaderCompact:()=>_});var o=a(785893),r=a(667294),i=a(249779),n=a(523147),l=a(659397),s=a(977053),c=a(325429),d=a(156184),u=a(789581),p=a(583268);const _=({actions:e,layout:t,badge:a,..._})=>{const m=(0,s.partConfigEnabled)("search_enable_new_design_catalog_header"),g=(0,c.useScrollToBlockById)(_.id);return(0,o.jsxs)(o.Fragment,{children:[g,(0,o.jsx)(i.Header,{indicator:(0,o.jsx)(d.HeaderIndicator,{badge:a}),size:m?"large":"small",mode:m?"primary":"secondary",className:(0,l.classNames)(p.default.header,!m&&"CatalogHeaderCompact"),"data-testid":"catalog-header-section-block",aside:e?.map(((e,a)=>(0,r.createElement)(n.Action,{..._,key:e.track_code||a,action:e,layout:t.name,dataTestId:(0,u.getClipDataTestId)(e)}))),children:t.title})]})}},306432:(e,t,a)=>{a.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=a(639239)},749738:(e,t,a)=>{a.d(t,{HeaderIndicator:()=>i});var o=a(785893),r=a(86894);const i=({badge:e})=>e?.text?"prominent"===e?.type?(0,o.jsx)(r.Counter,{size:"s",mode:"prominent",children:e.text}):(0,o.jsx)(o.Fragment,{children:e.text}):null},156184:(e,t,a)=>{a.d(t,{HeaderIndicator:()=>o.HeaderIndicator});var o=a(749738)},778009:(e,t,a)=>{a.d(t,{HeaderLarge:()=>p});var o=a(785893),r=a(667294),i=a(249779),n=a(772418),l=a(523147),s=a(869874),c=a(156184),d=a(504190),u=a(325429);const p=({actions:e,layout:t,badge:a,...p})=>{const{appCatalogService:_}=(0,u.useCatalogConfig)(),m=(0,d.useStore)(_.pageService.$catalogType)===u.CatalogType.GROUPS?(0,s.getOpenSectionHref)(e):void 0;return(0,o.jsx)(i.Header,{size:"large",href:m,mode:"primary",indicator:(0,o.jsx)(c.HeaderIndicator,{badge:a}),before:t.icon&&(0,o.jsx)(n.Image,{src:t.icon,size:28,borderRadius:"l"}),aside:e?.map(((e,a)=>(0,r.createElement)(l.Action,{...p,key:e.track_code||a,action:e,layout:t.name,ariaLabel:t.title}))),"aria-label":t.title,children:t.title})}},757185:(e,t,a)=>{a.d(t,{HeaderLarge:()=>o.HeaderLarge});var o=a(778009)},869874:(e,t,a)=>{a.d(t,{getOpenSectionHref:()=>o});const o=e=>e?.find((e=>"open_section"===e.action?.type))?.action?.url},328727:(e,t,a)=>{a.d(t,{Link:()=>R});var o=a(785893),r=a(977053),i=a(86894),n=a(836993),l=a(304474),s=a(50113),c=a(311429),d=a(772418),u=a(685994),p=a(242864),_=a(8820),m=a(571289),g=a(789581),v=a(546842),S=a(658508),f=a(413189),C=a(324153),h=a(75969),I=a(721848),E=a(234862),y=a(325429),k=a(775830),A=a(471828),T=a(111479);const R=({id:e,layout:t,type:a})=>{const{appCatalogService:R}=(0,E.useCatalogConfig)(),x=(0,E.useCollectClick)(),L=(0,y.useCatalogStoreMap)(R.linksService.$links,e),O=L?.meta?.track_code,w=(0,I.useRefLogView)({type:a,trackCode:O}),b=(0,n.useHelpHint)(l.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_MENU),N=(0,n.useHelpHint)(l.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION),V=(0,r.partConfigEnabled)("video_bookmarks_renaming_to_watch_later");if(!L)return null;const P=L?.url,B=()=>{x({track_code:O,type:a,action:C.SearchClickActionMap.TAP})},M="verified"===L?.meta?.icon?(0,o.jsx)(s.RasterIcon24Verified,{alt:A.getLang("search_verified")}):void 0,D="mini_app"!==L?.meta?.content_type?(0,o.jsx)(c.RichAvatar,{size:f.SLIDER_AVATAR_SIZE_SM,src:L?.image?.length?L.image[0].url:"",nft:!!L?.is_nft,children:M&&(0,o.jsx)(c.RichAvatar.Badge,{children:M})}):(0,o.jsx)(d.Image,{src:L?.image?.[0]?.url??"",size:f.SLIDER_AVATAR_SIZE_SM,borderRadius:"l",children:M&&(0,o.jsx)(d.Image.Badge,{children:M})});switch(t){case"slider":return(0,o.jsx)(u.HorizontalCell,{"data-testid":"link_slider",getRootRef:w,size:"s",header:(0,o.jsx)(p.TextClamp,{lines:2,children:L.title}),href:P,onClick:B,children:D});case"triple_stacked_slider":return(0,o.jsx)(m.TripleStackedSliderLinkItem,{href:P,ref:w,avatarSrc:L?.image?.length?L.image[0].url:"",onClick:B,title:L.title||""});case"list":return(0,o.jsx)(_.SimpleCell,{"data-testid":"link_list",getRootRef:w,href:P,before:(0,h.isContentTypeUrl)(L)?(0,o.jsx)("div",{className:T.default.iconUrl,children:(0,o.jsx)(v.Icon28LinkOutline,{})}):(0,o.jsx)(d.Image,{size:f.CATALOG_AVATAR_SIZE_M,src:L?.image?.length?L.image[0].url:"",borderRadius:"l"}),after:(0,h.isArrowVisible)(L)?(0,o.jsx)(S.Icon28ChevronRightOutline,{}):void 0,subtitle:L.subtitle,onClick:B,children:L.title});case"small_list":return(0,o.jsx)(i.TooltipContainer,{fixed:!0,children:(0,o.jsx)(_.SimpleCell,{"data-testid":"link_small_list",getRootRef:w,href:P,before:(0,g.testBookmarksSection)(P)&&b&&N&&V?(0,o.jsx)(k.MenuHelpHintTooltip,{helpHint:b,placement:"top-start",maxWidth:262,children:(0,o.jsx)("img",{className:T.default.iconSmall,src:L?.image?.length?L.image[2].url:""})}):(0,o.jsx)("img",{className:T.default.iconSmall,src:L?.image?.length?L.image[2].url:""}),expandable:"always",onClick:B,children:L.title})});default:return null}}},571289:(e,t,a)=>{a.d(t,{TripleStackedSliderLinkItem:()=>c});var o=a(785893),r=a(667294),i=a(96715),n=a(413189),l=a(8820),s=a(311429);const c=(0,r.forwardRef)((({href:e,onClick:t,title:a,isVerified:r,avatarSrc:c},d)=>(0,o.jsx)(l.SimpleCell,{"data-testid":"link_triple_stacked_slider",getRootRef:d,onClick:t,href:e,before:(0,o.jsx)(s.RichAvatar,{size:n.CATALOG_AVATAR_SIZE_M,src:c,onClick:t}),badgeAfterTitle:r?(0,o.jsx)(i.Icon16Verified,{}):null,children:a})));c.displayName="TripleStackedSliderLinkItem"},209760:(e,t,a)=>{a.d(t,{Link:()=>o.Link});var o=a(328727)},75969:(e,t,a)=>{a.d(t,{isArrowVisible:()=>r,isContentTypeUrl:()=>o});const o=e=>"url"===e.meta?.content_type,r=e=>!o(e)&&!["curator","artist"].includes(e?.meta?.content_type??"")},435742:(e,t,a)=>{a.d(t,{List:()=>S});var o=a(785893),r=a(667294),i=a(806660),n=a(413189),l=a(789581),s=a(659397),c=a(306657),d=a(234862),u=a(504190),p=a(86894),_=a(325429),m=a(708753),g=a(796155);const v=e=>{switch(e.data_type){case n.CatalogBlockDataType.LINKS:return null;case n.CatalogBlockDataType.VIDEOS:return"CatalogList--small";case n.CatalogBlockDataType.NEWSFEED_ITEMS:return"CatalogList--statuses";case n.CatalogBlockDataType.SEARCH_ENTITY_ITEMS:return"card"===e.layout.style?(0,s.classNames)("CatalogList--no-bottom","CatalogList--entity-card"):(0,s.classNames)("CatalogList--no-bottom","CatalogList--entity")}if(0===e.blockIndex)return"CatalogList--no-header"},S=e=>{const{blockResolvers:t,appCatalogService:a}=(0,d.useCatalogConfig)(),S=(0,u.useStore)(a.pageService.$catalogType),{data_type:f,layout:C,actions:h}=e,I=(0,u.useStore)(a.catalogService.$loadingBlockIds),E=t?.[C.name]?.(e)||(0,m.getBlockByDataType)(e),y=f===n.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION,k=f===n.CatalogBlockDataType.NEWSFEED_ITEMS,A=(0,l.getEventItemTypeByDataType)(e),T=I.includes(e.id),R=(0,r.useMemo)((()=>{const t=(0,l.extractItemsIds)(e),a=(0,l.getMaxItemsByBlock)(e);return a?[...(0,_.chunks)(t,a)]:[t]}),[e]);return(0,o.jsx)(o.Fragment,{children:R.map(((t,a)=>(0,o.jsxs)(i.Group,{"data-suggester-item":y,mode:"plain",separator:"hide",className:(0,s.classNames)("CatalogList",S===n.CatalogType.GROUPS&&"CatalogList--groups",v(e)),children:[h?.map(((t,a)=>{const o=(0,c.getAction)(t);return(0,r.createElement)(o,{...e,key:t.track_code||a,action:t,layout:C.name})})),T&&(0,o.jsx)(p.PanelSpinner,{}),!T&&(k&&(0,g.isResizeObserverSupported)()?(0,o.jsx)(_.VirtualList,{items:t,Item:E}):t.map((t=>(0,r.createElement)(E,{...t,key:t.id,layout:e.layout.name,block_id:e.id,type:A}))))]},t[0]?.id||a)))})}},838019:(e,t,a)=>{a.d(t,{List:()=>o.List});var o=a(435742)},708753:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>_});var o=a(413189),r=a(209760),i=a(2800),n=a(774971),l=a(802717),s=a(380859),c=a(160178),d=a(467655),u=a(858976),p=a(318394);const _=e=>{switch(e.data_type){case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return u.GroupCategory;case o.CatalogBlockDataType.GROUPS_INVITES:return p.GroupInvite;case o.CatalogBlockDataType.LINKS:return r.Link;case o.CatalogBlockDataType.VIDEOS:return i.Video;case o.CatalogBlockDataType.ALBUMS:return n.Playlist;case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:return s.SearchSuggestion;case o.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:return l.Suggestion;case o.CatalogBlockDataType.MUSIC_AUDIOS:return c.MusicAudios;case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return d.AudioPlaylist;default:return()=>null}}},2457:(e,t,a)=>{a.d(t,{MarketItem:()=>x});var o=a(785893),r=a(667294),i=a(504190),n=a(86894),l=a(807054),s=a(693475),c=a(96715),d=a(202325),u=a(352599),p=a(558359),_=a(459568),m=a(413189),g=a(324153),v=a(234862),S=a(721848),f=a(685994),C=a(800856),h=a(772418),I=a(981284),E=a(990460),y=a(242864),k=a(599801),A=a(70668),T=a(325429),R=a(708473);const x=({id:e,type:t,layout:a})=>{const{appCatalogService:x}=(0,v.useCatalogConfig)(),L=(0,v.useCollectClick)(),[[O]]=(0,r.useState)((0,A.extractIds)(e)),[w,b]=(0,k.useElementSize)(),N=(0,T.useCatalogStoreMap)(x.marketItemsService.$marketItems,e),V=(0,T.useCatalogStoreMap)(x.groupsService.$groups,Math.abs(O)),P=(0,T.useCatalogStoreArray)(x.marketItemsService.$marketItemPendingIds,String(e)),B=(0,i.useStore)(x.pageService.$catalogType),M=N?.track_code,D=(0,S.useRefLogView)({type:t,trackCode:M}),j=e=>{L({track_code:M,type:t,action:e})},F=()=>j(g.SearchClickActionMap.TAP),G=(0,r.useCallback)((()=>{x.searchRecentService.fireAddRecent({owner_ids:`-${V?.id}`})}),[V]),U=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),!P&&N&&(N.is_favorite?(j(g.SearchClickActionMap.UNFAVE),x.marketItemsService.fireRemoveFavorite({id:N.id,owner_id:N.owner_id})):(j(g.SearchClickActionMap.FAVE),x.marketItemsService.fireMakeFavorite({params:{id:N.id,owner_id:N.owner_id}})))}),[N,P]),H=(0,r.useMemo)((()=>{switch(a){case m.CatalogBlockLayoutName.SLIDER:return(0,_.getClosestImage)(N?.thumb||[],m.MARKET_ITEM_AVATAR_SIZE_SM)?.url??"";case m.CatalogBlockLayoutName.STACKED_LIST:return b.width?(0,_.getClosestImage)(N?.thumb||[],b.width)?.url??N?.thumb_photo??"":"";default:return N?.thumb_photo??""}}),[a,N,b.width]);if(!N)return null;const $=(0,A.getUrlWithTrackCode)((0,_.getMarketItemUrl)(N),M,B),z={"--image-height":`${b.width}px`};switch(a){case m.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(f.HorizontalCell,{"data-testid":"market_item_slider",getRootRef:D,size:"dynamic",className:"CatalogMarketItem",onClick:F,children:(0,o.jsxs)("div",{className:"CatalogMarketItem__inner",children:[(0,o.jsxs)(C.Link,{className:"CatalogMarketItem__avatar",hasHover:!1,href:$,children:[(0,o.jsx)(h.Image,{size:m.MARKET_ITEM_AVATAR_SIZE_SM,src:H}),(0,o.jsx)(I.IconButton,{"data-testid":"market_item_favorite",size:48,className:"CatalogMarketItem__avatarBtn",onClick:U,children:N.is_favorite?(0,o.jsx)(l.Icon28Favorite,{}):(0,o.jsx)(s.Icon28FavoriteOutline,{})})]}),(0,o.jsx)(C.Link,{className:"CatalogMarketItem__title",hasHover:!1,href:$,children:N.title}),(0,o.jsx)(E.Text,{weight:"1",className:"CatalogMarketItem__price",children:N.price.text}),V&&(0,o.jsxs)(C.Link,{className:"CatalogMarketItem__owner",hasHover:!1,href:`/${V.screen_name}`,onClick:G,children:[(0,o.jsx)("span",{className:"CatalogMarketItem__ownerName",children:V.name}),Boolean(V.verified)&&(0,o.jsx)("span",{className:"CatalogMarketItem__ownerIcon",children:(0,o.jsx)(c.Icon16Verified,{})})]})]})});case m.CatalogBlockLayoutName.STACKED_LIST:return(0,o.jsx)(n.Card,{"data-testid":"market_item_stacked_list",className:R.default.card,mode:"tint",children:(0,o.jsxs)(n.Tappable,{href:$,hasActive:!1,hasHover:!1,onClick:F,children:[(0,o.jsxs)("div",{className:R.default.imageWrapper,ref:w,style:z,children:[H?(0,o.jsx)("img",{className:R.default.image,src:H,width:"100%",height:"100%",alt:N.title}):(0,o.jsx)(d.Icon56MarketOutline,{}),(0,o.jsx)(I.IconButton,{"data-testid":"market_item_favorite",className:R.default.bookmark,onClick:U,children:N.is_favorite?(0,o.jsx)(u.Icon28Bookmark,{}):(0,o.jsx)(p.Icon28BookmarkOutline,{})})]}),(0,o.jsxs)("div",{className:R.default.body,children:[(0,o.jsx)(y.TextClamp,{TypographyComponent:n.Footnote,lines:1,weight:"3",className:R.default.subtitle,children:N.title}),(0,o.jsxs)(E.Subhead,{className:R.default.header,weight:"1",children:[(0,o.jsx)("span",{children:N.price.text}),N.price.old_amount_text&&(0,o.jsx)(n.Footnote,{weight:"3",className:R.default.oldPrice,children:N.price.old_amount_text})]}),V&&(0,o.jsxs)(n.Footnote,{className:R.default.group,weight:"3",children:[(0,o.jsx)(y.TextClamp,{lines:1,className:R.default.caption,children:V.name}),!!V.verified&&(0,o.jsx)(c.Icon16Verified,{className:R.default.verified})]})]})]})});default:return null}}},655298:(e,t,a)=>{a.d(t,{MarketItem:()=>o.MarketItem});var o=a(2457)},459568:(e,t,a)=>{a.d(t,{getClosestImage:()=>i,getMarketItemUrl:()=>r});var o=a(902947);const r=e=>`/product${e.owner_id}_${e.id}`,i=(e,t)=>{(0,o.isRetina)()&&(t*=2);return e.sort(((e,a)=>{const o=Math.max(e.width,e.height),r=Math.max(a.width,a.height),i=Math.abs(o-t),n=Math.abs(r-t);return i===n?r-o:i-n}))[0]}},92894:(e,t,a)=>{a.d(t,{MusicAudios:()=>v});var o=a(785893),r=a(659397),i=a(432483),n=a(18254),l=a(504190),s=a(340288),c=a(234862),d=a(324153),u=a(721848),p=a(471828),_=a(325429),m=a(962941),g=a(167929);const v=({id:e,type:t})=>{const{musicPlayer:a,userId:v,appCatalogService:S}=(0,c.useCatalogConfig)(),{id:f}=(0,m.mapAPIRawIdToAudioIdentity)(String(e)),C=(0,l.useStoreMap)(S.audioService.$audioItems,(e=>Array.from(e,(([,e])=>e)))),h=(0,_.useCatalogStoreMap)(S.audioService.$audioItems,e),I=(0,l.useStore)(S.audioService.$audioModifiedItems),E=I?.[f],y=(0,s.useAudioPlayer)(),k=(0,c.useCollectClick)(),A=(0,u.useRefLogView)({type:t,trackCode:h?.track_code});if(!h)return null;const T=y?.currentAudio?.id===h?.id,R=T&&"playing"===y.status;return(0,o.jsx)("div",{ref:A,children:(0,o.jsx)(n.MusicCell,{thumb:h?.album?.thumb?.photo_135,title:h.title,artists:[{name:h.artist}],duration:h.duration,isPlaying:R,isActive:T,isExplicit:h.is_explicit,onClick:()=>{if(k({action:R?d.SearchClickActionMap.PAUSE:d.SearchClickActionMap.PLAY,track_code:h.track_code,type:t}),R)y?.platformAudioPlayer?.pause();else{const e=a?.playlistType&&{ownerId:v,albumId:h?.id,type:a.playlistType};y?.platformAudioPlayer?.playAudio(h,C,y?.audioPlayerContext,e)}},after:(0,o.jsx)(i.Icon24MoreHorizontal,{className:g.default.moreIcon,onClick:e=>{e.stopPropagation();const o=!!E?.isAdded||!E?.isDeleted&&h.owner_id===v,r={action:o?d.SearchClickActionMap.REMOVE_FROM_ME:d.SearchClickActionMap.ADD_TO_ME,track_code:h.track_code,type:t},i={audio_id:h.id,owner_id:h.owner_id,user_id:v,access_key:h.access_key||""},n={buttonText:o?p.getLang("global_delete_audio"):p.getLang("global_add_to_audio"),target:e.currentTarget,onButtonClick:(l=()=>(o?S.audioService.deleteAudioFromMyList:S.audioService.addAudioToMyList)(i),s=r,(...e)=>{k(s),l(...e)})};var l,s;a?.openAudioActions?.(n)}}),thumbSize:48,className:(0,r.classNames)(g.default.musicCell,g.default.padding)})})}},160178:(e,t,a)=>{a.d(t,{MusicAudios:()=>o.MusicAudios});var o=a(92894)},866992:(e,t,a)=>{a.d(t,{NextFrom:()=>s});var o=a(785893),r=a(504190),i=a(433581),n=a(656092),l=a(325429);const s=(0,i.observer)((function({nextFrom:e,sectionId:t,rootMargin:a}){const{appCatalogService:i}=(0,l.useCatalogConfig)(),s=(0,r.useStore)(i.catalogService.$isSectionPending),c=(0,r.useStore)(i.catalogService.$loadingBlockIds),d=(0,r.useStore)(i.catalogService.$fetchSectionError),{currentSectionService:u}=(0,l.useCatalogHandlersContext)();return t&&0===c.length?(0,o.jsx)(n.DynamicPagination,{isLoading:u?u.checkNextLoading():s,fetchData:()=>{const a={section_id:t,start_from:e};u?u.fetchNext():i.catalogService.fireGetSection(a)},fetchError:d,nextFrom:e,rootMargin:a}):null}))},863619:(e,t,a)=>{a.d(t,{NextFrom:()=>o.NextFrom});var o=a(866992)},570624:(e,t,a)=>{a.d(t,{Placeholder:()=>g});var o=a(785893),r=a(258037),i=a(471828),n=a(504190),l=a(413189),s=a(492337),c=a(659397),d=a(234862),u=a(667294),p=a(775376);const _={[l.CatalogBlockLayoutName.PLACEHOLDER]:56,[l.CatalogBlockLayoutName.PLACEHOLDER_IMAGE_WARNING]:100,[l.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY]:100},m={[l.CatalogBlockLayoutName.PLACEHOLDER]:p.default.placeholderStretched,[l.CatalogBlockLayoutName.PLACEHOLDER_IMAGE_WARNING]:p.default.placeholderStretched,[l.CatalogBlockLayoutName.PLACEHOLDER_BIG]:p.default.placeholderBig,[l.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY]:p.default.placeholderStretched},g=({placeholder_ids:e,layout:t})=>{const{appCatalogService:a}=(0,d.useCatalogConfig)(),{setContentRestricted:g}=(0,d.useCatalogSearch)(),v=(0,n.useStore)(a.placeholdersService.$placeholders),S=_[t.name];return(0,u.useEffect)((()=>{if(t.name===l.CatalogBlockLayoutName.PLACEHOLDER_ILLEGAL_QUERY){const e=setTimeout((()=>g(!0)));return()=>{clearTimeout(e),g(!1)}}}),[t.name]),(0,o.jsx)("div",{className:(0,c.classNames)(p.default.placeholder,m[t.name]),children:e?.map((e=>{const t=v.get(e);if(!t)return null;const a=t.buttons?.map(((t,a)=>{const r=(0,s.getButton)(t);return(0,o.jsx)(r,{id:e,button:t},a)}));return(0,o.jsx)(r.Placeholder,{header:t.title,action:a,icon:t.icons&&(0,o.jsx)("img",{className:p.default.image,width:S,height:S,srcSet:t.icons.map(((e,t)=>`${e.url} ${t+1}x`)).join(", "),alt:t.title}),children:t.text||i.getLang("mobile_search_no_found_summary")},e)}))})}},395250:(e,t,a)=>{a.d(t,{StartLive:()=>n});var o=a(785893),r=a(441430),i=a(325429);const n=({button:e})=>{const{openLiveSettings:t,liveEnabled:a}=(0,i.useCatalogVideo)();return(0,o.jsx)(o.Fragment,{children:a&&(0,o.jsx)(r.Button,{size:"m",mode:"primary",onClick:()=>{t({})},children:e.title})})}},721994:(e,t,a)=>{a.d(t,{StartLive:()=>o.StartLive});var o=a(395250)},783773:(e,t,a)=>{a.d(t,{UploadVideo:()=>l});var o=a(785893),r=a(441430),i=a(504190),n=a(234862);const l=({button:e})=>{const{appCatalogService:t}=(0,n.useCatalogConfig)(),{openVideoUploader:a}=(0,n.useCatalogVideo)(),l=(0,i.useStoreMap)({store:t.playlistService.$playlistItems,keys:[e.owner_id||0,e.album_id||0],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===a&&o===t))});return(0,o.jsx)(r.Button,{size:"m",mode:"primary",onClick:()=>{a({playlist:l})},children:e.title})}},68765:(e,t,a)=>{a.d(t,{UploadVideo:()=>o.UploadVideo});var o=a(783773)},981978:(e,t,a)=>{a.d(t,{Placeholder:()=>o.Placeholder});var o=a(570624)},492337:(e,t,a)=>{a.d(t,{getButton:()=>n});var o=a(68765),r=a(413189),i=a(721994);const n=e=>{switch(e.action?.type){case r.CatalogActionType.UPLOAD_VIDEO:return o.UploadVideo;case r.CatalogActionType.START_LIVE:return i.StartLive;default:return()=>null}}},199729:(e,t,a)=>{a.d(t,{Playlist:()=>A});var o=a(785893),r=a(667294),i=a(504190),n=a(471828),l=a(413189),s=a(161643),c=a(200958),d=a(44175),u=a(408903),p=a(165592),_=a(783390),m=a(721848),g=a(324153),v=a(322695),S=a(70668),f=a(234862),C=a(913335),h=a(536438),I=a(802509),E=a(626863),y=a(774229),k=a(325429);const A=({id:e,layout:t,type:a,badge:A})=>{const{appCatalogService:T}=(0,f.useCatalogConfig)(),[R,x]=e.toString().split("_"),{openPlaylistActions:L,isVideoPWA:O}=(0,f.useCatalogVideo)(),w=(0,f.useCollectClick)(),b=(0,u.useWindowWidth)(),N=(0,i.useStore)(T.pageService.$catalogType),V=(0,i.useStore)(T.$isStandaloneSection),P=(0,i.useStoreMap)({store:T.playlistService.$playlistItems,keys:[R,x],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),B=(0,S.getUrlWithTrackCode)((0,d.getPlaylistURL)(P?.owner_id,P?.id),P?.track_code,N),M=(0,k.useCatalogStoreMap)(T.groupsService.$groups,Math.abs(Number(R))),D=(0,i.useStoreMap)({store:T.profilesService.$profiles,keys:[R],fn:(e,[t])=>e.get(+t)}),j=(0,r.useMemo)((()=>M||D),[M,D]),F=(0,r.useCallback)((e=>{const t=e=>()=>{w?.({action:e,track_code:P?.track_code,type:g.EventItemType.VIDEO_PLAYLIST}),v.searchStatsCollector.logOutOfSerpEvent({action:e,type:g.EventItemType.VIDEO_PLAYLIST})},a={copy:t(V?g.SearchClickActionMap.COPY_LINK_OUT:g.SearchClickActionMap.COPY_LINK),remove:t(V?g.SearchClickActionMap.REMOVE_FROM_ME_OUT:g.SearchClickActionMap.REMOVE_FROM_ME),unsubscribe:t(V?g.SearchClickActionMap.UNSUBSCRIBE_OUT:g.SearchClickActionMap.UNSUBSCRIBE),share:t(V?g.SearchClickActionMap.SHARE_OUT:g.SearchClickActionMap.SHARE)};L({target:e.currentTarget,playlist:P,clickEvents:a})}),[P,V]),G=()=>{w?.({action:g.SearchClickActionMap.TAP,track_code:P?.track_code,type:g.EventItemType.VIDEO_PLAYLIST})},U=()=>{w?.({action:V?g.SearchClickActionMap.OPEN_OWNER_OUT:g.SearchClickActionMap.OPEN_OWNER,track_code:P?.track_code,type:g.EventItemType.VIDEO_PLAYLIST})},H=(0,m.useRefLogView)({type:a,trackCode:P?.track_code});if(!P)return null;switch(t){case l.CatalogBlockLayoutName.LIST:return(0,o.jsx)(p.VideoListItem,{getRootRef:H,title:P?.title,secondTitle:(0,n.langNumeric)(P?.count||0,n.getLang("mobile_video_videos_counter","raw"),!0),url:B,preview:(0,o.jsx)(c.PlaylistPreview,{playlist:P,badge:A}),onMoreClick:F,onClick:G});case l.CatalogBlockLayoutName.SLIDER:case l.CatalogBlockLayoutName.DOUBLE_STACKED_SLIDER:return(0,o.jsx)(_.SliderCard,{playlist:P,getRootRef:H,badge:A});case l.CatalogBlockLayoutName.DOUBLE_STACKED_LIST:return(0,o.jsx)(s.PlaylistCard,{getRootRef:H,playlist:P,parentWidth:b});case l.CatalogBlockLayoutName.BANNER:return(0,o.jsx)(C.PlaylistBanner,{images:P.image,imageBlur:Boolean(P.image_blur)});case l.CatalogBlockLayoutName.TITLE_SUBTITLE_AVATAR:return(0,o.jsx)(h.PlaylistHeader,{ownerId:P.owner_id,title:P.title,ownerUrl:(0,E.getOwnerUrl)(j,O?"/video/@":void 0),ownerAvatar:(0,I.getOwnerAvatar)(j),isNFT:(0,y.checkOwnerIsNFT)(j),followersCount:P.followers_count,onAuthorClick:U});default:return null}}},913335:(e,t,a)=>{a.d(t,{PlaylistBanner:()=>c});var o=a(785893),r=a(667294),i=a(659397),n=a(408081),l=a(408903),s=a(998106);const c=({images:e=[],imageBlur:t=!1})=>{const[a,c]=(0,r.useState)(!1),d=(0,l.useWindowWidth)(),u=(0,i.getPhotoSize)(e.filter((e=>!e.with_padding)),d);(0,r.useEffect)((()=>{u?.url&&c(!1)}),[u?.url]);const p=!!u&&u.height/u.width>1;return(0,o.jsx)("div",{className:(0,i.classNames)(s.default.root,s.default.ratio,{[s.default.verticalRatio]:p}),children:u?.url&&!a?(0,o.jsx)("img",{onError:()=>c(!0),className:(0,i.classNames)(s.default.thumb,{[s.default.verticalThumb]:p,[s.default.blur]:t}),loading:"lazy",src:u.url,width:u.width,height:u.height}):(0,o.jsx)(n.Icon56ListPlayOutline,{className:s.default.placeholder})})}},161643:(e,t,a)=>{a.d(t,{PlaylistCard:()=>g});var o=a(785893),r=a(86894),i=a(471828),n=a(757830),l=a(44175),s=a(659397),c=a(324153),d=a(234862),u=a(504190),p=a(70668),_=a(242864),m=a(990460);const g=({playlist:e,parentWidth:t=0,getRootRef:a})=>{const{devicePixelRatio:g,appCatalogService:v}=(0,d.useCatalogConfig)(),S=(0,d.useCollectClick)(),f=(0,s.getPhotoSize)(e?.image||[],t/2*g),C=Boolean(e?.image_blur),h=(0,u.useStore)(v.pageService.$catalogType),I=(0,p.getUrlWithTrackCode)((0,l.getPlaylistURL)(e?.owner_id,e?.id),e?.track_code,h),E=()=>{S?.({action:c.SearchClickActionMap.TAP,track_code:e?.track_code,type:c.EventItemType.VIDEO_PLAYLIST})};return(0,o.jsxs)("div",{ref:a,className:n.default.root,children:[(0,o.jsxs)("a",{"data-testid":"album_card",href:I,onClick:E,className:n.default.preview,children:[(0,o.jsx)("img",{src:f?.url,className:(0,s.classNames)(n.default.thumb,{[n.default.blur]:C})}),e?.count&&e.count>1&&(0,o.jsx)(r.Footnote,{weight:"1",className:n.default.counter,children:i.getLang("mobile_video_series_counter",e.count,!0)})]}),!!e?.title&&(0,o.jsx)(_.TextClamp,{TypographyComponent:m.Headline,Component:"a",level:"2",href:I,onClick:E,className:n.default.title,lines:2,children:e.title})]})}},536438:(e,t,a)=>{a.d(t,{PlaylistHeader:()=>p});var o=a(785893),r=a(822474),i=a(311429),n=a(242864),l=a(990460),s=a(471828),c=a(234862),d=a(826068),u=a(99051);const p=({ownerId:e,ownerUrl:t,ownerAvatar:a,title:p,followersCount:_,isNFT:m,onAuthorClick:g})=>{const{navGo:v}=(0,c.useCatalogConfig)(),{openUnauthorizedMoreBox:S}=(0,c.useCatalogVideo)();return(0,o.jsxs)("div",{className:r.default.root,children:[e!==window.vk.id&&(0,o.jsx)(i.RichAvatar,{className:r.default.avatar,nft:!!m,size:40,src:a,onClick:e=>{g?.(),(0,d.isVKUserAnonymous)()?S({source:u.UnauthorizedSourceType.SUBSCRIBE_VIDEO_AUTHOR,event:e}):v(t)}}),(0,o.jsxs)("div",{className:r.default.titleWrapper,children:[(0,o.jsx)(n.TextClamp,{TypographyComponent:l.Title,level:"3",className:r.default.title,lines:2,children:p}),(0,o.jsx)(l.Headline,{level:"2",className:r.default.subtitle,children:_?(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,s.langNumeric)(_,s.getLang("video_showcase_N_subscribers","raw"),!0)}}):s.getLang("mobile_video_playlist_no_subscribers")})]})]})}},200958:(e,t,a)=>{a.d(t,{PlaylistPreview:()=>c});var o=a(785893),r=a(790894),i=a(86894),n=a(89062),l=a(413720),s=a(234862);const c=({playlist:e,owner:t,badge:a})=>{const{userId:c}=(0,s.useCatalogConfig)();return(0,o.jsxs)("div",{className:r.default.root,children:[(0,o.jsx)(n.VideoPreview,{video:{image:e?.image,privacy_view:e?.privacy,restriction:e?.cover_video_restriction},ownerId:t?.id||0,viewerId:c,mode:"compact"}),(0,o.jsx)("div",{className:r.default.overlay,children:(0,o.jsx)(l.Icon20ListPlayOutline,{})}),!!a&&(0,o.jsx)(i.Badge,{mode:"new",className:r.default.badge})]})}},783390:(e,t,a)=>{a.d(t,{SliderCard:()=>p});var o=a(785893),r=a(44175),i=a(200958),n=a(234862),l=a(324153),s=a(70668),c=a(504190),d=a(685994),u=a(242864);const p=({playlist:e,getRootRef:t,badge:a})=>{const{appCatalogService:p}=(0,n.useCatalogConfig)(),_=(0,n.useCollectClick)(),m=(0,c.useStore)(p.pageService.$catalogType),g=(0,s.getUrlWithTrackCode)((0,r.getPlaylistURL)(e?.owner_id,e?.id),e?.track_code,m);return(0,o.jsx)(d.HorizontalCell,{"data-testid":"slider_card",getRootRef:t,size:"dynamic",href:g,onClick:()=>{_({action:l.SearchClickActionMap.TAP,track_code:e?.track_code,type:l.EventItemType.VIDEO_PLAYLIST})},header:e?.title?(0,o.jsx)(u.TextClamp,{lines:2,children:e.title}):null,children:(0,o.jsx)(i.PlaylistPreview,{playlist:e,badge:a})})}},774971:(e,t,a)=>{a.d(t,{Playlist:()=>o.Playlist});var o=a(199729)},935612:(e,t,a)=>{a.d(t,{Preview:()=>i});var o=a(785893),r=a(89609);const i=e=>{const{group_items:t,layout:a,actions:i,id:n}=e,l=(0,r.getBlockByDataType)(e),s=i?.find((({action:e})=>"open_url"===e?.type));return(0,o.jsx)(l,{id:n,group_items:t,action:s,layout:a.name,description:a.subtitle,title:a.title})}},89609:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>i});var o=a(413189),r=a(977720);const i=e=>e.data_type===o.CatalogBlockDataType.GROUPS_ITEMS?r.PreviewGroupItems:()=>null},625051:(e,t,a)=>{a.d(t,{Preview:()=>o.Preview});var o=a(935612)},424477:(e,t,a)=>{a.d(t,{PreviewGroupItems:()=>_});var o=a(785893),r=a(667294),i=a(504190),n=a(325429),l=a(413189),s=a(8820),c=a(235502),d=a(733552),u=a(769473);const p=({group_items:e,layout:t,description:a,title:r,action:p})=>{const{appCatalogService:_}=(0,n.useCatalogConfig)(),m=e?.map((e=>e.id)),g=(0,i.useStoreMap)({store:_.groupsService.$groups,keys:[m],fn:(e,[t=[]])=>t.map((t=>e.get(t))).filter((e=>Boolean(e))).map((e=>e.photo_50))}),v=(0,u.getHref)(p);return t===l.CatalogBlockLayoutName.PREVIEW?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.SimpleCell,{href:v,before:(0,o.jsx)(c.AvatarStack,{size:48,hoverMode:"",hasActive:!1,backAvatar:{size:36,src:g[1]},frontAvatar:{size:36,src:g[0]}}),expandable:"always",subtitle:a,children:r}),(0,o.jsx)(d.Spacing,{size:12})]}):null},_=(0,r.memo)(p)},977720:(e,t,a)=>{a.d(t,{PreviewGroupItems:()=>o.PreviewGroupItems});var o=a(424477)},769473:(e,t,a)=>{a.d(t,{getHref:()=>o});const o=e=>e?.action?.url?e.action.url.replace("static.vk.com","m.vk.com/vkui"):""},135100:(e,t,a)=>{a.d(t,{SearchSpellchecker:()=>m});var o=a(785893),r=a(504190),i=a(8820),n=a(990460),l=a(733552),s=a(800856),c=a(797610),d=a(324153),u=a(721848),p=a(234862),_=a(152626);const m=({id:e,type:t})=>{const{appCatalogService:a}=(0,p.useCatalogConfig)(),{search:m}=(0,p.useCatalogSearch)(),g=(0,p.useCollectClick)(),v=(0,r.useStore)(a.pageService.$pageId),S=(0,r.useStoreMap)({store:a.searchSpellcheckersService.$searchSpellcheckers,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),f=S?.track_code,C=(0,u.useRefLogView)({type:t,trackCode:f});if(!S)return null;const h=(0,c.prepareSpellcheck)(S);return(0,o.jsxs)(i.SimpleCell,{getRootRef:C,className:_.default.searchSpellcheck,hasActive:!1,hasHover:!1,children:[(0,o.jsxs)(n.Text,{"data-testid":"spellcheker_text",className:_.default.searchSpellcheckTitle,children:[h.title," ",(0,o.jsx)(n.Text,{"data-testid":"spellcheker_request",className:_.default.searchSpellcheckQuery,weight:"1",children:h.query.text})]}),(0,o.jsx)(l.Spacing,{size:4}),(0,o.jsxs)(n.Text,{className:_.default.searchSpellcheckSubtitle,children:[h.suggest," ",(0,o.jsx)(s.Link,{"data-testid":"search_spellchecker",onClick:()=>{S?.id&&f&&(m({q:S.search_action.next_search_query,page:v,additionalParams:{suggestTrackCode:f,noSpellcheck:1}}),g({action:d.SearchClickActionMap.TAP,track_code:S.track_code,type:d.EventItemType.CATALOG_ITEM}))},className:_.default.searchSpellcheckSubtitleButton,children:h.search_action.text})]})]})}},276573:(e,t,a)=>{a.d(t,{SearchSuggestion:()=>p});var o=a(785893),r=a(504190),i=a(8820),n=a(189741),l=a(748870),s=a(234862),c=a(324153),d=a(721848),u=a(325429);const p=({id:e,layout:t,type:a})=>{const{appCatalogService:p}=(0,s.useCatalogConfig)(),{search:_}=(0,s.useCatalogSearch)(),m=(0,s.useCollectClick)(),g=(0,r.useStore)(p.pageService.$pageId),v=(0,u.useCatalogStoreMap)(p.suggestionsService.$suggestions,e),S=(0,d.useRefLogView)({type:a,trackCode:v?.track_code});if(!v)return null;const{title:f="",subtitle:C,context:h,id:I,track_code:E}=v,y=()=>{I&&f&&(m({action:c.SearchClickActionMap.TAP,track_code:E,type:a}),_({q:f,page:g,additionalParams:{context:h,suggestTrackCode:E}}))};return"slider"===t?(0,o.jsx)(l.SliderSuggestion,{title:f,subtitle:C,onClick:y,ref:S}):(0,o.jsx)(i.SimpleCell,{"data-testid":"search_suggestion","data-suggester-item":!0,onClick:y,before:(0,o.jsx)(n.Icon28SearchOutline,{}),getRootRef:S,children:f})}},398242:(e,t,a)=>{a.d(t,{SliderSuggestion:()=>s});var o=a(785893),r=a(667294),i=a(584676),n=a(103096),l=a(480028);const s=(0,r.forwardRef)((({title:e,subtitle:t,onClick:a},r)=>(0,o.jsx)(i.Div,{className:l.default.suggestionItem,getRootRef:r,children:(0,o.jsx)(n.SearchSuggestion,{title:e,subtitle:t,onClick:a})})))},748870:(e,t,a)=>{a.d(t,{SliderSuggestion:()=>o.SliderSuggestion});var o=a(398242)},380859:(e,t,a)=>{a.d(t,{SearchSuggestion:()=>o.SearchSuggestion});var o=a(276573)},116820:(e,t,a)=>{a.d(t,{Slider:()=>v});var o=a(785893),r=a(667294),i=a(86894),n=a(413189),l=a(789581),s=a(523147),c=a(172045),d=a(991640),u=a(234862),p=a(344201),_=a(584676),m=a(366201);const g=[n.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD,n.CatalogBlockLayoutName.SLIDER_CARD,n.CatalogBlockLayoutName.SLIDER_EVENT,n.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER],v=e=>{const{blockResolvers:t}=(0,u.useCatalogConfig)(),{layout:a,actions:v}=e,S=(0,r.useMemo)((()=>(0,l.extractItemsIds)(e)),[e]),f=t?.[a.name]?.(e)||(0,d.getBlockByDataType)(e),C=(0,l.getEventItemTypeByDataType)(e);if(!S.length&&1===v?.length&&a.name===n.CatalogBlockLayoutName.HORIZONTAL_BUTTONS){const e=v?.[0],t=e?.track_code||(0,c.default)();return(0,o.jsx)(s.Action,{id:t,action:e,layout:a.name},t)}const h=(0,d.getScrollSize)(a),I=g.includes(a.name),E={className:m.default.content,spacing:0,...I?{mode:"horizontal",paddingBottom:4}:{mode:"vertical",paddingBottom:8,paddingTop:8}};return(0,o.jsx)(i.HorizontalScroll,{getScrollToLeft:e=>e-h,getScrollToRight:e=>e+h,children:(0,o.jsxs)(_.Div,{...E,children:[S.map(((e,t)=>(0,o.jsx)(f,{...e,layout:a.name,type:C,itemIndex:t},e.id))),(0,o.jsx)(p.SliderPagination,{...e}),v?.map((e=>{const t=e.track_code||(0,c.default)();return(0,o.jsx)(s.Action,{id:t,action:e,layout:a.name},t)}))]})})}},344201:(e,t,a)=>{a.d(t,{SliderPagination:()=>d});var o=a(785893),r=a(656092),i=a(325429),n=a(577635),l=a(433581),s=a(504190),c=a(366201);const d=(0,l.observer)((function(e){const{appCatalogService:t}=(0,i.useCatalogConfig)(),a=(0,s.useStore)(t.catalogService.CatalogGetBlockItemsFx.pending),{next_from:l,id:d}=e,{hasPagination:u,loadingComponent:p}=(0,n.paginationData)(e),{currentSectionService:_}=(0,i.useCatalogHandlersContext)(),m=()=>{_?_.fetchNextFromBlock(d):t.catalogService.fireGetBlockItems({block_id:d,start_from:l})};return u&&l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:c.default.pagination,children:(0,o.jsx)(r.DynamicPagination,{withSpinner:!1,isLoading:_?_.checkNextFromBlockLoading(d):a,nextFrom:l,fetchData:m})}),p]}):null}))},991640:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>m,getScrollSize:()=>g});var o=a(413189),r=a(209760),i=a(655298),n=a(508375),l=a(2800),s=a(774971),c=a(523147),d=a(380859),u=a(467655),p=a(357660),_=a(858976);const m=e=>{switch(e.data_type){case o.CatalogBlockDataType.LINKS:return r.Link;case o.CatalogBlockDataType.ACTION:return c.Action;case o.CatalogBlockDataType.MARKET_ITEMS:return i.MarketItem;case o.CatalogBlockDataType.GROUPS_ALL:case o.CatalogBlockDataType.GROUPS_ITEMS:return n.GroupItem;case o.CatalogBlockDataType.GROUPS_COLLECTION:return p.GroupCollection;case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return _.GroupCategory;case o.CatalogBlockDataType.VIDEOS:return l.Video;case o.CatalogBlockDataType.ALBUMS:return s.Playlist;case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:return d.SearchSuggestion;case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return u.AudioPlaylist;default:return()=>null}},g=e=>{switch(e.name){case o.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:return o.GROUP_REDESIGN_SLIDER_SCROLL;case o.CatalogBlockLayoutName.SLIDER_CARD:case o.CatalogBlockLayoutName.SLIDER_EVENT:return o.GROUP_REDESIGN_EVENT_SLIDER_SCROLL;default:return o.SLIDER_SCROLL}}},202194:(e,t,a)=>{a.d(t,{Slider:()=>o.Slider});var o=a(116820)},577635:(e,t,a)=>{a.d(t,{paginationData:()=>l});var o=a(785893),r=a(413189),i=a(975689),n=a(366201);const l=({data_type:e,layout:t})=>(e=>{switch(e.name){case r.CatalogBlockLayoutName.SLIDER_MINIMALISTIC_CARD:case r.CatalogBlockLayoutName.SLIDER_EVENT:return!0;default:return!1}})(t)&&e===r.CatalogBlockDataType.GROUPS_ITEMS?{hasPagination:!0,loadingComponent:(0,o.jsx)("div",{className:n.default.groupsItemSliderElement,children:(0,o.jsx)(i.RecommendationBlock.LoadingCard,{size:"square",cardProps:{stretched:!0,buttonType:"primary"}})})}:{hasPagination:!1}},484967:(e,t,a)=>{a.d(t,{StackedList:()=>u});var o=a(785893),r=a(667294),i=a(21355),n=a(789581),l=a(86894),s=a(584676),c=a(282788),d=a(325429);const u=e=>{const{layout:t,data_type:a}=e,{blockResolvers:u}=(0,d.useCatalogConfig)(),p=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),_=u?.[t.name]?.(e)||(0,i.getBlockByDataType)(e),m=(0,n.getEventItemTypeByDataType)(e),{viewWidth:g=l.ViewWidth.MOBILE}=(0,l.useAdaptivityWithJSMediaQueries)(),v=g>=l.ViewWidth.SMALL_TABLET;return(0,i.getIsWideGridStackedItem)(a)?(0,o.jsx)(s.Div,{mode:"horizontal",spacing:0,children:(0,o.jsx)(c.Grid,{columns:v?2:1,spacing:12,children:p.map((t=>(0,o.jsx)(c.Grid.Item,{children:(0,o.jsx)(_,{...t,layout:e.layout.name,block_id:e.id,type:m})},t.id)))})}):(0,o.jsx)(l.CardGrid,{size:v?"s":"m",spaced:!0,children:p.map((t=>(0,r.createElement)(_,{...t,key:t.id,layout:e.layout.name,block_id:e.id,type:m})))})}},926786:(e,t,a)=>{a.d(t,{StackedList:()=>o.StackedList});var o=a(484967)},21355:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>i,getIsWideGridStackedItem:()=>n});var o=a(413189),r=a(508375);const i=e=>e.data_type===o.CatalogBlockDataType.GROUPS_ITEMS?r.GroupItem:()=>null,n=e=>e===o.CatalogBlockDataType.GROUPS_ITEMS},944341:(e,t,a)=>{a.d(t,{Suggestion:()=>g});var o=a(785893),r=a(504190),i=a(8820),n=a(981284),l=a(601523),s=a(315954),c=a(189741),d=a(324153),u=a(234862),p=a(721848),_=a(325429),m=a(517837);const g=({id:e,track_code:t,block_id:a,type:g})=>{const{appCatalogService:v}=(0,u.useCatalogConfig)(),{search:S}=(0,u.useCatalogSearch)(),f=(0,u.useCollectClick)(),C=(0,r.useStore)(v.pageService.$pageId),h=(0,_.useCatalogStoreMap)(v.suggestionsService.$suggestions,e),I=h?.track_code||t,E=(0,p.useRefLogView)({type:g,trackCode:I}),y=()=>{h?.id&&h.title&&(S({q:h.title,page:C,additionalParams:{suggestTrackCode:I}}),f({action:d.SearchClickActionMap.TAP,track_code:I,type:g}))},k=e=>{e.stopPropagation(),e.preventDefault(),h?.id&&(a&&v.suggestionsService.fireRemoveSearchRecentQuery({block_id:a,params:{item_id:h.id,track_code:I}}),f({action:d.SearchClickActionMap.REMOVE_RECENT,track_code:I,type:g}))};return h?"recent"===h.type?(0,o.jsx)(i.SimpleCell,{"data-testid":"suggestion_recent",getRootRef:E,"data-suggester-item":!0,onClick:y,before:(0,o.jsx)(l.Icon28HistoryBackwardOutline,{}),after:(0,o.jsx)(n.IconButton,{onClick:k,"data-testid":"suggestion_recent_clear",children:(0,o.jsx)(s.Icon24Cancel,{className:m.default.suggestionRemove})}),children:h.title}):(0,o.jsx)(i.SimpleCell,{"data-testid":"search_suggestion",getRootRef:E,"data-suggester-item":!0,onClick:y,before:(0,o.jsx)(c.Icon28SearchOutline,{}),children:h.title}):null}},802717:(e,t,a)=>{a.d(t,{Suggestion:()=>o.Suggestion});var o=a(944341)},299328:(e,t,a)=>{a.d(t,{Text:()=>s});var o=a(785893),r=a(667294),i=a(806660),n=a(484754),l=a(789581);const s=e=>{const t=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),a=(0,n.getBlockByDataType)(e),s=(0,l.getEventItemTypeByDataType)(e);return(0,o.jsx)(i.Group,{mode:"plain",separator:"hide",children:t.map((t=>(0,r.createElement)(a,{...t,key:t.id,layout:e.layout.name,block_id:e.id,type:s})))})}},788257:(e,t,a)=>{a.d(t,{Text:()=>o.Text});var o=a(299328)},484754:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(413189),r=a(135100);const i=e=>e.data_type===o.CatalogBlockDataType.SEARCH_SPELLCHECKER&&e?.search_spellcheckers_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.SEARCH_SPELLCHECKER?r.SearchSpellchecker:()=>null},772369:(e,t,a)=>{a.d(t,{TitleSubtitleAvatar:()=>l});var o=a(785893),r=a(667294),i=a(217032),n=a(789581);const l=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,i.getBlockByDataType)(e),l=(0,n.getEventItemTypeByDataType)(e);return(0,o.jsx)("div",{children:t.map((t=>(0,o.jsx)(a,{...t,layout:e.layout.name,type:l},t.id)))})}},440010:(e,t,a)=>{a.d(t,{TitleSubtitleAvatar:()=>o.TitleSubtitleAvatar});var o=a(772369)},217032:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i,getBlockByDataType:()=>n});var o=a(413189),r=a(774971);const i=e=>e.data_type===o.CatalogBlockDataType.ALBUMS&&e.albums_ids?.map((e=>({id:e})))||[],n=e=>e.data_type===o.CatalogBlockDataType.ALBUMS?r.Playlist:()=>null},472038:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>d});var o=a(785893),r=a(667294),i=a(874745),n=a(86894),l=a(789581),s=a(766761),c=a(325429);const d=e=>{const{blockResolvers:t}=(0,c.useCatalogConfig)(),a=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),d=t?.[e.layout.name]?.(e)||(0,i.getBlockByDataType)(e),u=(0,l.getEventItemTypeByDataType)(e),p=(0,i.getDirectionType)(e),_=(0,r.useMemo)((()=>a.map((t=>({key:t.id,length:t.content_length,component:(0,o.jsx)(d,{...t,layout:e.layout.name,type:u})})))),a);return(0,o.jsx)(n.HorizontalScroll,{children:(0,o.jsx)(s.TripleStackedSliderItems,{directionType:p,content:_})})}},367340:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>s});var o=a(785893),r=a(325429),i=a(576494),n=a(659397),l=a(109694);const s=({directionType:e,content:t})=>{const a=e===i.DirectionType.row,s=a?(0,r.toColumnWithRows)(t,3):(0,n.chunkArray)(t,3);return(0,o.jsx)("div",{className:l.default.catalogTripleStackedSliderInner,children:s.map(((e,t)=>(0,o.jsx)("ul",{className:l.default.catalogTripleStackedSliderColumn,children:e?.map((e=>(0,o.jsx)("li",{children:(0,o.jsx)("div",{className:(0,n.classNames)(a&&l.default.row),children:e.component})},e.key)))},t)))})}},766761:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>o.TripleStackedSliderItems});var o=a(367340)},34516:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>o.TripleStackedSlider});var o=a(472038)},576494:(e,t,a)=>{var o;a.d(t,{DirectionType:()=>o}),function(e){e.row="row",e.column="column"}(o||(o={}))},874745:(e,t,a)=>{a.d(t,{extractItemsIds:()=>c,getBlockByDataType:()=>d,getDirectionType:()=>s});var o=a(413189),r=a(160178),i=a(209760),n=a(858976),l=a(576494);const s=e=>e.data_type===o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS?l.DirectionType.row:l.DirectionType.column,c=e=>{switch(e.data_type){case o.CatalogBlockDataType.MUSIC_AUDIOS:return e.audios_ids?.map((e=>({id:e})))||[];case o.CatalogBlockDataType.LINKS:return e.links_ids?.map((e=>({id:e})))||[];case o.CatalogBlockDataType.GROUPS_ITEMS:return e.group_items||[];case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return e?.group_category_items?.map((({id:e,click_action:t})=>({id:e||"",action:t,content_length:t?.title?.length})))||[];default:return[]}},d=e=>{switch(e.data_type){case o.CatalogBlockDataType.MUSIC_AUDIOS:return r.MusicAudios;case o.CatalogBlockDataType.LINKS:return i.Link;case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return n.GroupCategory;default:return()=>null}}},288574:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>c});var o=a(785893),r=a(977795),i=a(16579),n=a(714328),l=a(491371),s=a(108538);const c=({video:e,owner:t,href:a,getRootRef:c})=>{if(!e||!t)return null;const d=(0,n.getThumb)(e.image??e.first_frame??[],131);return(0,o.jsx)("div",{ref:c,className:r.default.card,children:(0,o.jsx)("a",{href:a,children:(0,o.jsx)(l.ClipContainer,{width:131,size:"compact",isLocked:(0,i.isLockedVideo)(e,t),isBlured:Boolean(e.restriction?.blur),mode:"cover",views:(0,s.formatCount)(e.views??0),cover:d,"data-testid":"clips-catalog-clip-card"})})})}},399443:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>o.ShortVideoCard});var o=a(288574)},16579:(e,t,a)=>{a.d(t,{isLockedVideo:()=>r});var o=a(924130);function r(e,t){return Boolean(t?.id===window.vk.id)&&Boolean(e.privacy_view&&(0,o.isBasePrivacyLimited)(e.privacy_view))}},372177:(e,t,a)=>{a.d(t,{Video:()=>I});var o=a(785893),r=a(667294),i=a(685994),n=a(504190),l=a(324153),s=a(413189),c=a(527278),d=a(399443),u=a(562328),p=a(89062),_=a(190349),m=a(717402),g=a(165592),v=a(721848),S=a(234862),f=a(70668),C=a(362144),h=a(325429);a(917067);const I=({id:e,layout:t,type:a})=>{const{userId:I,appCatalogService:E}=(0,S.useCatalogConfig)(),y=(0,S.useCollectClick)(),k=(0,n.useStore)(E.$isStandaloneSection),A=(0,n.useStore)(E.pageService.$catalogType),[T,R]=e.toString().split("_"),x=(0,n.useStoreMap)({store:E.videoService.$videoItems,keys:[T,R],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),L=(0,n.useStoreMap)({store:E.videoService.$notInterestedVideos,keys:[e],fn:(e,[t])=>e.hasOwnProperty(String(t))}),O=(0,h.useCatalogStoreMap)(E.groupsService.$groups,Math.abs(Number(T))),w=(0,n.useStoreMap)({store:E.profilesService.$profiles,keys:[T],fn:(e,[t])=>e.get(+t)}),b=x?.main_artists?.length?x.main_artists[0]:void 0,N=x?.track_code,V=(0,v.useRefLogView)({type:a,trackCode:N}),P=(0,r.useCallback)((e=>{if(x){const t=e=>()=>{y?.({action:e,track_code:x.track_code,type:l.EventItemType.VIDEO})},a={fave:t(k?l.SearchClickActionMap.FAVE_OUT:l.SearchClickActionMap.FAVE),unfave:t(k?l.SearchClickActionMap.UNFAVE_OUT:l.SearchClickActionMap.UNFAVE),share:t(k?l.SearchClickActionMap.SHARE_OUT:l.SearchClickActionMap.SHARE),copy:t(k?l.SearchClickActionMap.COPY_LINK_OUT:l.SearchClickActionMap.COPY_LINK),addToMe:t(k?l.SearchClickActionMap.ADD_TO_ME_OUT:l.SearchClickActionMap.ADD_TO_ME),removeFromMe:t(k?l.SearchClickActionMap.REMOVE_FROM_ME_OUT:l.SearchClickActionMap.REMOVE_FROM_ME),removeRecent:t(l.SearchClickActionMap.REMOVE_RECENT)};E.videoService.openVideoActions({target:e.currentTarget,video:x,clickEvents:a})}}),[x,y,k]);if(!x)return null;const B=()=>{y?.({action:l.SearchClickActionMap.TAP,track_code:x?.track_code,type:l.EventItemType.VIDEO})},M=()=>{x?.owner_id&&x?.id&&E.videoService.markVideoNotInterested({owner_id:x.owner_id,video_id:x.id,is_unset:1})},D=(0,f.getUrlWithTrackCode)((0,C.getVideoUrl)(x),N,A)||"";switch(t){case s.CatalogBlockLayoutName.VIDEO_SLIDER:return(0,o.jsx)(c.VideoCard,{videoData:x||{},owner:O||w||b,catalogType:A,onMoreClick:P,isLargeCard:!0,getRootRef:V});case s.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(i.HorizontalCell,{getRootRef:V,size:"dynamic",href:D,children:(0,o.jsx)(c.VideoCard,{videoData:x||{},owner:O||w||b,catalogType:A})});case s.CatalogBlockLayoutName.LIST:case s.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return(0,o.jsx)(g.VideoListItem,{getRootRef:V,title:x.title,secondTitle:(0,m.formatViews)(x.views,!0),lastTitle:(0,_.formatDateTime)(x.date,!0),url:D,preview:(0,o.jsx)(p.VideoPreview,{video:x||{},ownerId:Number((O||w||b)?.id||0),viewerId:I,mode:"compact"}),onMoreClick:P,onClick:B});case s.CatalogBlockLayoutName.LARGE_LIST:return L?(0,o.jsx)(u.VideoNotInterestedCard,{onClick:M}):(0,o.jsx)(c.VideoCard,{getRootRef:V,videoData:x,owner:O||w||b,fullWidth:!0,onMoreClick:P,catalogType:A});case s.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:return(0,o.jsx)(d.ShortVideoCard,{getRootRef:V,href:(0,C.getVideoUrl)(x),video:x,owner:w||O});default:return null}}},145689:(e,t,a)=>{a.d(t,{VideoCard:()=>T});var o=a(785893),r=a(940889),i=a(233670),n=a(659397),l=a(493829),s=a(242864),c=a(981284),d=a(130593),u=a(354768),p=a(181089),_=a(583117),m=a(432483),g=a(89062),v=a(540254),S=a(626863),f=a(362144),C=a(190349),h=a(802509),I=a(717402),E=a(234862),y=a(324153),k=a(70668),A=a(826068);const T=({videoData:e,owner:t,fullWidth:a,onMoreClick:T,getRootRef:R,catalogType:x,isLargeCard:L})=>{const{userId:O}=(0,E.useCatalogConfig)(),w=Boolean(T&&!(0,A.isVKUserAnonymous)()),b=(0,E.useCollectClick)(),{restriction:N,live_status:V}=e,P=(0,v.getOwnerName)(t),B=(0,h.getOwnerAvatar)(t),M=Boolean(t&&"verified"in t&&t?.verified),D=(0,k.getUrlWithTrackCode)((0,f.getVideoUrl)(e),e.track_code,x),j=t?(0,S.getOwnerUrl)(t,"/video/@"):void 0,F=!a&&!L,G=!N,U=({children:e,href:t,...a})=>F?(0,o.jsx)("div",{...a,children:e}):(0,o.jsx)("a",{href:t,...a,children:e});let H;(a||L)&&e.width&&e.height&&(H=Math.max(r.MAX_RATIO,Math.min(e.height/e.width,r.MIN_RATIO)));const $=()=>{b({action:y.SearchClickActionMap.TAP,track_code:e.track_code,type:y.EventItemType.VIDEO})},z=()=>{b({action:y.SearchClickActionMap.OPEN_OWNER,track_code:e.track_code,type:y.EventItemType.VIDEO})},W=(0,o.jsxs)("div",{className:i.default.subtitle,children:[(0,o.jsx)("div",{className:i.default.userNameWrapper,children:(0,o.jsx)(U,{"data-testid":"video_card_author_name",href:j,onClick:z,className:i.default.userName,children:P})}),M&&(0,o.jsx)(u.Icon12Verified,{className:i.default.verifiedIcon}),(a||L)&&G&&(0,o.jsxs)(o.Fragment,{children:["·",(0,o.jsxs)("span",{className:i.default.views,children:[(0,o.jsx)(p.Icon12View,{className:i.default.viewIcon})," ",(0,I.formatViews)(e?.views)]}),!V&&(0,o.jsxs)(o.Fragment,{children:["·",(0,o.jsx)("span",{children:(0,C.formatDateTime)(e?.date)})]})]})]});return(0,o.jsxs)("div",{ref:R,className:(0,n.classNames)(!a&&!L&&i.default.cardRounded,L&&i.default.largeCard),children:[(0,o.jsx)(g.VideoPreview,{video:e,ownerId:Number(t?.id||0),viewerId:O,itemUrl:F?"":D,onItemClick:$,mode:"regular",ratio:H,withTimeline:!0,fullWidth:a}),(0,o.jsxs)("div",{className:i.default.info,children:[(0,o.jsxs)("div",{className:i.default.main,children:[(a||L)&&(0,o.jsx)(U,{"data-testid":"video_card_author",href:j,onClick:z,className:i.default.avatarWrapper,children:(0,o.jsx)(l.Avatar,{src:B,size:40})}),(0,o.jsxs)("div",{className:i.default.titleWrapper,children:[(0,o.jsx)(U,{"data-testid":"video_card_title",href:D,onClick:$,className:i.default.title,children:(0,o.jsx)(s.TextClamp,{lines:L?1:2,children:e?.title})}),W]})]}),w&&(0,o.jsx)(c.IconButton,{"data-testid":"video_card_more",className:(0,d.getColorClass)("color_icon_tertiary"),onClick:T,children:L?(0,o.jsx)(_.Icon24MoreVertical,{}):(0,o.jsx)(m.Icon24MoreHorizontal,{})})]})]})}},527278:(e,t,a)=>{a.d(t,{VideoCard:()=>o.VideoCard});var o=a(145689)},494415:(e,t,a)=>{a.d(t,{VideoCardActionSheet:()=>u});var o=a(785893),r=a(504190),i=a(667294),n=a(789581),l=a(471828),s=a(325429),c=a(903999),d=a(397631);const u=({target:e,video:t,clickEvents:a={}})=>{const{appCatalogService:u}=(0,s.useCatalogConfig)(),{openVideoEditor:p,useConfirmPopout:_,VideoActionSheet:m}=(0,s.useCatalogVideo)(),g=(0,r.useStore)(u.catalogService.$catalog),v=(0,r.useStore)(u.$isStandaloneSection),S=(0,i.useMemo)((()=>g?.sections?.find((({id:e})=>e===g?.default_section))),[g?.sections,g?.default_section]),f=S?.blocks?.[0]?.albums_ids?.[0],{ownerId:C,itemId:h}=(0,d.splitRawId)(f||""),I=(0,r.useStoreMap)({store:u.playlistService.$playlistItems,keys:[C||0,h||0],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===a&&o===t))}),E=t.owner_id||0,y=t.id||0,k=Boolean((0,n.testPlaylistSection)(S?.url)&&C&&h&&I?.can_upload),A=(0,n.testHistorySection)(v?window.location.pathname:S?.url),T=Boolean(!I?.can_upload||C===window.vk.id),R=Boolean(t.can_dislike&&((0,n.testDiscoverSection)(S?.url)||"/video"===window.location.pathname)),x=t.can_delete&&E!==window.vk.id,L=_({titleLabel:l.getLang("mobile_video_delete_video_confirm_title"),textLabel:l.getLang("mobile_video_delete_video_confirm_text"),callback:()=>{u.videoService.removeVideoFromMyVideos({target_id:window.vk.id,owner_id:E,video_id:y})}}),O=_({titleLabel:l.getLang("mobile_video_delete_video_confirm_title"),textLabel:l.getLang("mobile_video_delete_video_from_group_confirm_text"),callback:()=>{u.videoService.removeVideoFromMyVideos({target_id:E,owner_id:E,video_id:y})}});return(0,o.jsx)(m,{actionSheetId:"catalog_sheet_video_card",target:e,video:t,onClose:()=>u.layoutService.setPopout(null),onSuccessCopyLink:()=>u.layoutService.showSnackbar({event:c.SNACKBAR_EVENTS.COPY_LINK}),clickEvents:a,removeVideoFromMyVideos:T?L:void 0,removeVideo:x?O:void 0,addVideoToMyVideos:()=>{u.videoService.addVideoToMyVideos({target_id:window.vk.id,owner_id:E,video_id:y})},removeVideoFromFave:()=>{u.videoService.removeVideoFromFave({owner_id:E,id:y})},addVideoToFave:()=>{u.videoService.addVideoToFave({owner_id:E,id:y,ref:t.track_code})},editVideo:()=>{p({video:t,ownerId:E})},moveToPlaylist:()=>{u.videoService.openAddToPlaylistModal({ownerId:E,videoId:y})},removeVideoFromHistory:A?()=>{u.videoService.removeVideoFromHistory({owner_id:E,video_id:y})}:void 0,removeVideoFromPlaylist:k?()=>{u.videoService.removeVideoFromPlaylist({target_id:Number(C),album_ids:String(h),owner_id:E,video_id:y})}:void 0,markVideoNotInterested:R?()=>{u.videoService.markVideoNotInterested({owner_id:E,video_id:y,is_unset:0})}:void 0})}},553373:(e,t,a)=>{a.d(t,{VideoCardActionSheet:()=>o.VideoCardActionSheet});var o=a(494415)},562328:(e,t,a)=>{a.d(t,{VideoNotInterestedCard:()=>u});var o=a(785893),r=a(584676),i=a(535659),n=a(990460),l=a(130593),s=a(441430),c=a(733552),d=a(471828);const u=({onClick:e})=>(0,o.jsxs)(r.Div,{mode:"horizontal",spacing:8,children:[(0,o.jsx)(i.StatusBanner,{header:(0,o.jsx)(n.Subhead,{className:(0,l.getColorClass)("color_text_secondary"),children:d.getLang("mobile_video_not_interested_placeholder")}),before:null,after:(0,o.jsx)(s.Button,{"data-testid":"video_not_interested_card_button",onClick:e,mode:"tertiary",children:d.getLang("mobile_video_not_interested_placeholder_action")})}),(0,o.jsx)(c.Spacing,{})]})},2800:(e,t,a)=>{a.d(t,{Video:()=>o.Video});var o=a(372177)},917067:(e,t,a)=>{var o=a(785893),r=a(325429),i=a(798116),n=a(553373);const l=r.appCatalogService.domain.createEffect({name:"fetch/openVideoActions",handler:({target:e,video:t,clickEvents:a})=>{t&&(r.appCatalogService.layoutService.setSnackbar(null),r.appCatalogService.layoutService.setPopout((0,o.jsx)(n.VideoCardActionSheet,{target:e,video:t,clickEvents:a})))}});(0,i.sample)({clock:r.appCatalogService.videoService.openVideoActions,target:l})},129561:(e,t,a)=>{a.d(t,{Action:()=>i});var o=a(785893),r=a(756588);const i=({action:e,...t})=>{if(!e)return null;const a=(0,r.getActionByType)(e);return(0,o.jsx)(a,{...t,action:e})}},712099:(e,t,a)=>{a.d(t,{BlockFilter:()=>u});var o=a(785893),r=a(667294),i=a(86894),n=a(504190),l=a(413189),s=a(325429),c=a(726583);const d=e=>`catalog-action-${e}`,u=({layout:e,action:t})=>{const{appCatalogService:a}=(0,s.useCatalogConfig)(),u=(0,n.useStore)(a.actionsService.$selectedAction),p=(0,r.useCallback)((e=>{const{replacement_id:t,url:o}=e;if(t!==u?.replacement_id&&a.actionsService.selectAction(e),!o)return;const r=new URL(o);r.origin===window.location.origin&&history.replaceState(null,"",r)}),[u]);return(0,r.useEffect)((()=>{u?.replacement_id&&document.getElementById(d(u.replacement_id))?.scrollIntoView({block:"nearest",behavior:"smooth",inline:"center"})}),[u?.replacement_id]),e===l.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(o.Fragment,{children:t.options?.map((e=>{const{replacement_id:t,selected:a,text:r}=e,n=u?t===u.replacement_id:1===a;return(0,o.jsx)(i.SubnavigationButton,{id:d(t),className:c.default.root,selected:n,mode:n?"tertiary":"outline",onClick:()=>p(e),size:"s","data-testid":`tab-${r.replace(" ","_")}`,children:r},t)}))}):null}},782944:(e,t,a)=>{a.d(t,{BlockFilter:()=>o.BlockFilter});var o=a(712099)},798178:(e,t,a)=>{a.d(t,{OpenUrl:()=>l});var o=a(785893),r=a(969057),i=a(800856),n=a(413189);const l=({action:e,layout:t})=>{const a=e?.action?.url;return t===n.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(r.HorizontalCellShowMore,{href:a,size:"l",stretched:!0,children:e.title}):(0,o.jsx)(i.Link,{href:a,children:e.title})}},255287:(e,t,a)=>{a.d(t,{OpenUrl:()=>o.OpenUrl});var o=a(798178)},121538:(e,t,a)=>{a.d(t,{OpenVideo:()=>l});var o=a(785893),r=a(397631),i=a(800856),n=a(234862);const l=({action:e})=>{const{videoCardProps:t}=(0,n.useCatalogDesktopVideo)(),{video_raw_id:a}=e;if(void 0===a)return null;return(0,o.jsx)(i.Link,{noUnderline:!0,onClick:e=>{const{itemId:o,ownerId:i}=(0,r.splitRawId)(a);t.onVideoOpen(e,{id:o,owner_id:i})},children:e.title})}},790449:(e,t,a)=>{a.d(t,{OpenVideo:()=>o.OpenVideo});var o=a(121538)},937153:(e,t,a)=>{a.d(t,{OpenVideoPlaylist:()=>n});var o=a(785893),r=a(800856),i=a(234862);const n=({action:e})=>{const{onPlaylistOpen:t}=(0,i.useCatalogDesktopVideo)(),{album_id:a,owner_id:n,video_raw_id:l}=e;return void 0===a||void 0===n||void 0===l?null:(0,o.jsx)(r.Link,{noUnderline:!0,onClick:e=>t(e,{id:a,owner_id:n,first_video_id:l}),"data-testid":"play_all_playlist_button",children:e.title})}},929737:(e,t,a)=>{a.d(t,{OpenVideoPlaylist:()=>o.OpenVideoPlaylist});var o=a(937153)},342114:(e,t,a)=>{a.d(t,{SwitchSection:()=>m});var o=a(785893),r=a(667294),i=a(969057),n=a(800856),l=a(504190),s=a(150108),c=a(912254),d=a(322695),u=a(324153),p=a(413189),_=a(234862);const m=({action:e,layout:t})=>{const{appCatalogService:a}=(0,_.useCatalogConfig)(),m=(0,l.useStore)(a.pageService.$catalogType),g=()=>{const e=(0,c.getTrackCode)("search_track_code");e&&d.searchStatsCollector.logEvent({action:u.SearchClickActionMap.TAP_SHOW_ALL,track_code:e,type:u.EventItemType.CATALOG_ITEM})},v=e?.action?.url,S=e.section_id,f=(0,r.useMemo)((()=>{if(v)return(0,s.makeUrl)(v,{section_id:S||"",from:m})}),[v,S]);return t===p.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(i.HorizontalCellShowMore,{href:f,size:"l",stretched:!0,children:e.title}):(0,o.jsx)(n.Link,{href:f,onClick:g,children:e.title})}},451717:(e,t,a)=>{a.d(t,{SwitchSection:()=>o.SwitchSection});var o=a(342114)},704488:(e,t,a)=>{a.d(t,{VideoSubscriptionsBlockFilter:()=>c});var o=a(785893),r=a(504190),i=a(366005),n=a(858447),l=a(76346),s=a(322695);const c=({action:e,layout:t})=>{const a=(0,r.useStore)(i.appCatalogService.actionsService.$selectedAction);if(!e.options?.length)return null;const c=e.options.some((e=>1===e.selected));return(0,o.jsx)(o.Fragment,{children:e.options.map((r=>{const d=()=>{r.replacement_id!==a?.replacement_id&&1!==r.selected?(s.videoAuthorFilterClickCollector.logEvent(r.trackcode),i.appCatalogService.actionsService.selectAction(r)):e.default_option&&i.appCatalogService.actionsService.selectAction(e.default_option)};return r.group_id?(0,o.jsx)(n.GroupItem,{id:r.group_id,elementId:(u=r.replacement_id,`catalog-action-${u}`),onClick:d,layout:t,...(0,l.getBlockFilterGroupMode)(a,r,c)},r.group_id):null;var u}))})}},76346:(e,t,a)=>{a.d(t,{getBlockFilterGroupMode:()=>o});const o=(e,t,a)=>e?e.replacement_id===t.replacement_id?{activated:!0}:{disableOpacity:!0}:a?1===t.selected?{activated:!0}:{disableOpacity:!0}:void 0},63174:(e,t,a)=>{a.d(t,{VideoSubscriptionsBlockFilter:()=>o.VideoSubscriptionsBlockFilter});var o=a(704488)},756588:(e,t,a)=>{a.d(t,{getActionByType:()=>_});var o=a(413189),r=a(264330),i=a(782944),n=a(255287),l=a(451717),s=a(63174),c=a(790449),d=a(929737),u=a(747650);const p=()=>null,_=e=>{switch(e.action?.type){case o.CatalogActionType.BLOCK_FILTER:return i.BlockFilter;case o.CatalogActionType.OPEN_URL:return n.OpenUrl;case o.CatalogActionType.SWITCH_SECTION:return l.SwitchSection;case o.CatalogActionType.CLEAR_RECENT_GROUPS:return u.ClearRecentGroups;case o.CatalogActionType.VIDEO_SUBSCRIPTIONS_BLOCK_FILTER:return s.VideoSubscriptionsBlockFilter;case o.CatalogActionType.OPEN_SECTION:return r.OpenSection;case o.CatalogActionType.OPEN_VIDEO_MODAL:return c.OpenVideo;case o.CatalogActionType.OPEN_VIDEO_PLAYLIST_MODAL:return d.OpenVideoPlaylist;default:return p}}},278733:(e,t,a)=>{a.d(t,{Action:()=>o.Action});var o=a(129561)},667579:(e,t,a)=>{a.d(t,{GroupItem:()=>u});var o=a(785893),r=a(685994),i=a(242864),n=a(311429),l=a(902947),s=a(413189),c=a(191221),d=a(325429);const u=({id:e,layout:t,elementId:a,onClick:u,activated:p,disableOpacity:_})=>{const{appCatalogService:m}=(0,d.useCatalogConfig)(),g=(0,d.useCatalogStoreMap)(m.groupsService.$groups,e);if(!g)return null;const v=((0,l.isRetina)()?g.photo_200:g.photo_100)||"";return t===s.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(r.HorizontalCell,{id:a,size:"m",header:(0,o.jsx)(i.TextClamp,{lines:1,className:c.default.title,title:g.name,children:g.name}),activated:p,disableOpacity:_,onClick:u,children:(0,o.jsx)(n.RichAvatar,{size:72,src:v,nft:Boolean(g.is_nft_photo)})}):null}},858447:(e,t,a)=>{a.d(t,{GroupItem:()=>o.GroupItem});var o=a(667579)},863585:(e,t,a)=>{a.d(t,{Header:()=>l});var o=a(785893),r=a(667294),i=a(249779),n=a(278733);const l=({actions:e,layout:t,badge:a,...l})=>(0,o.jsx)(i.Header,{size:"large",aside:e?.map(((e,a)=>(0,r.createElement)(n.Action,{...l,key:e.track_code||a,action:e,layout:t.name}))),indicator:a?.text,stretched:!1,children:t.title})},32734:(e,t,a)=>{a.d(t,{Header:()=>o.Header});var o=a(863585)},46306:(e,t,a)=>{a.d(t,{IslandSeparator:()=>i});var o=a(785893),r=a(928557);const i=()=>(0,o.jsxs)("div",{className:r.default.separator,children:[(0,o.jsx)("div",{className:r.default.upperSeparator}),(0,o.jsx)("div",{className:r.default.lowerSeparatorWrapper,children:(0,o.jsx)("div",{className:r.default.lowerSeparator})})]})},367751:(e,t,a)=>{a.d(t,{IslandSeparator:()=>o.IslandSeparator});var o=a(46306)},455808:(e,t,a)=>{a.d(t,{Link:()=>n});var o=a(785893),r=a(18254),i=a(325429);const n=({id:e})=>{const{appCatalogService:t}=(0,i.useCatalogConfig)(),a=(0,i.useCatalogStoreMap)(t.linksService.$links,e);return a?(0,o.jsx)(r.MusicCell,{thumb:a?.image?.length?a.image[0].url:"",title:"",duration:0,after:(0,o.jsx)(o.Fragment,{}),artists:[{name:a.title??"",href:a.url??""}],thumbSize:48}):null}},586094:(e,t,a)=>{a.d(t,{Link:()=>o.Link});var o=a(455808)},345175:(e,t,a)=>{a.d(t,{List:()=>m});var o=a(785893),r=a(282788),i=a(86894),n=a(659397),l=a(504190),s=a(234862),c=a(789581),d=a(461097),u=a(909249),p=a(414064);const _={className:a(36702).default.list,rowSpacing:24,columnSpacing:12,numberOfSkeletons:12},m=e=>{const{listGridProps:t}=(0,s.useCatalogDesktopVideo)(),{appCatalogService:a}=(0,s.useCatalogConfig)(),{spacing:m,rowSpacing:g,columnSpacing:v,numberOfSkeletons:S,columnsQueries:f,columnsDefault:C,...h}=t||_,I=m?{spacing:m}:{rowSpacing:g,columnSpacing:v},E=(0,u.useListAdaptivityColumns)(f,C),y=(0,c.extractItemsIds)(e),k=(0,d.getBlockByDataType)(e),A=(0,l.useStore)(a.catalogService.$loadingBlockIds).includes(e.id),T=(0,p.isListItemSkeletonAvailable)(e);return A&&!T?(0,o.jsx)(i.PanelSpinner,{}):(0,o.jsx)(r.Grid,{...h,...I,columns:E,children:A?(0,n.createArray)(S||0).map(((t,a)=>(0,o.jsx)(r.Grid.Item,{children:(0,o.jsx)(p.ListItemSkeleton,{...e},a)},a))):y?.map((({id:t,...a})=>(0,o.jsx)(r.Grid.Item,{children:(0,o.jsx)(k,{...a,id:t,layout:e.layout.name,itemBadges:e.item_badges})},t)))})}},824748:(e,t,a)=>{a.d(t,{ListItemSkeleton:()=>l,isListItemSkeletonAvailable:()=>n});var o=a(785893),r=a(413189),i=a(875664);const n=e=>[r.CatalogBlockDataType.VIDEOS].includes(e.data_type),l=e=>n(e)&&e.data_type===r.CatalogBlockDataType.VIDEOS?(0,o.jsx)(i.VideoCardSkeleton,{singleLineTitle:!0}):null},414064:(e,t,a)=>{a.d(t,{ListItemSkeleton:()=>o.ListItemSkeleton,isListItemSkeletonAvailable:()=>o.isListItemSkeletonAvailable});var o=a(824748)},461097:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>d});var o=a(413189),r=a(215505),i=a(875664),n=a(564594),l=a(123403),s=a(318394);const c=()=>null,d=e=>{switch(e.data_type){case o.CatalogBlockDataType.ALBUMS:return r.Playlist;case o.CatalogBlockDataType.SEARCH_AUTHORS:return l.SearchAuthor;case o.CatalogBlockDataType.VIDEOS:return i.Video;case o.CatalogBlockDataType.GROUPS_INVITES:return s.GroupInvite;case o.CatalogBlockDataType.MUSIC_AUDIOS:return n.MusicAudios;default:return c}}},461850:(e,t,a)=>{a.d(t,{List:()=>o.List,useListAdaptivityColumns:()=>r.useListAdaptivityColumns});var o=a(345175),r=a(909249)},909249:(e,t,a)=>{a.d(t,{useListAdaptivityColumns:()=>r});var o=a(862540);const r=(e=[{value:3,query:{minWidth:1106,maxWidth:1357}},{value:4,query:{minWidth:1358,maxWidth:2040}},{value:5,query:{minWidth:2041}}],t=2)=>(0,o.useAdaptivityMediaQueries)(e,t)},493319:(e,t,a)=>{a.d(t,{MusicAudios:()=>v});var o=a(785893),r=a(895037),i=a(471828),n=a(584676),l=a(18254),s=a(504190),c=a(340288),d=a(234862),u=a(324153),p=a(721848),_=a(325429),m=a(847441),g=a(962941);const v=({id:e,type:t,block_id:a})=>{const{musicPlayer:v,userId:S,appCatalogService:f}=(0,d.useCatalogConfig)(),{id:C}=(0,g.mapAPIRawIdToAudioIdentity)(String(e)),h=(0,s.useStoreMap)(f.audioService.$audioItems,(e=>Array.from(e,(([,e])=>e)))),I=(0,_.useCatalogStoreMap)(f.audioService.$audioItems,e),E=(0,s.useStore)(f.audioService.$audioModifiedItems),y=E?.[C],k=(0,c.useAudioPlayer)(),A=(0,d.useCollectClick)(),T=(0,p.useRefLogView)({type:t,trackCode:I?.track_code});if(!I)return null;const R=k?.currentAudio?.id===I?.id,x=R&&"playing"===k.status,L=(()=>{const a=!!y?.isAdded||!y?.isDeleted&&I.owner_id===S,o={action:a?u.SearchClickActionMap.REMOVE_FROM_ME:u.SearchClickActionMap.ADD_TO_ME,track_code:I.track_code,type:t},r={audio_id:I.id,owner_id:I.owner_id,user_id:S,access_key:I.access_key||""};return[{children:a?i.getLang("global_delete_audio"):i.getLang("global_add_to_audio"),onClick:t=>(t.stopPropagation(),A(o),k.platformAudioPlayer?.notify?.(a?m.AudioPlayerEventType.REMOVED:m.AudioPlayerEventType.ADDED,e),void(a?f.audioService.deleteAudioFromMyList:f.audioService.addAudioToMyList)(r))}]})();return(0,o.jsx)(n.Div,{getRootRef:T,mode:"horizontal",children:(0,o.jsx)(l.MusicCell,{thumb:I?.album?.thumb?.photo_135,title:I.title,artists:I.main_artists?I.main_artists:[{name:I.artist}],featuredArtists:I.featured_artists,duration:I.duration,isPlaying:x,isActive:R,isExplicit:I.is_explicit,onClick:()=>{if(A({action:x?u.SearchClickActionMap.PAUSE:u.SearchClickActionMap.PLAY,track_code:I.track_code,type:t}),x)k?.platformAudioPlayer?.pause();else{const e=v?.playlistType&&{ownerId:S,albumId:I?.id,type:v.playlistType,blockId:a},t=`catalog:${a}`;k?.platformAudioPlayer?.playAudio(I,h,t,e)}},after:(0,o.jsx)(r.MusicAudiosMenu,{items:L}),thumbSize:48})})}},895037:(e,t,a)=>{a.d(t,{MusicAudiosMenu:()=>l});var o=a(785893),r=a(924766),i=a(130593),n=a(432483);const l=({items:e=[]})=>{const t=e.map(((e,t)=>(0,o.jsx)(r.DropdownActionSheet.Item,{...e},t)));return(0,o.jsx)(r.DropdownActionSheet,{action:"click",placement:"bottom-end",content:(0,o.jsx)(o.Fragment,{children:t}),children:(0,o.jsx)(n.Icon24MoreHorizontal,{onClick:e=>{e.stopPropagation(),e.preventDefault()},className:(0,i.getColorClass)("color_icon_secondary")})})}},564594:(e,t,a)=>{a.d(t,{MusicAudios:()=>o.MusicAudios});var o=a(493319)},983939:(e,t,a)=>{a.d(t,{MusicPlaylist:()=>v});var o=a(785893),r=a(667294),i=a(108538),n=a(123239),l=a(242864),s=a(990460),c=a(690033),d=a(540254),u=a(325429),p=a(324153),_=a(93799),m=a(340288),g=a(912254);const v=(0,r.memo)((0,u.withCatalogStore)((({item:e,blockId:t,collectClick:a,getRootRef:v,trackCode:S})=>{const{findOwner:f}=(0,u.useCatalogOwner)(),{showAudioPlaylist:C}=(0,u.useCatalogSearch)(),{currentPlaylist:h,platformAudioPlayer:I,status:E}=(0,m.useAudioPlayer)(),y=(0,r.useMemo)((()=>f(e.owner_id)),[f,e]),k=`catalog:${t}`,A=e.original?e.original.playlist_id===h?.original?.playlist_id&&e.original.owner_id===h.original.owner_id:h?.id===e.id&&h.owner_id===e.owner_id,T=A&&E===_.AudioPlayerStatus.PLAYING,{title:R,main_artists:x,thumbs:L,photo:O,year:w,count:b,plays:N}=e,V=x?.map((e=>e.name)).join(", ")||(0,d.getOwnerName)(y),P=[O,...L??[]].map((e=>e?.photo_270)).filter((e=>Boolean(e)));return(0,o.jsx)("div",{ref:v,children:(0,o.jsx)(n.MusicPlaylistItem,{size:"l",thumbs:P,onClick:t=>{a(p.SearchClickActionMap.TAP),C?.({event:t,ctx:k,audioPlaylist:e,onDone:()=>(0,g.setTrackCode)("search_track_code",S)})},countLabel:b,isActive:A,isPlaying:T,playsLabel:(0,i.formatCount)(N),onPlayPauseClick:()=>{I&&(a(T?p.SearchClickActionMap.PAUSE:p.SearchClickActionMap.PLAY),T?I.pause():I.playPlaylist(e,k))},title:(0,o.jsx)(l.TextClamp,{TypographyComponent:s.Text,lines:1,children:R}),subtitle:(0,o.jsxs)(c.Join,{separator:" ",children:[(0,o.jsx)(l.TextClamp,{TypographyComponent:s.Subhead,weight:"3",lines:1,children:V}),w&&(0,o.jsx)(s.Subhead,{weight:"3",children:w})]})})})}),u.appCatalogService.musicPlaylistsService.$musicPlaylists,(e=>"playlist"===e.album_type?p.EventItemType.MUSIC_PLAYLIST:p.EventItemType.MUSIC_ALBUM)))},827498:(e,t,a)=>{a.d(t,{MusicPlaylist:()=>o.MusicPlaylist});var o=a(983939)},290865:(e,t,a)=>{a.d(t,{PinnedVideo:()=>u});var o=a(785893),r=a(789581),i=a(234862),n=a(102985),l=a(504190),s=a(86894),c=a(584676),d=a(602843);const u=e=>{const{appCatalogService:t}=(0,i.useCatalogConfig)(),a=(0,r.extractItemsIds)(e),u=(0,n.getBlockByDataType)(e);if((0,l.useStore)(t.catalogService.$loadingBlockIds).includes(e.id))return(0,o.jsx)(s.PanelSpinner,{});const[{id:p,..._}]=a,m=String(p);return(0,o.jsx)(c.Div,{mode:"vertical",spacing:8,className:d.default.container,children:(0,o.jsx)(u,{id:m,..._,layout:e.layout.name,kitVideoCardProps:{direction:"horizontal"}})})}},102985:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>n});var o=a(413189),r=a(875664);const i=()=>null,n=e=>e.data_type===o.CatalogBlockDataType.VIDEOS?r.Video:i},918399:(e,t,a)=>{a.d(t,{PinnedVideo:()=>o.PinnedVideo});var o=a(290865)},634273:(e,t,a)=>{a.d(t,{Placeholder:()=>c});var o=a(785893),r=a(258037),i=a(86894),n=a(504190),l=a(234862),s=a(526569);const c=({placeholder_ids:e,id:t})=>{const{appCatalogService:a,withStretchedPlaceholders:c}=(0,l.useCatalogConfig)(),d=(0,n.useStore)(a.placeholdersService.$placeholders);return(0,n.useStore)(a.catalogService.$loadingBlockIds).includes(t)?(0,o.jsx)(i.PanelSpinner,{}):(0,o.jsx)(o.Fragment,{children:e?.map((e=>{const t=d.get(e);if(!t)return null;const{title:a,text:i,vk_icons_icon:n}=t,l=(0,s.getPlaceholderIcon)(n);return(0,o.jsx)(r.Placeholder,{icon:l,header:a,withPadding:!0,stretched:c,children:i},e)}))})}},825459:(e,t,a)=>{a.d(t,{PLACEHOLDER_ICONS:()=>i});var o=a(423177),r=a(769532);const i={list_play_outline_36:o.Icon36ListPlayOutline,hearts_2_outline_36:r.Icon36Hearts2Outline}},998480:(e,t,a)=>{a.d(t,{Placeholder:()=>o.Placeholder});var o=a(634273)},526569:(e,t,a)=>{a.d(t,{getPlaceholderIcon:()=>i});var o=a(785893),r=a(825459);const i=e=>{const t=e?r.PLACEHOLDER_ICONS[e]:void 0;return t&&(0,o.jsx)(t,{})}},733756:(e,t,a)=>{a.d(t,{Playlist:()=>c});var o=a(785893),r=a(397631),i=a(504190),n=a(667294),l=a(881705),s=a(234862);const c=({id:e,itemBadges:t})=>{const{appCatalogService:a}=(0,s.useCatalogConfig)(),c=(0,i.useStoreMap)({store:a.playlistService.$playlistItems,keys:[e],fn:(e,[t])=>{const{ownerId:a,itemId:o}=(0,r.splitRawId)(t);return e.find((e=>e.id===o&&e.owner_id===a))}}),d=(0,i.useStoreMap)({store:a.playlistService.$playlistsSubscribeLoading,keys:[e],fn:(e,[t])=>e.has(t)}),u=(0,n.useMemo)((()=>t?.some((t=>t.item_id===e&&"primary"===t.badge?.type))),[t]);return c?(0,o.jsx)(l.PlaylistCard,{playlist:c,isSubscribeLoading:d,isUpdated:u}):null}},86921:(e,t,a)=>{a.d(t,{PlaylistCard:()=>d});var o=a(785893),r=a(255579),i=a(234862),n=a(471828),l=a(93185),s=a(983859),c=a(63595);const d=e=>{const{playlist:t,isUpdated:a}=e,{isAvatarHidden:d,onPlaylistOpen:u}=(0,i.useCatalogDesktopVideo)(),p=(0,s.usePlaylist)(t),_=(0,l.useOverlay)(t),m=(0,c.useMenuItems)(e);return p?(0,o.jsx)(r.VideoPlaylistCard,{item:p,withBadge:a,isAvatarHidden:d,menuItems:m,overlay:_,hoverText:n.getLang("video_playlist_watch_all_videos"),onClick:e=>u(e,t)}):null}},881705:(e,t,a)=>{a.d(t,{PlaylistCard:()=>o.PlaylistCard});var o=a(86921)},63595:(e,t,a)=>{a.d(t,{useMenuItems:()=>_});var o=a(785893),r=a(667294),i=a(536426),n=a(376499),l=a(445264),s=a(728494),c=a(650163),d=a(277659),u=a(471828),p=a(234862);const _=e=>{const{playlist:t,isSubscribeLoading:a}=e,{onPlaylistUpload:_,onPlaylistEdit:m,onPlaylistCopyUrl:g,onPlaylistToggleSubscribe:v,onPlaylistDelete:S}=(0,p.useCatalogDesktopVideo)();return(0,r.useMemo)((()=>{const e=[],r=window.vk.id===t.owner_id;return t.can_upload&&e.push({before:(0,o.jsx)(i.Icon20ListAddOutline,{}),children:u.getLang("video_playlist_add"),onClick:e=>_(e,t)}),t.can_edit&&e.push({before:(0,o.jsx)(n.Icon20WriteOutline,{}),children:u.getLang("video_edit_playlist"),onClick:e=>m(e,t)}),r||e.push({before:t.is_subscribed?(0,o.jsx)(l.Icon20CheckAlt,{}):(0,o.jsx)(s.Icon20AddSquareOutline,{}),children:t.is_subscribed?u.getLang("video_you_subscribed_to_playlist"):u.getLang("video_subscribe_to_playlist"),onClick:a?void 0:e=>v(e,t),loading:a,keepOpen:!0}),e.push({before:(0,o.jsx)(c.Icon20CopyOutline,{}),children:u.getLang("video_copy_playlist_url"),onClick:e=>g(e,t)}),t.can_delete&&e.push({type:"destructive",before:(0,o.jsx)(d.Icon20DeleteOutline,{}),children:u.getLang("video_delete_playlist"),onClick:e=>S(e,t)}),e}),[t,a,_,m,v,g,S])}},93185:(e,t,a)=>{a.d(t,{useOverlay:()=>i});var o=a(667294),r=a(234862);const i=e=>{const{playlistOverlay:t}=(0,r.useCatalogDesktopVideo)(),[a,i]=(0,o.useState)(!0),[n,l]=(0,o.useMemo)((()=>{const o=t?.(e);if(!o)return[];const{actionProps:r,hideTime:i,...n}=o;return[i,a?{...n,actionProps:r}:n]}),[a,e,t]);return(0,o.useEffect)((()=>{if(void 0===n)return;const e=setTimeout((()=>{i(!1)}),n);return()=>{clearTimeout(e)}}),[n]),l}},983859:(e,t,a)=>{a.d(t,{usePlaylist:()=>n});var o=a(667294),r=a(234862),i=a(775830);const n=e=>{const{findOwner:t}=(0,r.useCatalogOwner)(),{ownerRoutePrefix:a}=(0,r.useCatalogDesktopVideo)();return(0,o.useMemo)((()=>{const o=t(e.owner_id);return o?{...(0,i.mapPlaylistToPlaylistCardItem)(e),owner:(0,i.mapUserOrGroupToPlaylistCardOwner)(o,a)}:null}),[e,t,a])}},215505:(e,t,a)=>{a.d(t,{Playlist:()=>o.Playlist});var o=a(733756)},177062:(e,t,a)=>{a.d(t,{SearchAuthor:()=>s});var o=a(785893),r=a(688538),i=a(325429),n=a(413189),l=a(754850);const s=({id:e,content_type:t,description:a,layout:s})=>{const{appCatalogService:c}=(0,i.useCatalogConfig)(),d=(0,i.useCatalogStoreMap)(c.groupsService.$groups,r.Ranges.convertOwnerIdToGroupId(e));return d&&s===n.CatalogBlockLayoutName.LARGE_LIST&&"videos"===t?(0,o.jsx)(l.VideoSearchAuthor,{group:d,description:a}):null}},644070:(e,t,a)=>{a.d(t,{VideoSearchAuthor:()=>p});var o=a(785893),r=a(86894),i=a(846539),n=a(311429),l=a(242864),s=a(990460),c=a(325429),d=a(902947),u=a(626863);const p=({group:e,description:t})=>{const{ownerRoutePrefix:a}=(0,c.useCatalogDesktopVideo)(),p=(0,u.getOwnerUrl)(e,a),_=((0,d.isRetina)()?e.photo_200:e.photo_100)||"";return(0,o.jsx)(i.RichCell,{href:p,before:(0,o.jsx)(n.RichAvatar,{src:_,size:96}),caption:t?(0,o.jsx)(l.TextClamp,{TypographyComponent:r.Footnote,lines:1,title:t,children:t}):void 0,children:(0,o.jsx)(l.TextClamp,{TypographyComponent:s.Headline,level:"1",weight:"2",lines:1,title:e.name,children:e.name})})}},754850:(e,t,a)=>{a.d(t,{VideoSearchAuthor:()=>o.VideoSearchAuthor});var o=a(644070)},123403:(e,t,a)=>{a.d(t,{SearchAuthor:()=>o.SearchAuthor});var o=a(177062)},220179:(e,t,a)=>{a.d(t,{Separator:()=>l});var o=a(785893),r=a(733552),i=a(473600);const n={"top-small-bottom-small":{top:3,bottom:3},"top-small-bottom-large":{top:3,bottom:11},"top-extra-large":{top:28}},l=({layout:e})=>{const t=e.custom_style?n[e.custom_style]:null;return(0,o.jsxs)(o.Fragment,{children:[t?.top&&(0,o.jsx)(r.Spacing,{size:t.top}),(0,o.jsx)(i.Separator,{}),t?.bottom&&(0,o.jsx)(r.Spacing,{size:t.bottom})]})}},977859:(e,t,a)=>{a.d(t,{Separator:()=>o.Separator});var o=a(220179)},393262:(e,t,a)=>{a.d(t,{ShortVideoList:()=>g});var o=a(785893),r=a(282788),i=a(86894),n=a(659397),l=a(504190),s=a(234862),c=a(789581),d=a(461097),u=a(795814),p=a(414064),_=a(151691);const m={className:a(537129).default.shortVideoList,rowSpacing:12,columnSpacing:12,numberOfSkeletons:12},g=e=>{const{listGridProps:t}=(0,s.useCatalogDesktopVideo)(),{appCatalogService:a}=(0,s.useCatalogConfig)(),{spacing:g,rowSpacing:v,columnSpacing:S,numberOfSkeletons:f,...C}=t||m,h=g?{spacing:g}:{rowSpacing:v,columnSpacing:S},I=(0,u.useListAdaptivityShortVideoColumns)(t?.columnsQueries,t?.columnsDefault),E=(0,c.extractItemsIds)(e),y=(0,d.getBlockByDataType)(e),k=(0,l.useStore)(a.catalogService.$loadingBlockIds).includes(e.id),A=(0,p.isListItemSkeletonAvailable)(e);return k&&!A?(0,o.jsx)(i.PanelSpinner,{}):(0,o.jsx)(r.Grid,{...C,...h,columns:I,children:k?(0,n.createArray)(f||0).map(((t,a)=>(0,o.jsx)(r.Grid.Item,{children:(0,o.jsx)(_.ShortVideoListItemSkeleton,{...e},a)},a))):E?.map((({id:t,...a})=>(0,o.jsx)(r.Grid.Item,{children:(0,o.jsx)(y,{...a,id:t,layout:e.layout.name,itemBadges:e.item_badges})},t)))})}},489134:(e,t,a)=>{a.d(t,{ShortVideoListItemSkeleton:()=>l});var o=a(785893),r=a(413189),i=a(414064),n=a(353292);const l=e=>(0,i.isListItemSkeletonAvailable)(e)&&e.data_type===r.CatalogBlockDataType.VIDEOS?(0,o.jsx)(n.ShortVideoCardSkeleton,{}):null},151691:(e,t,a)=>{a.d(t,{ShortVideoListItemSkeleton:()=>o.ShortVideoListItemSkeleton});var o=a(489134)},546092:(e,t,a)=>{a.d(t,{ShortVideoList:()=>o.ShortVideoList,useListAdaptivityShortVideoColumns:()=>r.useListAdaptivityShortVideoColumns});var o=a(393262),r=a(795814)},795814:(e,t,a)=>{a.d(t,{useListAdaptivityShortVideoColumns:()=>r});var o=a(862540);const r=(e=[{value:5,query:{minWidth:1106,maxWidth:1357}},{value:6,query:{minWidth:1358,maxWidth:1535}},{value:7,query:{minWidth:1536,maxWidth:2040}},{value:8,query:{minWidth:2041}}],t=4)=>(0,o.useAdaptivityMediaQueries)(e,t)},764593:(e,t,a)=>{a.d(t,{Slider:()=>m});var o=a(785893),r=a(659397),i=a(86894),n=a(806660),l=a(234862),s=a(789581),c=a(278733),d=a(564453),u=a(931482);const p={isGroupExpanded:!0,showArrows:!0,arrowSize:"m"},_=e=>{const{sliderProps:t={}}=(0,l.useCatalogConfig)(),{isGroupExpanded:a,...n}={...p,...t},_=(0,s.extractItemsIds)(e),m=(0,d.getBlockByDataType)(e);return(0,o.jsx)(i.HorizontalScroll,{...n,children:(0,o.jsxs)("div",{className:(0,r.classNames)(u.default.scrollContainer,a&&u.default.groupContainer),children:[_.map((t=>(0,o.jsx)(m,{...t,layout:e.layout.name},t.id))),e.actions?.map(((t,a)=>(0,o.jsx)(c.Action,{...e,action:t,layout:e.layout.name},t.track_code||a)))]})})},m=e=>{const{sliderProps:t={}}=(0,l.useCatalogConfig)(),{isGroupExpanded:a}={...p,...t};return a?(0,o.jsx)(n.Group.ExpandedContent,{children:(0,o.jsx)(_,{...e})}):(0,o.jsx)(_,{...e})}},564453:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>c});var o=a(413189),r=a(827498),i=a(586094),n=a(875664),l=a(508375);const s=()=>null,c=e=>{switch(e.data_type){case o.CatalogBlockDataType.VIDEOS:return n.Video;case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return r.MusicPlaylist;case o.CatalogBlockDataType.LINKS:return i.Link;case o.CatalogBlockDataType.GROUPS_ITEMS:return l.GroupItem;default:return s}}},52251:(e,t,a)=>{a.d(t,{Slider:()=>o.Slider});var o=a(764593)},663496:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>c});var o=a(785893),r=a(667294),i=a(874745),n=a(789581),l=a(620356),s=a(352361);const c=e=>{const t=(0,r.useMemo)((()=>(0,i.extractItemsIds)(e)),[e]),a=(0,s.getBlockByDataType)(e),c=(0,n.getEventItemTypeByDataType)(e),d=(0,i.getDirectionType)(e),u=(0,r.useMemo)((()=>t.map((t=>({key:t.id,length:t.content_length,component:(0,o.jsx)(a,{...t,layout:e.layout.name,type:c,block_id:e.id})})))),t);return(0,o.jsx)(l.TripleStackedSliderItems,{directionType:d,content:u})}},852426:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>d});var o=a(785893),r=a(282788),i=a(667294),n=a(576494),l=a(325429),s=a(659397),c=a(419580);const d=({directionType:e,content:t})=>{const a=e===n.DirectionType.row?(0,l.toColumnWithRows)(t,3):(0,s.chunkArray)(t,3),d=a.length>2;return(0,o.jsx)(r.Grid,{columns:d?"dynamic":2,children:(0,o.jsx)(r.Grid.HorizontalScroll,{getScrollToLeft:e=>e-800,getScrollToRight:e=>e+800,arrowSize:"m",children:a.map(((e,t)=>(0,o.jsx)(r.Grid.Item,{children:(0,o.jsx)("div",{className:(0,s.classNames)(d&&c.default.item),children:e?.map(((e,t)=>(0,o.jsx)(i.Fragment,{children:e.component},t)))})},t)))})})}},620356:(e,t,a)=>{a.d(t,{TripleStackedSliderItems:()=>o.TripleStackedSliderItems});var o=a(852426)},352361:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>n});var o=a(325429),r=a(586094),i=a(564594);const n=e=>{switch(e.data_type){case o.CatalogBlockDataType.MUSIC_AUDIOS:return i.MusicAudios;case o.CatalogBlockDataType.LINKS:return r.Link;default:return()=>null}}},193077:(e,t,a)=>{a.d(t,{TripleStackedSlider:()=>o.TripleStackedSlider});var o=a(663496)},131221:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>_});var o=a(785893),r=a(491371),i=a(258037),n=a(990460),l=a(733552),s=a(800856),c=a(638766),d=a(667294),u=a(234862),p=a(471828);const _=({video:e})=>{const t=(0,d.useMemo)((()=>e?.image?.filter((e=>!e.with_padding))||[]),[e?.image]),{videoCardProps:a}=(0,u.useCatalogDesktopVideo)(),{onVideoOpen:_,onVideoDelete:m,onVideoEdit:g}=a,[v,S]=(0,d.useState)(!1),f=t=>{S(!v),m?.(t,e)};return v?(0,o.jsx)(r.ClipContainer,{size:"compact",centerComponent:(0,o.jsxs)(i.Placeholder,{icon:(0,o.jsx)(c.Icon28DeleteOutline,{}),children:[(0,o.jsx)(n.Headline,{level:"1",weight:"2",children:p.getLang("video_clip_deleted")}),(0,o.jsx)(l.Spacing,{size:8}),(0,o.jsx)(s.Link,{onClick:f,children:p.getLang("video_restore")})]})}):(0,o.jsx)(r.ClipContainer,{size:"compact",views:e.views?.toString(),onClick:t=>_(t,e),cover:t[0]?.url,actions:(()=>{if(1===e.can_edit||1===e.can_delete)return(0,o.jsxs)(o.Fragment,{children:[1===e.can_edit&&(0,o.jsx)(r.ClipContainer.Action,{label:p.getLang("video_edit"),icon:"edit",onClick:t=>g(t,e)},"edit"),1===e.can_delete&&(0,o.jsx)(r.ClipContainer.Action,{label:p.getLang("global_delete"),icon:"delete",onClick:f},"delete")]})})()})}},258101:(e,t,a)=>{a.d(t,{ShortVideoCardSkeleton:()=>n});var o=a(785893),r=a(86894),i=a(902379);const n=()=>(0,o.jsx)(r.AspectRatio,{ratio:9/16,children:(0,o.jsx)("div",{children:(0,o.jsx)(i.Skeleton,{borderRadius:8,width:"100%",height:"100%"})})})},353292:(e,t,a)=>{a.d(t,{ShortVideoCard:()=>o.ShortVideoCard,ShortVideoCardSkeleton:()=>r.ShortVideoCardSkeleton});var o=a(131221),r=a(258101)},303609:(e,t,a)=>{a.d(t,{Video:()=>d});var o=a(785893),r=a(504190),i=a(397631),n=a(325429),l=a(268553),s=a(378662),c=a(353292);const d=({id:e,layout:t,kitVideoCardProps:a={}})=>{const{appCatalogService:d}=(0,n.useCatalogConfig)(),u=(0,r.useStoreMap)({store:d.videoService.$videoItems,keys:[e],fn:(e,[t])=>{const{ownerId:a,itemId:o}=(0,i.splitRawId)(t);return e.find((e=>e.id===o&&e.owner_id===a))}});if(!u)return null;switch(t){case n.CatalogBlockLayoutName.SLIDER:return(0,o.jsx)(s.VideoCardSlider,{video:u});case n.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return(0,o.jsx)(c.ShortVideoCard,{video:u});default:return(0,o.jsx)(l.VideoCard,{video:u,kitVideoCardProps:a})}}},277059:(e,t,a)=>{a.d(t,{IconControls:()=>l});var o=a(785893),r=a(667294),i=a(64682),n=a(54067);const l=(0,r.memo)((function({video:e,controls:t,cardRef:a}){return t.length?(0,o.jsx)(o.Fragment,{children:t.map((t=>{if(t.type===n.ControlTypes.ICON){const{text:a,onClick:r,component:n}=t;return(0,o.jsx)(i.VideoCard.IconControl,{tooltipText:a,onClick:t=>r(t,e),icon:n},a)}if(t.type===n.ControlTypes.PLAYLIST_POPOVER){const{component:r}=t;return(0,o.jsx)(r,{video:e,cardRef:a},e.id)}}))}):null}))},996289:(e,t,a)=>{a.d(t,{getDeleteControl:()=>n});var o=a(790932),r=a(471828),i=a(54067);const n=(e,t)=>({component:o.Icon16Cancel,text:t??r.getLang("global_delete"),onClick:e,type:i.ControlTypes.ICON})},190118:(e,t,a)=>{a.d(t,{getWatchLaterControls:()=>l});var o=a(888056),r=a(738381),i=a(471828),n=a(54067);const l=(e,t)=>e.is_favorite?[{type:n.ControlTypes.ICON,component:o.Icon16Clock,text:i.getLang("video_remove_from_watch_later"),onClick:t}]:e.can_add_to_faves?[{type:n.ControlTypes.ICON,component:r.Icon16ClockOutline,text:i.getLang("video_catalog_showcase_section_my_watch_later_title"),onClick:t}]:[]},247579:(e,t,a)=>{a.d(t,{ControlTypes:()=>r.ControlTypes,IconControls:()=>o.IconControls,isShowingPlaylistPopover:()=>i.isShowingPlaylistPopover});var o=a(277059),r=a(54067),i=a(11632)},11632:(e,t,a)=>{a.d(t,{isShowingPlaylistPopover:()=>r});var o=a(977053);const r=e=>1===e&&(!(0,o.partConfigEnabled)("video_bookmarks_renaming_to_watch_later")||(0,o.partConfigEnabled)("video_can_show_playlist_popover_with_watch_later"))},54067:(e,t,a)=>{var o;a.d(t,{ControlTypes:()=>o}),function(e){e[e.ICON=0]="ICON",e[e.PLAYLIST_POPOVER=1]="PLAYLIST_POPOVER"}(o||(o={}))},430863:(e,t,a)=>{a.d(t,{useControls:()=>g});var o=a(293079),r=a(304680),i=a(455321),n=a(234862),l=a(775830),s=a(471828),c=a(977053),d=a(996289),u=a(190118),p=a(54067),_=a(247579),m=a(577655);const g=e=>{const{videoCardProps:t,isCurrentUserEditor:a,onOpenPlaylistModal:g}=(0,n.useCatalogDesktopVideo)(),{isFaves:v,videoDeleteText:S,onVideoToggleFave:f,onVideoDelete:C,onVideoDownload:h,onVideoEdit:I,addToPlaylistControl:E}=t,y=[],k=(0,c.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"),A=g&&(0,l.canAddVideoToCommunityPlaylist)(e)&&a;A||!k||v||y.push(...(0,u.getWatchLaterControls)(e,(t=>f(t,e,{source:m.FAVORITE_SOURCES.VIDEO_CARD_BUTTON}))));return(2===e.can_download||3===e.can_download)&&y.push({component:o.Icon16DownloadOutline,text:s.getLang("video_download"),onClick:t=>h(t,e),type:p.ControlTypes.ICON}),1===e.can_edit&&y.push({component:r.Icon16PenOutline,text:s.getLang("video_edit"),onClick:t=>I(t,e),type:p.ControlTypes.ICON}),A&&y.push({component:i.Icon16ListPlayOutline,text:s.getLang("video_move_to_playlist"),onClick:()=>g(e),type:p.ControlTypes.ICON}),v?((0,_.isShowingPlaylistPopover)(e.can_add)&&y.push({type:p.ControlTypes.PLAYLIST_POPOVER,component:E}),y.push((0,d.getDeleteControl)((t=>f(t,e)),S))):1===e.can_delete&&C&&y.push((0,d.getDeleteControl)((t=>C(t,e)),S)),v||A||!(0,_.isShowingPlaylistPopover)(e.can_add)||y.push({type:p.ControlTypes.PLAYLIST_POPOVER,component:E}),y}},663869:(e,t,a)=>{a.d(t,{VideoCard:()=>p});var o=a(785893),r=a(64682),i=a(234862),n=a(247579),l=a(808523),s=a(244645),c=a(22569),d=a(430863),u=a(667294);const p=({video:e,kitVideoCardProps:t={}})=>{const a=(0,u.useRef)(null),{isAvatarHidden:p,videoCardProps:_}=(0,i.useCatalogDesktopVideo)(),{onVideoOpen:m,onVideoAuthorClick:g}=_,v=(0,l.useOverlay)(e),S=(0,s.useVideo)(e),{menuItems:f,onMenuPopoverShownChange:C}=(0,c.useMenuItems)(e),h=(0,d.useControls)(e);return(0,o.jsx)(r.VideoCard,{onMenuPopoverShownChange:C,controlItems:h.length?(0,o.jsx)(n.IconControls,{controls:h,video:e,cardRef:a}):void 0,isAvatarHidden:p,menuItems:f,overlay:v,getRef:a,video:S,onVideoOpen:t=>m(t,e),onAuthorClick:t=>g?.(t,e),...t})}},268553:(e,t,a)=>{a.d(t,{VideoCard:()=>o.VideoCard});var o=a(663869)},22569:(e,t,a)=>{a.d(t,{useMenuItems:()=>C});var o=a(785893),r=a(667294),i=a(273301),n=a(904093),l=a(982555),s=a(243031),c=a(811930),d=a(17117),u=a(836993),p=a(304474),_=a(509793),m=a(471828),g=a(234862),v=a(977053),S=a(775830),f=a(577655);const C=e=>{const{videoCardProps:t}=(0,g.useCatalogDesktopVideo)(),{onVideoSendReport:a,onVideoShare:C,onVideoToggleFave:h,onVideoTogglePin:I,isWatchLaterTooltipViewed:E,handleWatchLaterTooltipClose:y}=t,k=(0,v.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"),A=(0,v.partConfigEnabled)("video_community_redesign_pinned_video"),T=(0,v.partConfigEnabled)("video_card_share_option"),R=(0,u.useHelpHint)(p.AvailableHelpHints.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION),x=(0,u.useHelpHint)(p.AvailableHelpHints.ACCOUNT_HINT_VIDEO_PIN),L=()=>{x&&(0,_.ensureAccountHelpHintsService)().hideHelpHint({hintId:x.id})};return{menuItems:(0,r.useMemo)((()=>{const t=[],r=(t,a)=>k&&R&&!E?{before:(0,o.jsx)(S.MenuHelpHintTooltip,{helpHint:R,placement:"top-start",maxWidth:262,onClose:y,children:t}),children:a}:{before:t,children:a,onClick:t=>h(t,e,{source:f.FAVORITE_SOURCES.VIDEO_CARD_MODAL})};if(e.can_be_pinned&&A&&I){const a=(t,a)=>{const r=t=>I(t,e);if(x){const e=e=>{L(),r(e)};return{before:(0,o.jsx)(S.MenuHelpHintTextTooltip,{text:`${x.title} ${x.description}`,placement:"top-start",appearance:"accent",maxWidth:230,children:t}),children:a,onClick:e}}return{before:t,children:a,onClick:r}};t.push(e.is_pinned?a((0,o.jsx)(i.Icon20PinSlashOutline,{}),m.getLang("video_unpin_video_action")):a((0,o.jsx)(n.Icon20PinOutline,{}),m.getLang("video_pin_video_action")))}return e.is_favorite?t.push(k?r((0,o.jsx)(l.Icon20ClockOutline,{}),m.getLang("video_remove_from_watch_later")):r((0,o.jsx)(s.Icon20FavoriteOutline,{}),m.getLang("global_remove_from_bookmarks"))):e.can_add_to_faves&&t.push(k?r((0,o.jsx)(l.Icon20ClockOutline,{}),m.getLang("video_catalog_showcase_section_my_watch_later_title")):r((0,o.jsx)(s.Icon20FavoriteOutline,{}),m.getLang("global_add_to_bookmarks"))),T&&e.can_repost&&t.push({before:(0,o.jsx)(c.Icon20ShareOutline,{}),children:m.getLang("video_share_with_friends"),onClick:t=>C(t,e)}),e.owner_id!==window.vk.id&&t.push({before:(0,o.jsx)(d.Icon20ReportOutline,{}),children:m.getLang("global_report_spam"),onClick:t=>a(t,e)}),t}),[e,R,x,a,h,I,E,y]),onMenuPopoverShownChange:e=>{A&&x&&!e&&L()}}}},808523:(e,t,a)=>{a.d(t,{useOverlay:()=>i});var o=a(667294),r=a(234862);const i=e=>{const{videoCardProps:{videoOverlay:t}}=(0,r.useCatalogDesktopVideo)(),[a,i]=(0,o.useState)(!0),[n,l]=(0,o.useMemo)((()=>{const o="function"==typeof t?t(e):t;if(!o)return[];const{actionProps:r,hideTime:i,...n}=o;return[i,a?{...n,actionProps:r}:n]}),[a,e,t]);return(0,o.useEffect)((()=>{if(void 0===n)return;const e=setTimeout((()=>{i(!1)}),n);return()=>{clearTimeout(e)}}),[n]),l}},244645:(e,t,a)=>{a.d(t,{useVideo:()=>n});var o=a(667294),r=a(234862),i=a(775830);const n=e=>{const{findOwner:t}=(0,r.useCatalogOwner)(),{ownerRoutePrefix:a,videoCardProps:{getVerifiedBadge:n}}=(0,r.useCatalogDesktopVideo)();return(0,o.useMemo)((()=>{const o=t(e.owner_id);return{...(0,i.mapVideoToVideoCardItem)(e),owner:{...(0,i.mapArtistToVideoCardOwner)(e)??(0,i.mapUserOrGroupToVideoCardOwner)(o,a),badge:n(o)}}}),[e,t,a,n])}},70843:(e,t,a)=>{a.d(t,{VideoCardSkeleton:()=>n});var o=a(785893),r=a(261302),i=a(325429);const n=({singleLineTitle:e})=>{const{isAvatarHidden:t}=(0,i.useCatalogDesktopVideo)();return(0,o.jsx)(r.VideoCardSkeleton,{singleLineTitle:e,withAvatar:!t})}},37458:(e,t,a)=>{a.d(t,{VideoCardSkeleton:()=>o.VideoCardSkeleton});var o=a(70843)},860551:(e,t,a)=>{a.d(t,{VideoCardSlider:()=>c});var o=a(785893),r=a(659397),i=a(325429),n=a(268553),l=a(287715);const s={s:l.default.sizeS,m:l.default.sizeM},c=({video:e})=>{const{videoCardProps:{sliderCardSize:t="m"}}=(0,i.useCatalogDesktopVideo)();return(0,o.jsx)("div",{className:(0,r.classNames)(l.default.container,s[t]),children:(0,o.jsx)(n.VideoCard,{video:e})})}},378662:(e,t,a)=>{a.d(t,{VideoCardSlider:()=>o.VideoCardSlider});var o=a(860551)},875664:(e,t,a)=>{a.d(t,{Video:()=>o.Video,VideoCardSkeleton:()=>r.VideoCardSkeleton});var o=a(303609),r=a(37458)},996473:(e,t,a)=>{a.d(t,{Header:()=>o.Header,IslandSeparator:()=>m.IslandSeparator,List:()=>r.List,MusicPlaylist:()=>p.MusicPlaylist,PinnedVideo:()=>n.PinnedVideo,Placeholder:()=>l.Placeholder,Playlist:()=>s.Playlist,Separator:()=>c.Separator,ShortVideoList:()=>i.ShortVideoList,Slider:()=>d.Slider,TripleStackedSlider:()=>_.TripleStackedSlider,Video:()=>u.Video,useListAdaptivityColumns:()=>r.useListAdaptivityColumns});var o=a(32734),r=a(461850),i=a(546092),n=a(918399),l=a(998480),s=a(215505),c=a(977859),d=a(52251),u=a(875664),p=a(827498),_=(a(586094),a(193077)),m=(a(564594),a(367751))},471583:(e,t,a)=>{a.d(t,{Button:()=>i});var o=a(785893),r=a(759445);const i=({actions:e=[],title:t,blockIndex:a})=>(0,o.jsx)(o.Fragment,{children:e?.map(((e,i)=>{const n=(0,r.getButton)(e);return(0,o.jsx)(n,{action:e,title:t,itemIndex:(a||0)+i,id:i},i)}))})},921982:(e,t,a)=>{a.d(t,{OpenUrl:()=>m});var o=a(785893),r=a(667294),i=a(504190),n=a(8820),l=a(990460),s=a(380526),c=a(324153),d=a(721848),u=a(234862),p=a(520587),_=a(335228);const m=({action:e,itemIndex:t,title:a})=>{const{displayTopSearch:m,setCurrentQuery:g,currentQuery:v,onOpenUrlClick:S}=(0,u.useCatalogSearch)(),f=(0,i.useStore)(p.$isMouseActive),C=(0,i.useStore)(p.$selectedItemIndex),h=(0,u.useCollectClick)(),I=(0,d.useRefLogView)({type:c.EventItemType.CATALOG_ITEM,trackCode:e?.track_code}),E=`${e?.action?.url}${encodeURIComponent(v)}`,y=(0,r.useCallback)(((t,a)=>{t&&!(0,s.isMainClick)(t?.nativeEvent)||(t?.preventDefault(),t?.stopPropagation(),h({type:c.EventItemType.CATALOG_ITEM,track_code:e?.track_code,action:c.SearchClickActionMap.TAP}),a?window.open(E):(g(""),m(!1),S?.(e?.action?.url||"",E)))}),[v,h,m,g,S]);return(0,r.useEffect)((()=>{(0,p.fireSetItemIndex)({id:t||0,callback:y})}),[t,y]),(0,o.jsx)(n.SimpleCell,{"data-testid":"modal_open_url",hovered:C?.id===t,onLeave:()=>{(0,p.fireSetSelectionIndexByItem)(-1)},onEnter:()=>{(0,p.fireSetSelectionIndexByItem)(t||-1)},onClick:y,hasHover:f||C?.id===t,href:E,expandable:"always",className:_.default.container,getRootRef:I,children:(0,o.jsx)(l.Headline,{className:_.default.link,level:"1",weight:"3",children:a||e?.title})})}},767646:(e,t,a)=>{a.d(t,{OpenUrl:()=>o.OpenUrl});var o=a(921982)},333660:(e,t,a)=>{a.d(t,{Button:()=>o.Button});var o=a(471583)},759445:(e,t,a)=>{a.d(t,{getButton:()=>i});var o=a(413189),r=a(767646);const i=e=>e.action?.type===o.CatalogActionType.OPEN_URL?r.OpenUrl:()=>null},670951:(e,t,a)=>{a.d(t,{CatalogUser:()=>y});var o=a(785893),r=a(667294),i=a(504190),n=a(96715),l=a(603709),s=a(8820),c=a(311429),d=a(780413),u=a(413189),p=a(659397),_=a(977053),m=a(380526),g=a(721848),v=a(234862),S=a(324153),f=a(520587),C=a(70668),h=a(202077),I=a(804549);const E=({id:e,itemIndex:t,type:a})=>{const E=(0,v.useCollectClick)(),{navGo:y,pageVerifiedTip:k,appCatalogService:A}=(0,v.useCatalogConfig)(),{displayTopSearch:T}=(0,v.useCatalogSearch)(),R=(0,i.useStore)(f.$isMouseActive),x=(0,i.useStore)(f.$selectedItemIndex),L=(0,i.useStore)(A.pageService.$catalogType),[O,w]=(0,r.useState)(!0),b=(0,i.useStoreMap)({store:A.catalogUsersService.$catalogUsers,keys:[e],fn:(e,[t])=>e.get(t)}),N=(0,i.useStoreMap)({store:A.profilesService.$profiles,keys:[b?.user_id],fn:(e,[t])=>t?e.get(t):void 0}),V=(0,i.useStoreMap)({store:A.profilesService.$profiles,keys:[b?.common_friends],fn:(e,[t])=>(t||[]).map((t=>e.get(t))).filter((e=>Boolean(e))).map((({photo_50:e,photo_100:t})=>e||t||""))}),P=(0,i.useStoreMap)({store:A.catalogUsersService.$deletableFriendsIds,keys:[N?.id],fn:(e,[t])=>!!e.find((e=>e===t))}),B=(0,i.useStore)(A.catalogUsersService.$pendingFriendsIds),M=(0,_.partConfigEnabled)("vkui_account_common_verification_mark")&&(N?.is_esia_verified||N?.is_sber_verified||N?.is_tinkoff_verified),D=N?.track_code||b?.track_code,j=(0,g.useRefLogView)({type:a,trackCode:D}),F=(0,C.getUrlWithTrackCode)(`/${N?.screen_name}`,D,L),G=e=>{E({track_code:D,type:S.EventItemType.USER,action:e})},U=(0,r.useMemo)((()=>(0,d.getFriendsButtonState)(N?.friend_status,!!N?.can_write_private_message,P)),[N?.friend_status,N?.can_write_private_message,P]),H=(0,r.useCallback)(((e,t)=>{!N||e&&!(0,m.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),G(S.SearchClickActionMap.TAP),A.searchRecentService.fireAddRecent({owner_ids:`${N.id}`}),t?window.open(F):(T(!1),y(F,e?.nativeEvent||null)))}),[N,T]);if((0,r.useEffect)((()=>{(0,f.fireSetItemIndex)({id:t||0,callback:H})}),[t,H]),!N||!b)return null;const $=(0,p.classNames)(M&&I.default.itemVerification),[z,W]=(0,h.getCatalogUserDescription)({friendsPhotos:V,friendsDescription:b.common_friends_description,descriptions:b.descriptions}),K=(0,d.getOnlineStatus)(N);return(0,o.jsxs)(s.SimpleCell,{"data-testid":"modal_catalog_user",hovered:x?.id===t,onClick:H,onLeave:()=>{(0,f.fireSetSelectionIndexByItem)(-1)},onEnter:()=>{(0,f.fireSetSelectionIndexByItem)(t||-1)},hasHover:R||x?.id===t,href:F,getRootRef:j,before:(0,o.jsxs)(c.RichAvatar,{size:u.CATALOG_AVATAR_SIZE_SM,src:(0,d.getListAvatarSrc)(N),nft:!!N.is_nft,children:[K&&(0,o.jsx)(c.RichAvatar.BadgeWithPreset,{preset:K}),N.has_unseen_stories&&(0,o.jsx)(c.RichAvatar.Outline,{appearance:"accent"})]}),badgeAfterTitle:N.verified||M?(0,o.jsx)("div",{onMouseOver:e=>{const t=e.target?.closest('[data-catalog-item="list"]'),a=e.target?.closest('[data-verified-container="true"]'),o=O?u.FIRST_VERIFIED_TOOLTIP_SHIFT:u.VERIFIED_TOOLTIP_SHIFT;k(a,{type:M?8:1,oid:N?.id,appendEl:t,shift:o}),w(!1)},"data-verified-container":"true",children:(0,o.jsx)(n.Icon16Verified,{className:$})}):null,after:(0,o.jsx)(l.CatalogUserButton,{userId:N.id,action:U,loading:B.includes(N.id),logClickEvent:G}),subtitle:z,extraSubtitle:(0,o.jsx)("div",{className:I.default.extraDescription,children:W}),children:[N.first_name," ",N.last_name]})},y=(0,r.memo)(E)},317443:(e,t,a)=>{a.d(t,{CatalogUserButton:()=>m});var o=a(785893),r=a(667294),i=a(113788),n=a(229488),l=a(413189),s=a(331870),c=a(69064),d=a(25398),u=a(324153),p=a(234862),_=a(612103);const m=({userId:e,action:t,loading:a,logClickEvent:m})=>{const{userId:g,openChat:v,appCatalogService:S}=(0,p.useCatalogConfig)(),{displayTopSearch:f}=(0,p.useCatalogSearch)(),C=(0,r.useCallback)((o=>{if(o.stopPropagation(),o.preventDefault(),!a)switch(t){case l.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:return m(u.SearchClickActionMap.ADD_FRIEND),void S.catalogUsersService.fireAddFriend({user_id:e});case l.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:return m(u.SearchClickActionMap.REMOVE_FRIEND),void S.catalogUsersService.fireDeleteFriend({user_id:e});case l.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:return m(u.SearchClickActionMap.SEND_MESSAGE),v(e,"global_search"),void f(!1);case l.FRIENDS_BUTTON_ACTIONS.NO_ACTION:return}}),[t,e,m,a,f,v]);if(t===l.FRIENDS_BUTTON_ACTIONS.NO_ACTION||e===g)return null;let h;switch(t){case l.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:h=(0,o.jsx)(s.Icon20UserAddOutline,{});break;case l.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:h=(0,o.jsx)(c.Icon20Check,{className:_.default.buttonRemove});break;case l.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:h=(0,o.jsx)(d.Icon20MessageOutline,{})}return a&&(h=(0,o.jsx)(i.Spinner,{size:"regular"})),(0,o.jsx)(n.IconButton,{"data-testid":"modal_catalog_user_button",onClick:C,children:h})}},603709:(e,t,a)=>{a.d(t,{CatalogUserButton:()=>o.CatalogUserButton});var o=a(317443)},759462:(e,t,a)=>{a.d(t,{CatalogUser:()=>o.CatalogUser});var o=a(670951)},780413:(e,t,a)=>{a.d(t,{getFriendsButtonState:()=>n,getListAvatarSrc:()=>s,getOnlineStatus:()=>l});var o=a(413189),r=a(902947),i=a(80981);const n=(e,t=!1,a=!1)=>a?o.FRIENDS_BUTTON_ACTIONS.REMOVE_FRIEND:[i.FRIENDS_STATUS.NOT_FRIEND,i.FRIENDS_STATUS.INCOMING_REQUEST].includes(e)?o.FRIENDS_BUTTON_ACTIONS.ADD_FRIEND:t||e!==i.FRIENDS_STATUS.OUTCOMING_REQUEST?o.FRIENDS_BUTTON_ACTIONS.SEND_MESSAGE:o.FRIENDS_BUTTON_ACTIONS.NO_ACTION,l=e=>{if(e.online_info){const{visible:t,is_online:a,is_mobile:o}=e.online_info;if(t&&a)return o?"online-mobile":"online"}},s=e=>((0,r.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200},539582:(e,t,a)=>{a.d(t,{GroupItem:()=>I});var o=a(785893),r=a(667294),i=a(504190),n=a(96715),l=a(676201),s=a(541364),c=a(8820),d=a(311429),u=a(413189),p=a(902947),_=a(380526),m=a(721848),g=a(234862),v=a(324153),S=a(520587),f=a(70668),C=a(325429);const h=({id:e,track_code:t,friends:a,description:h,itemIndex:I,type:E})=>{const{navGo:y,pageVerifiedTip:k,openChat:A,appCatalogService:T}=(0,g.useCatalogConfig)(),{displayTopSearch:R}=(0,g.useCatalogSearch)(),x=(0,i.useStore)(S.$isMouseActive),L=(0,i.useStore)(S.$selectedItemIndex),O=(0,i.useStore)(T.pageService.$catalogType),w=(0,g.useCollectClick)(),[b,N]=(0,r.useState)(!0),V=(0,C.useCatalogStoreMap)(T.groupsService.$groups,e),P=(0,i.useStoreMap)({store:T.profilesService.$profiles,keys:[a],fn:e=>(a?.preview||[]).map((t=>e.get(t))).filter((e=>!!e)).map((({first_name:e="",photo_50:t="",photo_100:a=""})=>({first_name:e,photo_50:t,photo_100:a})))}),B=(0,i.useStoreMap)({store:T.groupsService.$groupsToLeave,keys:[e],fn:(e,[t])=>!!e.find((e=>e===t))}),M=(0,i.useStoreMap)({store:T.groupsService.$groupPendingIds,keys:[e],fn:(e,[t])=>!!e.find((e=>e===t))}),D=(0,m.useRefLogView)({type:E,trackCode:t}),j=(0,f.getUrlWithTrackCode)(`/${V?.screen_name}?from=quick_search`,t,O),F=e=>{w({track_code:t,type:v.EventItemType.GROUP,action:e})},G=(0,r.useCallback)((e=>{if(e.stopPropagation(),e.preventDefault(),V?.id&&!M){if(V.is_member&&V.can_message&&!B)return F(v.SearchClickActionMap.SEND_MESSAGE),A(-V.id,"global_search"),void R(!1);if(V.is_member&&B)return F(v.SearchClickActionMap.LEAVE_GROUP),void T.groupsService.fireLeaveGroup({group_id:V.id,track_code:t});F(v.SearchClickActionMap.JOIN_GROUP),T.groupsService.fireJoinGroup({group_id:V.id,track_code:t})}}),[V,B,t,M,w,R,A]),U=(0,r.useCallback)(((e,t)=>{!V||e&&!(0,_.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),F(v.SearchClickActionMap.TAP),T.searchRecentService.fireAddRecent({owner_ids:`-${V.id}`}),t?window.open(j):(R(!1),y(j,e?.nativeEvent||null)))}),[V,t,w,R]);if((0,r.useEffect)((()=>{(0,S.fireSetItemIndex)({id:I||0,callback:U})}),[I,U]),!V)return null;const H=((0,p.isRetina)()?V.photo_100:V.photo_50)||V.photo_100||V.photo_200;return(0,o.jsx)(c.SimpleCell,{"data-testid":"modal_group_item",hovered:L?.id===I,onClick:U,onLeave:()=>{(0,S.fireSetSelectionIndexByItem)(-1)},onEnter:()=>{(0,S.fireSetSelectionIndexByItem)(I||-1)},hasHover:x||L?.id===I,href:j,getRootRef:D,before:(0,o.jsx)(d.RichAvatar,{size:u.CATALOG_AVATAR_SIZE_SM,src:H,nft:!!V.is_nft_photo,children:V.has_unseen_stories&&(0,o.jsx)(d.RichAvatar.Outline,{appearance:"accent"})}),badgeAfterTitle:V.verified?(0,o.jsx)("div",{"data-verified-container":"true",onMouseOver:e=>{const t=e.target?.closest('[data-catalog-item="list"]'),a=e.target?.closest('[data-verified-container="true"]'),o=b?u.FIRST_VERIFIED_TOOLTIP_SHIFT:u.VERIFIED_TOOLTIP_SHIFT;k(a,{type:1,oid:`-${V?.id}`,appendEl:t,shift:o}),N(!1)},children:(0,o.jsx)(n.Icon16Verified,{})}):null,after:(0,o.jsx)(l.GroupItemButton,{click:G,isMember:!!V.is_member,canMessage:!!V.can_message,canLeave:B,loading:M}),subtitle:(0,o.jsx)(s.GroupItemDescription,{isMember:!!V.is_member,profiles:V.friends?.preview_profiles||P,text:V.members_count_text||"",description:h,governmentOrganization:!!V.is_government_organization,activity:V.activity||"",profilesCount:a?.count||P.length}),children:V.name})},I=(0,r.memo)(h)},831205:(e,t,a)=>{a.d(t,{GroupItemButton:()=>d});var o=a(785893),r=a(113788),i=a(229488),n=a(25398),l=a(69064),s=a(728494),c=a(203373);const d=({isMember:e,canLeave:t,canMessage:a,click:d,loading:u})=>{let p=null;return e&&a&&!t&&(p=(0,o.jsx)(n.Icon20MessageOutline,{})),e&&t&&(p=(0,o.jsx)(l.Icon20Check,{className:c.default.buttonLeave})),e||(p=(0,o.jsx)(s.Icon20AddSquareOutline,{})),u&&(p=(0,o.jsx)(r.Spinner,{size:"regular"})),p?(0,o.jsx)(i.IconButton,{"data-testid":"modal_group_item_button",onClick:d,children:p}):null}},676201:(e,t,a)=>{a.d(t,{GroupItemButton:()=>o.GroupItemButton});var o=a(831205)},166042:(e,t,a)=>{a.d(t,{GroupItemDescription:()=>d});var o=a(785893),r=a(926683),i=a(942205),n=a(242864),l=a(471828),s=a(413189),c=a(286434);const d=({isMember:e,profilesCount:t,profiles:a,text:d,activity:u,description:p,governmentOrganization:_})=>{let m="";const[g]=a,[v,S]=a.map((e=>e.first_name)),f=a.slice(0,s.MAX_FRIENDS_IN_GROUP_TO_SHOW),C=l.getLang("search_search_friends_in_group_and"),h=l.getLang("search_search_friends_in_group","raw");switch(t){case s.FRIENDS_IN_GROUP.NO_ONE:m="";break;case s.FRIENDS_IN_GROUP.ONE:m=g.first_name||"";break;case s.FRIENDS_IN_GROUP.TWO:m=(0,l.langReplace)(C,{first_user:v,second_user:S});break;default:m=(0,l.langNumeric)(t,h)}const I=p||(u?`${u}, ${d}`:d),E=_?(0,o.jsxs)("div",{className:c.default.government,children:[(0,o.jsx)(r.Icon12Flag,{className:c.default.governmentIcon}),(0,o.jsx)("span",{children:l.getLang("search_search_government_label")})]}):null;return e||!f.length?(0,o.jsxs)(o.Fragment,{children:[E,I]}):(0,o.jsxs)(o.Fragment,{children:[E,(0,o.jsx)(i.UsersStack,{className:c.default.userStack,photos:f.map((e=>e.photo_50||"")),size:"s",children:(0,o.jsxs)(n.TextClamp,{lines:1,children:[m," · ",d]})})]})}},541364:(e,t,a)=>{a.d(t,{GroupItemDescription:()=>o.GroupItemDescription});var o=a(166042)},849464:(e,t,a)=>{a.d(t,{GroupItem:()=>o.GroupItem});var o=a(539582)},194878:(e,t,a)=>{a.d(t,{HeaderCompact:()=>s});var o=a(785893),r=a(667294),i=a(249779),n=a(284772),l=a(147946);const s=({actions:e,layout:t,...a})=>(0,o.jsx)(i.Header,{className:l.default.root,mode:"primary",aside:e?.map(((e,o)=>{const i=(0,n.getAction)(e);return(0,r.createElement)(i,{...a,key:e.track_code||o,action:e,layout:t.name})})),children:t.title})},117881:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>p});var o=a(785893),r=a(315954),i=a(800856),n=a(981284),l=a(324153),s=a(234862),c=a(504190),d=a(413189),u=a(436005);const p=({action:e})=>{const t=(0,s.useCollectClick)(),{appCatalogService:a}=(0,s.useCatalogConfig)(),p=(0,c.useStore)(a.pageService.$catalogType),_=()=>{if(t({track_code:e.track_code,type:l.EventItemType.CATALOG_ITEM,action:l.SearchClickActionMap.REMOVE_RECENT}),a.catalogService.fireRemoveBlocks(e.target_block_ids||[]),p===d.CatalogType.SEARCH)return a.searchRecentService.fireClearSearchRecent({});a.searchRecentService.fireGroupsRemoveRecent({})};return e.title?(0,o.jsx)(i.Link,{"data-testid":"modal_clear_recent",hasHover:!1,className:u.default.link,onClick:_,children:e.title}):(0,o.jsx)(n.IconButton,{"data-testid":"modal_clear_recent",className:u.default.button,onClick:_,children:(0,o.jsx)(r.Icon24Cancel,{className:u.default.icon})})}},933704:(e,t,a)=>{a.d(t,{ClearRecentGroups:()=>o.ClearRecentGroups});var o=a(117881)},955922:(e,t,a)=>{a.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=a(194878)},284772:(e,t,a)=>{a.d(t,{getAction:()=>i});var o=a(933704),r=a(413189);const i=e=>e.action?.type===r.CatalogActionType.CLEAR_RECENT_GROUPS?o.ClearRecentGroups:()=>null},50974:(e,t,a)=>{a.d(t,{Link:()=>I});var o=a(785893),r=a(504190),i=a(50113),n=a(311429),l=a(772418),s=a(685994),c=a(242864),d=a(8820),u=a(413189),p=a(324153),_=a(234862),m=a(667294),g=a(380526),v=a(619383),S=a(325429),f=a(520587),C=a(471828),h=a(977053);const I=({id:e,layout:t,type:a,itemIndex:I})=>{const{navGo:E,appCatalogService:y}=(0,_.useCatalogConfig)(),k=(0,_.useCollectClick)(),{displayTopSearch:A}=(0,_.useCatalogSearch)(),T=(0,S.useCatalogStoreMap)(y.linksService.$links,e),R=T?.meta?.track_code,x=(0,S.useRefLogView)({type:a,trackCode:R}),L=(0,r.useStore)(f.$isMouseActive),O=(0,r.useStore)(f.$selectedItemIndex),w="list"===t,b=T?.url,N=(()=>{const e=new URL(T?.url||"");return"mini_app"===T?.meta?.content_type?e.pathname+"?ref=quick_search_recent":e.pathname})(),V=(0,m.useCallback)(((e,t)=>{k({track_code:R,type:p.EventItemType.LINK,action:p.SearchClickActionMap.TAP}),!N||e&&!(0,g.isMainClick)(e.nativeEvent)||(w||(e?.preventDefault(),e?.stopPropagation()),t?window.open(b):(A(!1),E(N,e?.nativeEvent||null)))}),[T,k,A,t]),P=()=>{w&&(0,f.fireSetSelectionIndexByItem)(-1)},B=()=>{w&&(0,f.fireSetSelectionIndexByItem)(I||-1)};if((0,m.useEffect)((()=>{w&&(0,f.fireSetItemIndex)({id:I||0,callback:V})}),[t,I,V]),!T)return null;const M="verified"===T?.meta?.icon?(0,o.jsx)(i.RasterIcon24Verified,{alt:C.getLang("search_verified")}):void 0,D="mini_app"!==T?.meta?.content_type?(0,o.jsx)(n.RichAvatar,{size:u.SLIDER_AVATAR_SIZE_SM,src:T?.image?.length?T.image[0].url:"",nft:!!T?.is_nft,children:M&&(0,o.jsx)(n.RichAvatar.Badge,{children:M})}):(0,o.jsx)(l.Image,{src:T?.image?.length?T.image[0].url:"",size:u.SLIDER_AVATAR_SIZE_SM,borderRadius:"l",children:M&&(0,o.jsx)(l.Image.Badge,{children:M})});switch(t){case"slider":return(0,o.jsx)(s.HorizontalCell,{"data-testid":"modal_link",size:"s",header:(0,o.jsx)(c.TextClamp,{lines:(0,h.partConfigEnabled)("search_top_recent_single_line_title")?1:2,children:T.title}),getRootRef:x,href:N,onClick:V,children:D});case"list":return(0,o.jsx)(d.SimpleCell,{"data-testid":"modal_link_list",getRootRef:x,href:b,before:(0,o.jsx)(l.Image,{size:u.CATALOG_AVATAR_SIZE_SM,src:T?.image?.length?T.image[0].url:"",borderRadius:"m"}),after:(0,o.jsx)(v.Icon20ChevronCircleOutline,{}),subtitle:T.subtitle,onClick:V,onLeave:P,onEnter:B,hasHover:L||O?.id===I,hovered:O?.id===I,children:T.title});default:return null}}},927218:(e,t,a)=>{a.d(t,{Link:()=>o.Link});var o=a(50974)},796893:(e,t,a)=>{a.d(t,{List:()=>c});var o=a(785893),r=a(667294),i=a(806660),n=a(185345),l=a(789581),s=a(252496);const c=e=>{const t=(0,r.useMemo)((()=>(0,l.extractItemsIds)(e)),[e]),a=(0,n.getBlockByDataType)(e),c=(0,l.getEventItemTypeByDataType)(e);return(0,o.jsx)(i.Group,{mode:"plain",separator:"hide",padding:"s",className:s.default.list,"data-catalog-item":"list",children:t.map(((t,o)=>(0,r.createElement)(a,{...t,key:t.id,layout:e.layout.name,block_id:e.id,itemIndex:(e.blockIndex||0)+o,type:c})))})}},42584:(e,t,a)=>{a.d(t,{List:()=>o.List});var o=a(796893)},185345:(e,t,a)=>{a.d(t,{getBlockByDataType:()=>s});var o=a(413189),r=a(849464),i=a(759462),n=a(27589),l=a(927218);const s=e=>{switch(e.data_type){case o.CatalogBlockDataType.GROUPS:case o.CatalogBlockDataType.GROUPS_ITEMS:return r.GroupItem;case o.CatalogBlockDataType.CATALOG_USERS:return i.CatalogUser;case o.CatalogBlockDataType.MINI_APPS:return n.MiniApp;case o.CatalogBlockDataType.LINKS:return l.Link;default:return()=>null}}},854347:(e,t,a)=>{a.d(t,{MarketItem:()=>h});var o=a(785893),r=a(667294),i=a(504190),n=a(324153),l=a(234862),s=a(721848),c=a(800856),d=a(584676),u=a(22378),p=a(420053),_=a(795449),m=a(402619),g=a(471828),v=a(86894),S=a(325429),f=a(70668),C=a(396455);const h=({id:e,type:t})=>{const{appCatalogService:a}=(0,l.useCatalogConfig)(),h=(0,l.useCollectClick)(),{showWiki:I}=(0,l.useCatalogSearch)(),[[E]]=(0,r.useState)((0,f.extractIds)(e)),y=(0,i.useStore)(a.pageService.$catalogType),k=(0,S.useCatalogStoreMap)(a.marketItemsService.$marketItems,e),A=(0,S.useCatalogStoreMap)(a.groupsService.$groups,Math.abs(E)),T=(0,S.useCatalogStoreArray)(a.marketItemsService.$marketItemPendingIds,String(e)),R=k?.track_code,x=(0,s.useRefLogView)({type:t,trackCode:R}),L=e=>{h({track_code:R,type:t,action:e})},O=(0,_.useIsAdultConfirmed)(),w=(0,m.getMarketItemConfig)({item:k,onClick:(e,t,a)=>{I&&I(e,t,a),L(n.SearchClickActionMap.TAP)},catalogType:y,isAdultConfirmed:O}),b=(0,r.useCallback)((()=>{a.searchRecentService.fireAddRecent({owner_ids:`-${A?.id}`})}),[A]),N=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),!T&&k&&(k.is_favorite?(L(n.SearchClickActionMap.UNFAVE),a.marketItemsService.fireRemoveFavorite({id:k.id,owner_id:k.owner_id})):(L(n.SearchClickActionMap.FAVE),a.marketItemsService.fireMakeFavorite({params:{id:k.id,owner_id:k.owner_id}})))}),[k,T]),V=(0,r.useMemo)((()=>({header:(0,o.jsx)(c.Link,{target:"_blank",href:"/verify",children:g.getLang("groups_verified_header")}),text:(0,o.jsx)(d.Div,{mode:"vertical",spacing:0,paddingBottom:0,children:(0,o.jsx)(u.InnerHTML,{Component:v.Footnote,children:g.getLang("groups_verified_text")})})})),[]);if(!k)return null;const P=(0,o.jsx)(p.MiniProductCard.Price,{disabled:Boolean(w?.isDisabled),price:k.price.text}),B=A&&(0,o.jsx)(p.MiniProductCard.OwnerName,{href:`/${A.screen_name}`,isVerified:Boolean(A?.verified),target:"_blank",verifyHref:"/verify",ariaLabel:"verify icon",onClick:b,tooltip:V,children:A?.name??""}),M=(0,o.jsx)(p.MiniProductCard.FavoriteButton,{onClick:N,type:k?.is_favorite?"filled":"empty",disabled:Boolean(w?.isDisabled)||T});return(0,o.jsx)(p.MiniProductCard,{className:C.default.card,getRootRef:x,title:w?.titleConfig,picture:w?.pictureConfig||{},price:P,ownerName:B,rightActionButton:M})}},837150:(e,t,a)=>{a.d(t,{MarketItem:()=>o.MarketItem});var o=a(854347)},402619:(e,t,a)=>{a.d(t,{getMarketItemConfig:()=>_});var o=a(301388),r=a(595815),i=a(12387),n=a(119341),l=a(673325),s=a(50636),c=a(111913),d=a(413189),u=a(325429),p=a(759286);const _=({item:e,onClick:t,catalogType:a,isAdultConfirmed:_})=>{if(!e)return null;const m=Boolean(e.is_owner),g=0===e.availability,v=0===e.stock_amount,S=(0,l.getModerationErrorType)(e),f="hard"===S,C="moderation"===S,h=(C||f)&&!m,I=f||!g||v,E=(I||C)&&!m,y=(0,r.joinRawId)({ownerId:e.owner_id,itemId:e.id}),k=(0,u.getUrlWithTrackCode)((A=e,`/market${A?.owner_id}?w=product${A?.owner_id}_${A?.id}&ref_source=search_top`),e.track_code,a);var A;const T=e.is_adult&&!m&&!_,R=(0,s.getMarketProductImgErrorType)({isBlocked:h,isMuted:(v||!g)&&!T&&!m}),x=e=>{t({w:`product${y}`},!1,e)},L={href:k,text:(0,c.getMarketProductTitle)({isAdult:T,text:e.title,hasModerationStatus:h}),disabled:E,errorTooltip:e.reject_info?.title,...!T&&m&&{error:S},onClick:x},O={statusBadgeTitle:(0,n.getStatusBadgeTitleForMarket)({item:e,moderationErrorType:S,isAdultConfirmed:_}),blur:T,imgErrorType:R,...(0,i.getPictureConfig)({href:k,item:e,itemWidth:d.MARKET_ITEM_AVATAR_SIZE_M,onClick:x})},w=(0,p.createPercentMask)();return{isUnavailable:I,isDisabled:E,titleConfig:L,pictureConfig:O,notifyBadgeConfig:e.price.discount_rate?{type:"discount",text:(0,o.maskitoTransform)(String(e.price.discount_rate),w)}:void 0}}},635680:(e,t,a)=>{a.d(t,{MiniApp:()=>v});var o=a(785893),r=a(667294),i=a(504190),n=a(229488),l=a(8820),s=a(772418),c=a(619383),d=a(413189),u=a(380526),p=a(324153),_=a(721848),m=a(234862),g=a(520587);const v=({id:e,itemIndex:t,type:a})=>{const{navGo:v,appCatalogService:S}=(0,m.useCatalogConfig)(),{displayTopSearch:f}=(0,m.useCatalogSearch)(),C=(0,i.useStore)(g.$isMouseActive),h=(0,i.useStore)(g.$selectedItemIndex),I=(0,m.useCollectClick)(),E=(0,i.useStoreMap)({store:S.appsService.$apps,keys:[e],fn:(e,[t])=>e.get(t)}),y=(0,_.useRefLogView)({type:a,trackCode:E?.track_code}),k=(0,r.useCallback)(((e,t)=>{!E||e&&!(0,u.isMainClick)(e?.nativeEvent)||(e?.preventDefault(),e?.stopPropagation(),I({type:p.EventItemType.MINI_APP,track_code:E.track_code,action:p.SearchClickActionMap.TAP}),t?window.open(`/${E.screen_name}?ref=quick_search`):(f(!1),v(`/${E.screen_name}?ref=quick_search`,e?.nativeEvent||null)))}),[E,I,f]);return(0,r.useEffect)((()=>{(0,g.fireSetItemIndex)({id:t||0,callback:k})}),[t,k]),E?(0,o.jsx)(l.SimpleCell,{"data-testid":"modal_mini_app",hovered:h?.id===t,onClick:k,onLeave:()=>{(0,g.fireSetSelectionIndexByItem)(-1)},onEnter:()=>{(0,g.fireSetSelectionIndexByItem)(t||-1)},getRootRef:y,hasHover:C||h?.id===t,href:`/${E.screen_name}?ref=quick_search`,before:(0,o.jsx)(s.Image,{borderRadius:"l",size:d.CATALOG_AVATAR_SIZE_SM,src:E.icon_139?E.icon_139:E.icon_150}),after:(0,o.jsx)(n.IconButton,{children:(0,o.jsx)(c.Icon20ChevronCircleOutline,{})}),subtitle:E.description,children:E.title}):null}},27589:(e,t,a)=>{a.d(t,{MiniApp:()=>o.MiniApp});var o=a(635680)},639911:(e,t,a)=>{a.d(t,{PlaceholderSmall:()=>s});var o=a(785893),r=a(258037),i=a(471828),n=a(504190),l=a(325429);const s=({placeholder_ids:e})=>{const{appCatalogService:t}=(0,l.useCatalogConfig)(),a=(0,n.useStore)(t.placeholdersService.$placeholders);return(0,o.jsx)(o.Fragment,{children:e?.map((e=>{const t=a.get(e);return t?(0,o.jsx)(r.Placeholder,{children:t.text?t.text:i.getLang("search_search_no_found_summary")},e):null}))})}},960422:(e,t,a)=>{a.d(t,{PlaceholderSmall:()=>o.PlaceholderSmall});var o=a(639911)},717044:(e,t,a)=>{a.d(t,{Slider:()=>d});var o=a(785893),r=a(667294),i=a(86894),n=a(233095),l=a(413189),s=a(789581),c=a(153120);const d=e=>{const t=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),a=(0,n.getBlockByDataType)(e),d=(0,s.getEventItemTypeByDataType)(e);return(0,o.jsx)(i.HorizontalScroll,{className:c.default.root,getScrollToLeft:e=>e-l.SLIDER_SCROLL,getScrollToRight:e=>e+l.SLIDER_SCROLL,arrowSize:"m",children:(0,o.jsx)("div",{className:c.default.inner,children:t.map((t=>(0,o.jsx)(a,{...t,layout:e.layout.name,type:d},t.id)))})})}},856732:(e,t,a)=>{a.d(t,{Slider:()=>o.Slider});var o=a(717044)},233095:(e,t,a)=>{a.d(t,{extractItemsIds:()=>s,getBlockByDataType:()=>c});var o=a(413189),r=a(927218),i=a(837150),n=a(68900),l=a(324153);const s=e=>{switch(e.data_type){case o.CatalogBlockDataType.LINKS:return e.links_ids?.map((e=>({id:e})))||[];case o.CatalogBlockDataType.VIDEOS:return e.videos_ids?.map((e=>({id:e,type:l.EventItemType.VIDEO})))||[];case o.CatalogBlockDataType.MARKET_ITEMS:return e.market_item_ids?.map((e=>({id:e,type:l.EventItemType.MARKET_ITEM})))||[];default:return[]}},c=e=>{switch(e.data_type){case o.CatalogBlockDataType.LINKS:return r.Link;case o.CatalogBlockDataType.VIDEOS:return n.Video;case o.CatalogBlockDataType.MARKET_ITEMS:return i.MarketItem;default:return()=>null}}},325325:(e,t,a)=>{a.d(t,{Video:()=>m});var o=a(785893),r=a(685994),i=a(504190),n=a(413189),l=a(721848),s=a(70668),c=a(362144),d=a(325429),u=a(234862),p=a(667294),_=a(132472);const m=({id:e,layout:t,type:a})=>{const{appCatalogService:m}=(0,d.useCatalogConfig)(),{findOwner:g}=(0,u.useCatalogOwner)(),v=(0,i.useStore)(m.pageService.$catalogType),[[S,f]]=(0,p.useState)((0,s.extractIds)(e)),C=(0,i.useStoreMap)({store:m.videoService.$videoItems,keys:[S,f],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===a&&o===t))}),h=C?.track_code,I=(0,p.useMemo)((()=>g(S)||C?.main_artists?.[0]),[g,C]),E=(0,l.useRefLogView)({type:a,trackCode:h});if(!C)return null;const y=(0,s.getUrlWithTrackCode)((0,c.getVideoUrl)(C),h,v);return t===n.CatalogBlockLayoutName.SLIDER?(0,o.jsx)(r.HorizontalCell,{getRootRef:E,size:"dynamic",href:y,children:(0,o.jsx)(_.VideoCard,{videoData:C||{},owner:I,catalogType:v})}):null}},846390:(e,t,a)=>{a.d(t,{VideoCard:()=>C});var o=a(785893),r=a(892606),i=a(659397),n=a(432483),l=a(493829),s=a(242864),c=a(89062),d=a(626863),u=a(362144),p=a(802509),_=a(717402),m=a(234862),g=a(324153),v=a(70668),S=a(826068),f=a(923335);const C=({videoData:e,owner:t,fullWidth:a,onMoreClick:C,getRootRef:h,catalogType:I})=>{const{userId:E}=(0,m.useCatalogConfig)(),{showVideo:y}=(0,m.useCatalogSearch)(),k=Boolean(C&&!(0,S.isVKUserAnonymous)()),A=(0,m.useCollectClick)(),T=(0,p.getOwnerAvatar)(t),R=(0,v.getUrlWithTrackCode)((0,u.getVideoUrl)(e),e.track_code,I),x=t?(0,d.getOwnerUrl)(t,"/video/@"):void 0,L=!a,O=({children:e,href:t,...a})=>L?(0,o.jsx)("div",{...a,children:e}):(0,o.jsx)("a",{href:t,...a,children:e});let w;a&&e.width&&e.height&&(w=+(e.height/e.width*100).toFixed(2));const b=t=>{A({action:g.SearchClickActionMap.TAP,track_code:e.track_code,type:g.EventItemType.VIDEO}),(0,f.cancelEvent)(t),y({id:`${e.owner_id}_${e.id}`,event:t,video:e})};return(0,o.jsxs)("div",{ref:h,className:(0,i.classNames)(r.default.cardRoundedSmall,!a&&r.default.cardRounded),children:[(0,o.jsx)(c.VideoPreview,{video:e,ownerId:Number(t?.id||0),viewerId:E,itemUrl:L?"":R,onItemClick:b,mode:"regular",ratio:w,withTimeline:!0,fullWidth:a}),(0,o.jsxs)("div",{className:r.default.info,children:[(0,o.jsxs)("div",{className:r.default.main,children:[a&&(0,o.jsx)(O,{"data-testid":"video_card_author",href:x,onClick:()=>{A({action:g.SearchClickActionMap.OPEN_OWNER,track_code:e.track_code,type:g.EventItemType.VIDEO})},className:r.default.avatarWrapper,children:(0,o.jsx)(l.Avatar,{src:T,size:40})}),(0,o.jsxs)("div",{className:r.default.titleWrapper,children:[(0,o.jsx)(O,{"data-testid":"video_card_title",href:R,onClick:b,className:r.default.title,children:(0,o.jsx)(s.TextClamp,{lines:2,children:e?.title})}),(0,o.jsx)("span",{className:r.default.viewsFull,children:(0,_.formatViews)(e?.views,!0)})]})]}),k&&(0,o.jsx)("div",{"data-testid":"video_card_more",className:r.default.action,onClick:C,children:(0,o.jsx)(n.Icon24MoreHorizontal,{})})]})]})}},132472:(e,t,a)=>{a.d(t,{VideoCard:()=>o.VideoCard});var o=a(846390)},68900:(e,t,a)=>{a.d(t,{Video:()=>o.Video});var o=a(325325)},415004:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>n});var o=a(785893),r=a(733552),i=a(473600);const n=({layout:e})=>(0,o.jsxs)(o.Fragment,{children:["spacing"===e.style&&(0,o.jsx)(r.Spacing,{size:10}),(0,o.jsx)(i.Separator,{wide:!0})]})},472549:(e,t,a)=>{a.d(t,{CatalogSeparator:()=>o.CatalogSeparator});var o=a(415004)},800970:(e,t,a)=>{a.d(t,{CatalogSeparatorCommunity:()=>n});var o=a(785893),r=a(733552),i=a(473600);const n=({layout:e})=>(0,o.jsxs)(o.Fragment,{children:["spacing"===e.style&&(0,o.jsx)(r.Spacing,{size:10}),(0,o.jsx)(i.Separator,{})]})},175925:(e,t,a)=>{a.d(t,{Header:()=>i});var o=a(785893),r=a(249779);const i=e=>{const{layout:t}=e;return(0,o.jsx)(r.Header,{size:"medium",children:t.title})}},657324:(e,t,a)=>{a.d(t,{HeaderCompact:()=>r});var o=a(785893);const r=e=>{const{layout:t}=e;return(0,o.jsxs)("div",{className:"VideoSubheader ",children:[(0,o.jsx)("div",{className:"VideoSubheader__title",children:(0,o.jsx)("div",{className:"VideoSubheader__titleText js-video-subtitle",children:t.title})}),(0,o.jsx)("div",{className:"VideoSubheader__actions"})]})}},340388:(e,t,a)=>{a.d(t,{HeaderCompact:()=>o.HeaderCompact});var o=a(657324)},918317:(e,t,a)=>{a.d(t,{List:()=>l});var o=a(785893),r=a(994756),i=a(659397),n=a(135171);const l=e=>{const t=(0,r.extractItemsIds)(e),a=(0,r.getBlockComponentByDataType)(e.data_type);return(0,o.jsx)("div",{className:(0,i.classNames)("videos"===e.data_type&&"video_items_list _video_search_global_videos_list VideoGrid","search_authors"===e.data_type&&n.default.authors),children:t.map((e=>(0,o.jsx)(a,{...e},e.id)))})}},868475:(e,t,a)=>{a.d(t,{List:()=>o.List});var o=a(918317)},181537:(e,t,a)=>{a.d(t,{ListCommunity:()=>m});var o=a(785893),r=a(667294),i=a(994756),n=a(282788),l=a(733552),s=a(86894),c=a(996473),d=a(117374),u=a(471828),p=a(306657);const _={className:a(371456).default.list,rowSpacing:20,columnSpacing:12},m=e=>{const[t,a]=(0,r.useState)(4),m=(0,i.extractItemsIds)(e),g=(0,i.getBlockComponentByDataType)(e.data_type),v=(0,c.useListAdaptivityColumns)(),{spacing:S,rowSpacing:f,columnSpacing:C,...h}=_,I=S?{spacing:S}:{rowSpacing:f,columnSpacing:C};return"albums"===e.data_type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Grid,{...h,...I,columns:v,children:m.slice(0,t).map((({id:t,...a})=>(0,o.jsx)(n.Grid.Item,{children:(0,o.jsx)(g,{...a,id:t,layout:e.layout.name})},t)))}),m?.length>t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.CellButton,{centered:!0,after:(0,o.jsx)(d.Icon16DropdownOutline,{}),onClick:()=>a(m?.length),children:u.getLang("search_show_all")}),(0,o.jsx)(l.Spacing,{})]}):(0,o.jsx)(l.Spacing,{size:12})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Grid,{...h,...I,columns:v,children:m.map((({id:t,...a})=>(0,o.jsx)(n.Grid.Item,{children:(0,o.jsx)(g,{...a,id:t,layout:e.layout.name})},t)))}),e.actions?.map(((t,a)=>{const o=(0,p.getAction)(t);return(0,r.createElement)(o,{...e,key:t.track_code||a,action:t,layout:e.layout.name})}))]})}},684148:(e,t,a)=>{a.d(t,{Placeholder:()=>c});var o=a(785893),r=a(504190),i=a(775701),n=a(413189),l=a(258037),s=a(325429);const c=({placeholder_ids:e,layout:t})=>{const{appCatalogService:a}=(0,s.useCatalogConfig)(),c=(0,r.useStore)(a.placeholdersService.$placeholders);return(0,o.jsx)(o.Fragment,{children:e?.map((e=>{const a=c.get(e);if(void 0===a)return null;const{title:r,text:s}=a;return t.name===n.CatalogBlockLayoutName.PLACEHOLDER_LINE?(0,o.jsx)(l.Placeholder,{withPadding:!0,children:s},e):(0,o.jsxs)("div",{className:"VideoEmptyStub",children:[(0,o.jsx)("div",{className:"VideoEmptyStub__icon",children:(0,o.jsx)(i.Icon56VideoOutline,{})}),(0,o.jsx)("div",{className:"VideoEmptyStub__title",children:r}),(0,o.jsx)("div",{className:"VideoEmptyStub__text",children:s})]},e)}))})}},778333:(e,t,a)=>{a.d(t,{Placeholder:()=>o.Placeholder});var o=a(684148)},150642:(e,t,a)=>{a.d(t,{SearchAuthor:()=>c});var o=a(785893),r=a(325429),i=a(759612),n=a(701155),l=a(626863),s=a(504190);const c=({id:e,track_code:t,description:a})=>{const{appCatalogService:c}=(0,r.useCatalogConfig)(),d=(0,r.useCatalogStoreMap)(c.groupsService.$groups,Math.abs(Number(e))),u=(0,s.useStoreMap)({store:c.profilesService.$profiles,keys:[e],fn:(e,[t])=>e.get(+t)}),p=d||u;if(!p)return null;const _=(0,r.getUrlWithTrackCode)((0,l.getOwnerUrl)(p,"/video/@"),t,r.CatalogType.SEARCH);return d?(0,o.jsx)(i.SearchAuthorGroup,{group:d,description:a,url:_,trackCode:t}):u?(0,o.jsx)(n.SearchAuthorProfile,{profile:u,description:a,url:_,trackCode:t}):null}},759612:(e,t,a)=>{a.d(t,{SearchAuthorGroup:()=>m});var o=a(785893),r=a(324153),i=a(96715),n=a(8820),l=a(311429),s=a(441430),c=a(902947),d=a(325429),u=a(471828),p=a(504190),_=a(8064);const m=({group:e,description:t,url:a,trackCode:m})=>{const{appCatalogService:g}=(0,d.useCatalogConfig)(),v=(0,p.useStoreMap)({store:g.groupsService.$groupPendingIds,keys:[e.id],fn:(e,[t])=>!!e.find((e=>e===t))}),S=(0,d.useCollectClick)(),f=((0,c.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200,C=(0,d.useRefLogView)({type:r.EventItemType.SEARCH_AUTHOR,trackCode:m});return(0,o.jsx)(n.SimpleCell,{className:_.default.author,"data-testid":"author_group",getRootRef:C,href:a,onClick:()=>{S?.({action:r.SearchClickActionMap.TAP,track_code:m,type:r.EventItemType.SEARCH_AUTHOR})},before:(0,o.jsx)(l.RichAvatar,{size:d.CATALOG_AVATAR_SIZE_SM,src:f,nft:!!e?.is_nft_photo}),badgeAfterTitle:e.verified?(0,o.jsx)(i.Icon16Verified,{}):null,after:(0,o.jsx)(s.Button,{mode:e?.is_member?"secondary":"primary",size:"s",appearance:"accent",onClick:e?.is_member?t=>{t.stopPropagation(),t.preventDefault(),g.groupsService.fireLeaveGroup({group_id:e.id}),S?.({action:r.SearchClickActionMap.UNSUBSCRIBE,track_code:m,type:r.EventItemType.SEARCH_AUTHOR})}:t=>{t.stopPropagation(),t.preventDefault(),g.groupsService.fireJoinGroup({group_id:e.id}),S?.({action:r.SearchClickActionMap.SUBSCRIBE,track_code:m,type:r.EventItemType.SEARCH_AUTHOR})},loading:v,children:e?.is_member?u.getLang("search_video_author_subscribed"):u.getLang("search_video_author_subscribe")}),subtitle:t,children:e.name})}},701155:(e,t,a)=>{a.d(t,{SearchAuthorProfile:()=>m});var o=a(785893),r=a(504190),i=a(324153),n=a(96715),l=a(8820),s=a(311429),c=a(441430),d=a(902947),u=a(471828),p=a(325429),_=a(8064);const m=({profile:e,description:t,url:a,trackCode:m})=>{const{appCatalogService:g}=(0,p.useCatalogConfig)(),v=(0,r.useStore)(g.catalogUsersService.$pendingFriendsIds),S=(0,p.useCollectClick)(),f=((0,d.isRetina)()?e.photo_100:e.photo_50)||e.photo_100||e.photo_200,C=(0,p.useRefLogView)({type:i.EventItemType.SEARCH_AUTHOR,trackCode:m});return(0,o.jsxs)(l.SimpleCell,{className:_.default.author,"data-testid":"author_profile",getRootRef:C,href:a,onClick:()=>{S?.({action:i.SearchClickActionMap.TAP,track_code:m,type:i.EventItemType.SEARCH_AUTHOR})},before:(0,o.jsx)(s.RichAvatar,{size:p.CATALOG_AVATAR_SIZE_SM,src:f,nft:!!e?.is_nft}),badgeAfterTitle:e.verified?(0,o.jsx)(n.Icon16Verified,{}):null,after:(0,o.jsx)(c.Button,{mode:e.friend_status?"secondary":"primary",size:"s",appearance:"accent",onClick:e.friend_status?t=>{t.stopPropagation(),t.preventDefault(),g.catalogUsersService.fireDeleteFriend({user_id:e.id}),S?.({action:i.SearchClickActionMap.UNSUBSCRIBE,track_code:m,type:i.EventItemType.SEARCH_AUTHOR})}:t=>{t.stopPropagation(),t.preventDefault(),g.catalogUsersService.fireAddFriend({user_id:e.id}),S?.({action:i.SearchClickActionMap.SUBSCRIBE,track_code:m,type:i.EventItemType.SEARCH_AUTHOR})},loading:v.includes(e.id),children:e.friend_status?u.getLang("search_video_author_subscribed"):u.getLang("search_video_author_subscribe")}),subtitle:t,children:[e.first_name," ",e.last_name]})}},50720:(e,t,a)=>{a.d(t,{SearchAuthor:()=>o.SearchAuthor});var o=a(150642)},666386:(e,t,a)=>{a.d(t,{SearchSpellchecker:()=>_});var o=a(785893),r=a(504190),i=a(234862),n=a(721848),l=a(324153),s=a(797610),c=a(8820),d=a(990460),u=a(800856),p=a(107095);const _=({id:e})=>{const{appCatalogService:t}=(0,i.useCatalogConfig)(),{search:a}=(0,i.useCatalogSearch)(),_=(0,i.useCollectClick)(),m=(0,r.useStore)(t.pageService.$pageId),g=(0,r.useStoreMap)({store:t.searchSpellcheckersService.$searchSpellcheckers,keys:[e],fn:(e,[t])=>e.find((({id:e})=>e===t))}),v=g?.track_code,S=(0,n.useRefLogView)({type:l.EventItemType.SEARCH_SUGGESTION,trackCode:v});if(!g)return null;const f=(0,s.prepareSpellcheck)(g);return(0,o.jsx)(c.SimpleCell,{className:p.default.searchSpellcheck,getRootRef:S,hasActive:!1,hasHover:!1,multiline:!0,children:(0,o.jsxs)(d.Text,{children:[f.title," ",(0,o.jsx)(d.Text,{normalize:!1,weight:"1",children:f.query.text})," · ",f.suggest,(0,o.jsx)(u.Link,{"data-testid":"search_spellchecker",onClick:()=>{a&&g?.id&&v&&(a({q:g.search_action.next_search_query,page:m,additionalParams:{suggestTrackCode:v,noSpellcheck:1}}),_({action:l.SearchClickActionMap.TAP,track_code:g.track_code,type:l.EventItemType.CATALOG_ITEM}))},children:f.search_action.text})]})})}},954385:(e,t,a)=>{a.d(t,{SearchSpellchecker:()=>o.SearchSpellchecker});var o=a(666386)},687159:(e,t,a)=>{a.d(t,{Text:()=>l});var o=a(785893),r=a(667294),i=a(806660),n=a(994756);const l=e=>{const t=(0,r.useMemo)((()=>(0,n.extractItemsIds)(e)),[e]),a=(0,n.getBlockComponentByDataType)(e.data_type);return(0,o.jsx)(i.Group,{mode:"plain",separator:"hide",children:t.map((({id:e})=>(0,o.jsx)(a,{id:e},e)))})}},734281:(e,t,a)=>{a.d(t,{Text:()=>o.Text});var o=a(687159)},901703:(e,t,a)=>{a.d(t,{Video:()=>x});var o=a(785893),r=a(667294),i=a(572643),n=a(659397),l=a(408903),s=a(347088),c=a(436495),d=a(785779),u=a(171288),p=a(887353),_=a(515645),m=a(385674),g=a(634682),v=a(775701),S=a(184132),f=a(325429),C=a(234862),h=a(324153),I=a(362144),E=a(721848),y=a(344757),k=a(504190),A=a(977053),T=a(595815),R=a(903999);const x=({id:e})=>{const{userId:t,appCatalogService:a}=(0,f.useCatalogConfig)(),[x,L]=String(e).split("_"),{showVideo:O,getVideoCardWrapper:w}=(0,C.useCatalogSearch)(),b=(0,f.useCollectClick)(),N=(0,A.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"),V=(0,k.useStoreMap)({store:a.videoService.$videoItems,keys:[x,L],fn:(e,[t,a])=>e.find((({id:e,owner_id:o})=>e===+a&&o===+t))}),P=(0,f.useCatalogStoreMap)(a.groupsService.$groups,Math.abs(Number(x))),B=(0,k.useStoreMap)({store:a.profilesService.$profiles,keys:[x],fn:(e,[t])=>e.get(+t)}),M=V?(0,I.getVideoUrl)(V):"",[D,j]=(0,r.useState)(!1),F=V?.main_artists?.at(0),G=S.Ranges.isGroupId(Number(x))?P:B,U=(0,l.useWindowWidth)(),H=(0,r.useMemo)((()=>{const e=V?.image??[];let t=e.filter((e=>!e.with_padding));return t.length||(t=e),(0,n.getPhotoSize)(t,(0,s.getImageMinWidth)(U))}),[U]),[$,z]=(0,r.useState)(!0),W=()=>{const e=V?.added;e?(b({action:h.SearchClickActionMap.REMOVE_FROM_ME,track_code:V?.track_code,type:h.EventItemType.VIDEO}),a.videoService.removeVideoFromMyVideosWithoutEffect({target_id:t,owner_id:Number(x),video_id:Number(L)})):(b({action:h.SearchClickActionMap.ADD_TO_ME,track_code:V?.track_code,type:h.EventItemType.VIDEO}),a.videoService.addVideoToMyVideosWithoutEffect({target_id:t,owner_id:Number(x),video_id:Number(L)}))},K=(0,E.useRefLogView)({type:h.EventItemType.VIDEO,trackCode:V?.track_code}),Y=e=>N?(e=>{if(!x||!N)return;const t=V?.is_favorite;t?a.videoService.removeVideoFromWatchLater({owner_id:Number(x),id:Number(L),ref:V?.track_code,source:e}):a.videoService.addVideoToWatchLater({owner_id:Number(x),id:Number(L),ref:V?.track_code,source:e});const o=(0,T.joinRawId)({ownerId:Number(x),itemId:Number(L)});window.dispatchEvent(new CustomEvent(i.VideoShowcaseFaveEvents.TOGGLE,{detail:{id:o,isFave:t,rollbackCallback:()=>{a.videoService.addVideoToWatchLater({owner_id:Number(x),id:Number(L),ref:V?.track_code,source:R.FAVORITE_SOURCES.SNACKBAR}),window.dispatchEvent(new CustomEvent(i.VideoShowcaseFaveEvents.TOGGLE,{detail:{id:o,isFave:!1}}))}}})),b({action:t?h.SearchClickActionMap.UNFAVE:h.SearchClickActionMap.FAVE,track_code:V?.track_code,type:h.EventItemType.VIDEO})})(e):(e=>{if(!x)return;const t=V?.is_favorite;t?a.videoService.removeVideoFromFave({owner_id:Number(x),id:Number(L),ref:V?.track_code,source:e}):(a.layoutService.showSnackbar({event:R.SNACKBAR_EVENTS.ADD_TO_FAVE}),a.videoService.addVideoToFave({owner_id:Number(x),id:Number(L),ref:V?.track_code,source:e})),b({action:t?h.SearchClickActionMap.UNFAVE:h.SearchClickActionMap.FAVE,track_code:V?.track_code,type:h.EventItemType.VIDEO})})(e);if(void 0===V)return null;const q=V.trailer?.mp4_360??"",Q=(0,i.getVideoClasses)(V,String(e)),Z=V.restriction;let X=0;V.viewed_duration&&V.duration&&(X=100*V.viewed_duration/V.duration);const J=V.duration?(0,n.formatDuration)(V.duration):"",ee=t=>{if(t.preventDefault(),window.cur.cancelClick)window.cur.cancelClick=!1;else{if(window.cur.chooseVideoMedia)return window.cur.chooseVideoMedia(t.target,String(e));b({action:h.SearchClickActionMap.TAP,track_code:V.track_code,type:h.EventItemType.VIDEO}),O&&O({event:t,id:String(e),video:V})}},te=w&&w({video:V,owner:G,handleFavToggle:Y,handleToggleAdd:W,handleClickShowVideo:ee,handleClickAuthor:()=>{b({action:h.SearchClickActionMap.OPEN_OWNER,track_code:V.track_code,type:h.EventItemType.VIDEO})}});return te||(0,o.jsxs)("div",{ref:K,className:Q,id:`video_item_${e}`,"data-id":e,"data-owner-id":x,"data-video-id":L,"data-thumb":H?.url,"data-trailer":q,"data-task-mouseenter":"VideoShowcase/play_trailer","data-task-mouseleave":"VideoShowcase/stop_trailer",children:[(0,o.jsx)("a",{className:"VideoCard__thumbLink video_item__thumb_link",href:M,onClick:ee,children:(0,o.jsxs)("div",{className:"VideoCard__thumbWrapper video_item_thumb_wrap",children:[Z?(0,o.jsx)(c.VideoRestriction,{icon:Z.icon_name,title:Z.title}):null,(0,o.jsxs)("div",{className:"VideoCard__thumb",children:[H&&!D&&(0,o.jsx)("img",{className:(0,n.classNames)("VideoCard__thumbImg","js-video-item-thumb","VideoRestriction__thumb",{VideoRestriction__thumb:Boolean(Z)}),"data-thumb":H.url,src:H.url,loading:"lazy",onError:()=>j(!0),alt:V.title}),D&&(0,o.jsx)(v.Icon56VideoOutline,{})]}),(0,o.jsx)("div",{className:"video_thumb_play VideoCard__play"}),q?(0,o.jsx)("video",{className:(0,n.classNames)("VideoCard__trailer",{"VideoCard__trailer--loading":$}),onLoadedData:()=>z(!1),crossOrigin:"anonymous",src:q,muted:!0,loop:!0}):null,(0,o.jsxs)("div",{className:"VideoCard__controls video_item_controls",children:[(0,o.jsx)("div",{className:"VideoCard__privacyIconWrapper"}),(0,o.jsx)(y.VideoCardLabel,{video:V,duration:J}),(0,o.jsx)("div",{className:"VideoCard__actions video_thumb_actions",children:(0,o.jsx)(d.VideoActions,{video:V,onToggleAdd:W,onToggleFav:Y})}),(0,o.jsx)(g.MediaCheckButton,{videoId:String(e)}),X?(0,o.jsx)("div",{className:"VideoCard__viewedDurationWrapper",children:(0,o.jsx)("div",{className:"VideoCard__viewedDuration",style:{width:`${X}%`}})}):null]})]})}),(0,o.jsxs)("div",{className:"VideoCard__info",children:[(0,o.jsx)(u.Avatar,{owner:G||F}),(0,o.jsxs)("div",{className:"VideoCard__infoContent",children:[(0,o.jsxs)("div",{className:"VideoCard__titleWrapper",id:`video_card_title_wrapper_${L}`,children:[(0,o.jsx)("a",{className:"VideoCard__title",href:M,"data-queue":"0","data-id":e,"data-task-mouseover":"Video/check_title",onClick:ee,children:V?.title}),(0,o.jsx)(p.MenuToggle,{videoRawId:String(e)})]}),(0,o.jsx)("div",{className:"VideoCard__additionalInfo",children:(0,o.jsx)(_.VideoOwner,{owner:G||F,ownerId:V.owner_id,trackCode:V.track_code})}),(0,o.jsx)("div",{className:"VideoCard__additionalInfo VideoCard__extendedInfo",children:(0,o.jsx)(m.SubTitle,{video:V})})]})]})]})}},319433:(e,t,a)=>{a.d(t,{Avatar:()=>n});var o=a(785893),r=a(802509),i=a(626863);const n=({owner:e})=>{const t=(0,r.getOwnerAvatar)(e);return t.length?(0,o.jsx)("a",{href:(0,i.getOwnerUrl)(e,"/video/@"),className:"VideoCard__avatar VideoCard__avatar--base",style:{backgroundImage:`url(${t})`}}):null}},171288:(e,t,a)=>{a.d(t,{Avatar:()=>o.Avatar});var o=a(319433)},90262:(e,t,a)=>{a.d(t,{MediaCheckButton:()=>i});var o=a(785893),r=a(667294);const i=({videoId:e})=>{const t=(0,r.useRef)(null);return(0,o.jsx)("div",{ref:t,className:"media_check_btn_wrap",onClick:()=>{if(window.cur.chooseVideoMedia&&t.current)return window.cur.chooseVideoMedia(t.current,e,!0)},children:(0,o.jsx)("div",{className:"media_check_btn"})})}},634682:(e,t,a)=>{a.d(t,{MediaCheckButton:()=>o.MediaCheckButton});var o=a(90262)},341632:(e,t,a)=>{a.d(t,{MenuToggle:()=>l});var o=a(785893),r=a(667294),i=a(432483),n=a(234862);const l=({videoRawId:e})=>{const{showVideoMenu:t}=(0,n.useCatalogSearch)(),a=(0,r.useRef)(null),l=()=>{t&&t(a.current,e)};return(0,o.jsx)("button",{ref:a,className:"VideoCard__menuToggle",onMouseOver:l,onClick:l,children:(0,o.jsx)("div",{className:"VideoCard__menuToggleIcon",children:(0,o.jsx)(i.Icon24MoreHorizontal,{})})})}},887353:(e,t,a)=>{a.d(t,{MenuToggle:()=>o.MenuToggle});var o=a(341632)},55987:(e,t,a)=>{a.d(t,{SubTitle:()=>i});var o=a(785893),r=a(775830);const i=({video:e})=>(0,o.jsxs)(o.Fragment,{children:[e.views&&(0,o.jsx)("span",{className:"VideoCard__extendedInfoView",children:(0,r.getFormattedViews)(e.views)}),(0,o.jsxs)("span",{className:"VideoCard__extendedInfoDate",children:[(0,o.jsx)("span",{className:"divider VideoCard__extendedInfoDateDivider"}),e.date&&(0,o.jsx)("span",{className:"VideoCard__extendedInfoUpdated",children:(0,r.getFormattedUpdatedTime)(e.date,!0)})]})]})},385674:(e,t,a)=>{a.d(t,{SubTitle:()=>o.SubTitle});var o=a(55987)},272162:(e,t,a)=>{a.d(t,{VideoActions:()=>v});var o=a(785893),r=a(667294),i=a(304680),n=a(888056),l=a(738381),s=a(293079),c=a(519979),d=a(358493),u=a(471828),p=a(977053),_=a(152827),m=a(572643),g=a(577655);const v=({video:e,onToggleAdd:t,onToggleFav:a})=>{const v=(0,p.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"),S=(0,p.partConfigEnabled)("video_can_show_playlist_popover_with_watch_later");return(0,r.useEffect)((()=>{const t=t=>{e.id===t.detail.videoId&&a()};return window.addEventListener(m.VideoShowcaseFaveEvents.EVENT_TRIGGER,t),()=>{window.removeEventListener(m.VideoShowcaseFaveEvents.EVENT_TRIGGER,t)}}),[e,a]),(0,o.jsxs)(o.Fragment,{children:[e.can_edit?(0,o.jsx)("button",{className:"VideoCard__action VideoCard__action--edit","data-task-click":"VideoShowcase/video_edit","data-task-mouseover":"VideoShowcase/show_tooltip","data-task-mouseout":"VideoShowcase/hide_tooltip","data-text":u.getLang("video_edit"),"aria-label":u.getLang("video_edit"),children:(0,o.jsx)("div",{className:"VideoCard__actionIcon",children:(0,o.jsx)(i.Icon16PenOutline,{})})}):null,e.can_add_to_faves&&v?(0,o.jsx)(_.TextTooltip,{text:e.is_favorite?u.getLang("video_remove_from_watch_later"):u.getLang("video_catalog_showcase_section_my_watch_later_title"),offsetDistance:8,offsetSkidding:24,maxWidth:140,appearance:"black",placement:"bottom",children:(0,o.jsx)("button",{className:"VideoCard__action VideoCard__action--watch-later",onClick:e=>{return t=e,o=g.FAVORITE_SOURCES.VIDEO_CARD_BUTTON,t.stopPropagation(),t.preventDefault(),void a(o);var t,o},"data-task-click":"VideoShowcase/icon_watch_later_video","data-task-mouseover":"VideoShowcase/show_watch_later_tooltip","data-task-mouseout":"VideoShowcase/hide_tooltip","data-destroy-tooltip":"true","data-text":e.is_favorite?u.getLang("video_remove_from_watch_later"):u.getLang("video_catalog_showcase_section_my_watch_later_title"),"aria-label":e.is_favorite?u.getLang("video_remove_from_watch_later"):u.getLang("video_catalog_showcase_section_my_watch_later_title"),children:(0,o.jsx)("div",{className:"VideoCard__actionIcon",children:e.is_favorite?(0,o.jsx)(n.Icon16Clock,{}):(0,o.jsx)(l.Icon16ClockOutline,{})})})}):null,3===e.can_download?(0,o.jsx)("button",{className:"VideoCard__action VideoCard__action--download",onClick:t=>(0,m.downloadVideo)(t,e),children:(0,o.jsx)("div",{className:"VideoCard__actionIcon",children:(0,o.jsx)(s.Icon16DownloadOutline,{})})}):null,!e.can_add||!S&&v?null:(0,o.jsxs)("button",{className:"VideoCard__action VideoCard__action--add",onClick:e=>{e.stopPropagation(),e.preventDefault(),t()},"data-task-mouseover":"VideoShowcase/show_add_tooltip","data-task-mouseout":"VideoShowcase/hide_tooltip","data-text-add":u.getLang("video_add_to_my_playlist"),"data-text-added":u.getLang("video_remove_from_my_playlist"),"aria-label":u.getLang("video_add_to_my_playlist"),children:[(0,o.jsx)("div",{className:"VideoCard__actionIcon VideoCard__actionIcon--added",children:(0,o.jsx)(c.Icon16Done,{})}),(0,o.jsx)("div",{className:"VideoCard__actionIcon VideoCard__actionIcon--add",children:(0,o.jsx)(d.Icon16Add,{})})]})]})}},785779:(e,t,a)=>{a.d(t,{VideoActions:()=>o.VideoActions});var o=a(272162)},104269:(e,t,a)=>{a.d(t,{VideoCardLabel:()=>i});var o=a(785893),r=a(572643);const i=({video:e,duration:t})=>(0,o.jsxs)("div",{className:"VideoCard__label ",children:[e.platform?(0,o.jsx)("span",{className:"VideoCard__labelItem",children:e.platform}):null,e.duration?(0,o.jsx)("span",{className:"VideoCard__labelItem",children:t}):null,(0,r.isActiveLiveStatus)(e)?(0,o.jsx)("span",{className:"video_thumb_label_live_icon"}):null]})},344757:(e,t,a)=>{a.d(t,{VideoCardLabel:()=>o.VideoCardLabel});var o=a(104269)},873904:(e,t,a)=>{a.d(t,{VideoOwner:()=>c});var o=a(785893),r=a(626863),i=a(540254),n=a(325429),l=a(324153),s=a(234862);const c=({owner:e,trackCode:t,ownerId:a})=>{const c=(0,n.useCollectClick)(),{pageVerifiedTip:d}=(0,s.useCatalogConfig)(),u=e?(0,r.getOwnerUrl)(e,"/video/@"):void 0,p=(0,i.getOwnerName)(e),_=Boolean(e&&"verified"in e&&e?.verified);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("a",{onClick:()=>{c({action:l.SearchClickActionMap.OPEN_OWNER,track_code:t,type:l.EventItemType.VIDEO})},href:u,className:"VideoCard__ownerLink",children:p}),_&&(0,o.jsx)("a",{href:"/verify",className:"page_verified ",onMouseOver:e=>{d&&d(e.currentTarget,{type:1,oid:a})}})]})}},515645:(e,t,a)=>{a.d(t,{VideoOwner:()=>o.VideoOwner});var o=a(873904)},148359:(e,t,a)=>{a.d(t,{VideoRestriction:()=>i});var o=a(785893);const r=e=>"hide_outline"===e?"age":e,i=({icon:e,title:t})=>(0,o.jsx)("div",{className:"VideoRestriction__boxWrap",children:(0,o.jsxs)("div",{className:"VideoRestriction__box",children:[(0,o.jsx)("div",{className:`VideoRestriction__icon VideoRestriction__icon--${r(e)}`}),(0,o.jsx)("div",{className:"VideoRestriction__title",children:t})]})})},436495:(e,t,a)=>{a.d(t,{VideoRestriction:()=>o.VideoRestriction});var o=a(148359)},1476:(e,t,a)=>{a.d(t,{Video:()=>o.Video});var o=a(901703)},572643:(e,t,a)=>{a.d(t,{VideoShowcaseFaveEvents:()=>s,downloadVideo:()=>d,getPlayFromByDuration:()=>c,getVideoClasses:()=>l,isActiveLiveStatus:()=>n});var o=a(659397),r=a(775830),i=a(595815);const n=e=>["waiting","started"].some((t=>t===e.live_status)),l=(e,t)=>{const a=(0,r.isLiveVideo)(e),i=Boolean(e.platform)&&!a,l=Boolean(e.can_edit),s=Boolean(e.can_add),c=3===e.can_download,d=!l,u=!s,p=Boolean(e.content_restricted);return(0,o.classNames)("_video_item",`ge_video_item_${t}`,{video_ext:i,video_active_live:n(e),video_can_edit:l,video_can_add:s,video_can_download:c,video_can_delete:!1,video_nap:Boolean(e.no_autoplay),video_added:Boolean(e.added),"VideoCard--private":Boolean(e.is_private),video_no_duration:!Boolean(e.platform)&&!Boolean(e.duration)&&!n(e),video_no_actions:d&&(u||p),video_blocked:p,VideoRestriction:Boolean(e.restriction),"VideoRestriction--small":Boolean(e.restriction),"VideoRestriction--canPreview":Boolean(e.restriction?.can_preview),"VideoRestriction--blur":Boolean(e.restriction?.blur),"VideoCard--videoAdded":Boolean(e.added),"VideoCard--bookmarked":Boolean(e.is_favorite)},"VideoCard")},s={TOGGLE:"VideoShowcaseFaveEvents/TOGGLE",EVENT_TRIGGER:"VideoShowcaseFaveEvents/EVENT_TRIGGER"},c=e=>{let t="";const a=Math.floor(e/3600);a&&(t+=`${a}h`);const o=Math.floor(e%3600/60);o&&(t+=`${o}m`);const r=e%60;return r&&(t+=`${r}s`),t},d=(e,{id:t,owner_id:a,title:o,type:r})=>{o&&r&&a&&t&&(e.preventDefault(),e.stopPropagation(),window.ajax.post("al_video.php?act=get_download_url",{video_raw_id:(0,i.joinRawId)({ownerId:a,itemId:t})},{onDone:e=>{(({url:e,title:t})=>{if(!e)return!1;const a=document.createElement("a");a.href=e,a.download=`${t}.mp4`,document.body.appendChild(a),a.click(),document.body.removeChild(a)})({title:o,url:e})}}))}},930443:(e,t,a)=>{a.d(t,{ECatalogBlockDataType:()=>o});const o={VIDEOS:"videos",ALBUMS:"albums",SEARCH_SPELLCHECKER:"search_spellchecker",SEARCH_AUTHORS:"search_authors"}},994756:(e,t,a)=>{a.d(t,{extractItemsIds:()=>c,getBlockComponentByDataType:()=>d});var o=a(930443),r=a(1476),i=a(50720),n=a(954385),l=a(996473);const s=e=>e?.map((e=>({id:e}))),c=e=>{const{data_type:t}=e;switch(t){case o.ECatalogBlockDataType.VIDEOS:return s(e?.videos_ids)||[];case o.ECatalogBlockDataType.ALBUMS:return s(e?.albums_ids)||[];case o.ECatalogBlockDataType.SEARCH_SPELLCHECKER:return s(e?.search_spellcheckers_ids)||[];case o.ECatalogBlockDataType.SEARCH_AUTHORS:return e?.search_author_items||[]}return[]},d=e=>{switch(e){case o.ECatalogBlockDataType.VIDEOS:return r.Video;case o.ECatalogBlockDataType.SEARCH_AUTHORS:return i.SearchAuthor;case o.ECatalogBlockDataType.SEARCH_SPELLCHECKER:return n.SearchSpellchecker;case o.ECatalogBlockDataType.ALBUMS:return l.Playlist}return()=>null}},413189:(e,t,a)=>{var o;a.d(t,{CATALOG_API_METHODS:()=>x,CATALOG_AVATAR_SIZE_L:()=>m,CATALOG_AVATAR_SIZE_M:()=>_,CATALOG_AVATAR_SIZE_SM:()=>p,CatalogActionIcons:()=>L,CatalogActionType:()=>n,CatalogBlockDataType:()=>i,CatalogBlockLayoutName:()=>r,CatalogExtendedDataName:()=>l,CatalogType:()=>o,FIRST_VERIFIED_TOOLTIP_SHIFT:()=>A,FRIENDS_BUTTON_ACTIONS:()=>c,FRIENDS_IN_GROUP:()=>h,GROUP_REDESIGN_EVENT_SLIDER_SCROLL:()=>k,GROUP_REDESIGN_SLIDER_SCROLL:()=>y,MARKET_ITEM_AVATAR_SIZE_M:()=>C,MARKET_ITEM_AVATAR_SIZE_SM:()=>f,MAX_FRIENDS_IN_GROUP_TO_SHOW:()=>I,MINI_APP_AVATAR_SIZE:()=>g,ONLINE_STATUS:()=>s,OPEN_SEARCH_TAB_ACTION_URL:()=>d,OPEN_SEARCH_TAB_ACTION_URL_WEB:()=>u,RICH_CELL_BUTTON_WIDTH_L:()=>R,SLIDER_AVATAR_SIZE_M:()=>S,SLIDER_AVATAR_SIZE_SM:()=>v,SLIDER_SCROLL:()=>E,VERIFIED_TOOLTIP_SHIFT:()=>T}),function(e){e.SEARCH="search",e.VIDEO="video",e.GROUPS="groups"}(o||(o={}));const r={HEADER:"header",HEADER_COMPACT:"header_compact",HEADER_LARGE:"header_large",HEADER_EXTENDED:"header_extended",SMALL_SLIDER:"small_slider",LARGE_SLIDER:"large_slider",SLIDER:"slider",VIDEO_SLIDER:"video_slider",SLIDER_CARD:"slider_card",SLIDER_MINIMALISTIC_CARD:"slider_minimalistic_card",SLIDER_EVENT:"slider_event",SEPARATOR:"separator",LIST:"list",LARGE_LIST:"large_list",SMALL_LIST:"small_list",STACKED_LIST:"stacked_list",SHORT_VIDEO_LIST:"short_video_list",COMPACT_LIST:"compact_list",PLACEHOLDER:"placeholder",PLACEHOLDER_LINE:"placeholder_line",PLACEHOLDER_SMALL:"placeholder_small",PLACEHOLDER_BIG:"placeholder_big",PLACEHOLDER_IMAGE_WARNING:"placeholder_image_warning",PLACEHOLDER_ILLEGAL_QUERY:"placeholder_illegal_query",DOUBLE_STACKED_SLIDER:"double_stacked_slider",DOUBLE_LIST:"double_list",DOUBLE_STACKED_LIST:"double_stacked_list",DOUBLE_STACKED_LIST_MINIMALISTIC_CARD:"double_stacked_list_minimalistic_card",HORIZONTAL_BUTTONS:"horizontal_buttons",TRIPLE_STACKED_SLIDER:"triple_stacked_slider",PREVIEW:"preview",CHIPS:"chips",TITLE_SUBTITLE_AVATAR:"title_subtitle_avatar",TEXT:"text",BUTTON:"button",BANNER:"banner",SHORT_VIDEO_SLIDER:"short_video_slider",SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER:"short_video_slider_with_view_counter"},i={GROUPS:"groups",GROUPS_INVITES:"groups_invites",GROUPS_ITEMS:"groups_items",GROUPS_ALL:"groups_all_groups_or_recommendations",GROUPS_COLLECTION:"groups_collection",GROUPS_CATEGORY_ITEMS:"groups_category_items",ACTION:"action",LINKS:"links",CATALOG_USERS:"catalog_users",MINI_APPS:"mini_apps",MARKET_ITEMS:"market_items",VIDEOS:"videos",ALBUMS:"albums",CATALOG_SEARCH_SUGGESTION:"catalog_search_suggestion",SEARCH_SPELLCHECKER:"search_spellchecker",SEARCH_AUTHORS:"search_authors",MUSIC_AUDIOS:"music_audios",MUSIC_PLAYLISTS:"music_playlists",SEARCH_SUGGESTIONS:"search_suggestions",NEWSFEED_ITEMS:"newsfeed_items",AUDIOS:"audios",GAMES:"games",STICKERS_PACKS:"stickers_packs",MINI_APPS_CONTENT:"mini_apps_content",SEARCH_ENTITY_ITEMS:"search_entity_items",NAVIGATION_TABS:"navigation_tabs",PLACEHOLDER:"placeholder",RADIO_STATIONS:"radiostations"},n={OPEN_SEARCH_TAB:"open_search_tab",OPEN_SECTION:"open_section",OPEN_URL:"open_url",CLEAR_RECENT_GROUPS:"clear_recent_groups",OPEN_SECTION_SLIDER_CELL:"open_section_slider_cell",ONBOARDING:"onboarding",BLOCK_FILTER:"block_filter",VIDEO_SUBSCRIPTIONS_BLOCK_FILTER:"video_subscriptions_block_filter",SHOW_FILTERS:"show_filters",PLAY_VIDEOS_FROM_BLOCK:"play_videos_from_block",TOGGLE_ALBUM_SUBSCRIPTION:"toggle_album_subscription",UPLOAD_VIDEO:"upload_video",CREATE_ALBUM:"create_album",START_LIVE:"start_live",GROUPS_MY_GROUPS_TABS:"groups_my_groups_tabs",HIDE_BLOCK:"hide_block",SWITCH_SECTION:"switch_section",SEARCH_SHOW_MORE:"search_show_more",OPEN_VIDEO_MODAL:"open_video_modal",OPEN_VIDEO_PLAYLIST_MODAL:"open_video_playlist_modal"},l={GROUPS:"groups",LINKS:"links",CATALOG_USERS:"catalog_users",MINI_APPS:"mini_apps",MARKET_ITEMS:"market_items",VIDEOS:"videos",ALBUMS:"albums",PLACEHOLDERS:"placeholders",PROFILES:"profiles",SUGGESTIONS:"suggestions",SEARCH_SPELLCHECKERS:"search_spellcheckers",NEWSFEED_ITEMS:"newsfeed_items",REACTION_SETS:"reaction_sets",PLAYLISTS:"playlists",AUDIOS:"audios",GROUP_COLLECTION_ITEMS:"group_collection_items",GROUP_CATEGORY_ITEMS:"group_category_items",GAMES:"games",STICKERS_PACK_PREVIEWS:"stickers_pack_previews",SEARCH_ENTITY_ITEMS:"search_entity_items",NAVIGATION_TABS:"navigation_tabs",CLASSIFIEDS_CATEGORY_TREE:"classifieds_category_tree",RADIO_STATIONS:"radio_stations",TEXTS:"texts"},s={ONLINE:"online",MOBILE:"online-mobile"};var c;!function(e){e.ADD_FRIEND="addFriend",e.REMOVE_FRIEND="removeFriend",e.SEND_MESSAGE="sendMessage",e.NO_ACTION="noAction",e.SUBSCRIBE="subscribe",e.UNSUBSCRIBE="unsubscribe",e.CALL="call"}(c||(c={}));const d={GROUPS:"/search?section=communities",PEOPLE:"/search?section=people",VIDEO:"/search?section=video",SERVICES:"/search?section=services",GAMES:"/search?section=games",MUSIC:"/search?section=audio",CLIPS:"/search?section=clips"},u={GROUPS:"/search/communities",PEOPLE:"/search/people",VIDEO:"/search/video",SERVICES:"/search/mini_apps",GAMES:"/search/games",MUSIC:"/search/audio",CLIPS:"/search/clips",MARKET:"/search/market"},p=40,_=48,m=80,g=56,v=56,S=64,f=135,C=140,h={NO_ONE:0,ONE:1,TWO:2},I=2,E=120,y=170,k=310,A=[96,20,5],T=[96,3,3],R=134,x={GET_SECTION:"catalog.getSection",SAVE_SELECTION:"catalog.saveSelection",GET_STORIES:"stories.get",JOIN_GROUP:"groups.join",LEAVE_GROUP:"groups.leave",ADD_FRIEND:"friends.add",DELETE_FRIEND:"friends.delete",CLEAR_RECENT:"search.clearRecents",GROUPS_REMOVE_RECENT:"groups.removeRecents",FAVE_ADD_PRODUCT:"fave.addProduct",FAVE_REMOVE_PRODUCT:"fave.removeProduct",ADD_RECENT:"search.addRecents",REMOVE_SEARCH_RECENT_QUERY:"search.removeSearchRecentQuery",LIKES_ADD:"likes.add",LIKES_DELETE:"likes.delete",ADD_VIDEO:"video.add",DELETE_VIDEO:"video.delete",ADD_VIDEO_TO_FAVE:"fave.addVideo",REMOVE_VIDEO_FROM_FAVE:"fave.removeVideo",ADD_VIDEO_TO_PLAYLIST:"video.addToAlbum",REMOVE_VIDEO_FROM_PLAYLIST:"video.removeFromAlbum",GET_PLAYLISTS_BY_VIDEO:"video.getAlbumsByVideo",GET_PLAYLISTS:"video.getAlbums",SUBSCRIBE_TO_ALBUM:"video.subscribeToAlbum",UNSUBSCRIBE_TO_ALBUM:"video.unsubscribeFromAlbum",REMOVE_VIEWING_HISTORY_RECORDS:"video.removeViewingHistoryRecords",MARK_VIDEO_NOT_INTERESTED:"video.notInterested",FAVE_ADD_POST:"fave.addPost",FAVE_REMOVE_POST:"fave.removePost",ADD_AUDIO:"audio.add",DELETE_AUDIO:"audio.delete",RESTORE_AUDIO:"audio.restore",AGREE_BLUR_RESTRICTION:"photos.agreeBlurRestriction",FOLLOW_RADIO_STATION:"audio.followRadioStation",UNFOLLOW_RADIO_STATION:"audio.unfollowRadioStation"},L={CHEVRON_RIGHT_CIRCLE_28:"chevron_right_circle_28"}},83212:(e,t,a)=>{a.d(t,{CatalogConfigProvider:()=>s,useCatalogConfig:()=>l});var o=a(785893),r=a(667294),i=a(366005);const n=(0,r.createContext)({navGo:()=>!1,navigate:()=>{},userId:0,devicePixelRatio:0,pageVerifiedTip:()=>({}),openChat:()=>({}),call:()=>({}),openStories:()=>({}),appCatalogService:i.appCatalogService}),l=()=>(0,r.useContext)(n),s=({navGo:e=(()=>!1),navigate:t=(()=>{}),userId:a=0,devicePixelRatio:l=0,pageVerifiedTip:s=(()=>({})),openChat:c=(()=>({})),call:d=(()=>({})),openStories:u=(()=>({})),musicPlayer:p,blockResolvers:_,appCatalogService:m=i.appCatalogService,withStretchedPlaceholders:g,scrollToBlockOffset:v,sliderProps:S,iconSize:f,children:C})=>{const h=(0,r.useMemo)((()=>({navGo:e,navigate:t,userId:a,devicePixelRatio:l,pageVerifiedTip:s,openChat:c,call:d,openStories:u,musicPlayer:p,sliderProps:S,iconSize:f,blockResolvers:_,appCatalogService:m,scrollToBlockOffset:v,withStretchedPlaceholders:g})),[e,t,a,l,s,c,d,u,p,S,f,_,m,v,g]);return(0,o.jsx)(n.Provider,{value:h,children:C})}},416895:(e,t,a)=>{a.d(t,{CatalogDesktopVideoProvider:()=>l,useCatalogDesktopVideo:()=>n});var o=a(785893),r=a(667294);const i=(0,r.createContext)(null),n=()=>{const e=(0,r.useContext)(i);if(!e)throw new Error("You must call useCatalogDesktopVideo only inside CatalogDesktopVideoProvider");return e},l=({videoCardProps:e,listGridProps:t,isAvatarHidden:a,children:n,isCurrentUserEditor:l,isCurrentUserAdmin:s,onOpenPlaylistModal:c,onPlaylistUpload:d,onPlaylistEdit:u,onPlaylistCopyUrl:p,onPlaylistDelete:_,onPlaylistToggleSubscribe:m,onPlaylistOpen:g,ownerRoutePrefix:v})=>{const S=(0,r.useMemo)((()=>({videoCardProps:e,listGridProps:t,isAvatarHidden:a,isCurrentUserEditor:l,isCurrentUserAdmin:s,onOpenPlaylistModal:c,onPlaylistUpload:d,onPlaylistEdit:u,onPlaylistCopyUrl:p,onPlaylistDelete:_,onPlaylistToggleSubscribe:m,onPlaylistOpen:g,ownerRoutePrefix:v})),[e,t,a,l,s,c,d,u,p,_,m,g,v]);return(0,o.jsx)(i.Provider,{value:S,children:n})}},383153:(e,t,a)=>{a.d(t,{CatalogGroupsProvider:()=>l,useCatalogGroupsContext:()=>n});var o=a(785893),r=a(667294);const i=(0,r.createContext)({}),n=()=>(0,r.useContext)(i),l=({children:e,...t})=>(0,o.jsx)(i.Provider,{value:t,children:e})},563391:(e,t,a)=>{a.d(t,{CatalogHandlersProvider:()=>l,useCatalogHandlersContext:()=>n});var o=a(785893),r=a(667294);const i=(0,r.createContext)({}),n=()=>(0,r.useContext)(i),l=({children:e,...t})=>(0,o.jsx)(i.Provider,{value:t,children:e})},777938:(e,t,a)=>{a.d(t,{CatalogLogProvider:()=>s,useCollectClick:()=>n,useCollectView:()=>l});var o=a(785893),r=a(667294);const i=(0,r.createContext)({collectClick:()=>{}}),n=()=>(0,r.useContext)(i).collectClick,l=()=>(0,r.useContext)(i).collectView,s=({collectView:e,collectClick:t=(()=>{}),children:a})=>(0,o.jsx)(i.Provider,{value:{collectView:e,collectClick:t||(()=>{})},children:a})},89299:(e,t,a)=>{a(785893),a(667294)},546747:(e,t,a)=>{a.d(t,{CatalogOwnerProvider:()=>d,useCatalogOwner:()=>c});var o=a(785893),r=a(667294),i=a(504190),n=a(688538),l=a(234862);const s=(0,r.createContext)({findOwner:()=>{}}),c=()=>(0,r.useContext)(s),d=({children:e})=>{const{appCatalogService:t}=(0,l.useCatalogConfig)(),a=(0,i.useStore)(t.groupsService.$groups),c=(0,i.useStore)(t.profilesService.$profiles),d=(0,r.useCallback)((e=>{if(!e)return;const t=Math.abs(e);return n.Ranges.isGroupId(e)?a.get(t):c.get(t)}),[a,c]);return(0,o.jsx)(s.Provider,{value:{findOwner:d},children:e})}},368850:(e,t,a)=>{a.d(t,{CatalogSearchProvider:()=>l,useCatalogSearch:()=>n});var o=a(785893),r=a(667294);const i=(0,r.createContext)({search:()=>({}),applyFilters:()=>{},resetFilters:()=>{},setFilterModal:()=>({}),displayTopSearch:()=>!1,setCurrentQuery:()=>({}),showVideo:()=>({}),appliedFiltersCount:0,currentQuery:"",callFriend:()=>({}),setContentRestricted:()=>{},showAudioPlaylist:()=>({})}),n=()=>(0,r.useContext)(i),l=({search:e=(()=>({})),applyFilters:t=(()=>{}),resetFilters:a=(()=>{}),setFilterModal:n=(()=>({})),displayTopSearch:l=(()=>!1),setCurrentQuery:s=(()=>({})),showVideo:c=(()=>({})),currentQuery:d="",appliedFiltersCount:u=0,children:p,callFriend:_=(()=>({})),setContentRestricted:m=(()=>{}),getVideoCardWrapper:g,showVideoMenu:v,showWiki:S,onOpenUrlClick:f,showMiniAppTooltip:C,showGameTooltip:h,showClip:I,showAudioPlaylist:E=(()=>({}))})=>{const y=(0,r.useMemo)((()=>({setFilterModal:n,applyFilters:t,resetFilters:a,appliedFiltersCount:u,search:e,displayTopSearch:l,currentQuery:d,setCurrentQuery:s,showVideo:c,callFriend:_,setContentRestricted:m,getVideoCardWrapper:g,showVideoMenu:v,showWiki:S,onOpenUrlClick:f,showMiniAppTooltip:C,showGameTooltip:h,showAudioPlaylist:E,showClip:I})),[n,u,e,l,d,s,c,_,m,g,v,S,f,C,h,E,I,t,a]);return(0,o.jsx)(i.Provider,{value:y,children:p})}},172254:(e,t,a)=>{a.d(t,{useCatalogVideo:()=>i});a(785893);var o=a(667294);const r=(0,o.createContext)({openVideoEditor:()=>({}),openVideoUploader:()=>({}),openPlaylistActions:()=>({}),openLiveSettings:()=>({}),useConfirmPopout:()=>()=>({}),VideoActionSheet:()=>null,isVideoPWA:!1,liveEnabled:!1,openUnauthorizedMoreBox:()=>({})}),i=()=>(0,o.useContext)(r)},234862:(e,t,a)=>{a.d(t,{CatalogConfigProvider:()=>o.CatalogConfigProvider,CatalogDesktopVideoProvider:()=>r.CatalogDesktopVideoProvider,CatalogGroupsProvider:()=>i.CatalogGroupsProvider,CatalogHandlersProvider:()=>d.CatalogHandlersProvider,CatalogLogProvider:()=>n.CatalogLogProvider,CatalogOwnerProvider:()=>l.CatalogOwnerProvider,CatalogSearchProvider:()=>s.CatalogSearchProvider,useCatalogConfig:()=>o.useCatalogConfig,useCatalogDesktopVideo:()=>r.useCatalogDesktopVideo,useCatalogGroupsContext:()=>i.useCatalogGroupsContext,useCatalogHandlersContext:()=>d.useCatalogHandlersContext,useCatalogOwner:()=>l.useCatalogOwner,useCatalogSearch:()=>s.useCatalogSearch,useCatalogVideo:()=>c.useCatalogVideo,useCollectClick:()=>n.useCollectClick,useCollectView:()=>n.useCollectView});var o=a(83212),r=a(416895),i=a(383153),n=a(777938),l=(a(89299),a(546747)),s=a(368850),c=a(172254),d=a(563391)},578085:(e,t,a)=>{a.d(t,{withCatalogBlock:()=>o.withCatalogBlock,withCatalogStore:()=>r.withCatalogStore,withCatalogStoreOwner:()=>i.withCatalogStoreOwner});var o=a(520020),r=a(518801),i=(a(543784),a(594195))},520020:(e,t,a)=>{a.d(t,{withCatalogBlock:()=>n});var o=a(785893),r=a(667294),i=a(325429);function n(e,t){const a=({blockIndex:a=0,...n})=>{const l=(0,r.useMemo)((()=>(0,i.extractItemsIds)(n)),[n]),s=t(n);return l.length&&s?(0,o.jsx)(e,{index:a,block:n,items:l,ItemComponent:s}):null};return a.displayName=`${e.displayName}_withCatalogBlock`,a}},518801:(e,t,a)=>{a.d(t,{withCatalogStore:()=>l});var o=a(785893),r=a(325429),i=a(504190),n=a(659397);function l(e,t,a,{attachTrackCodeToUrl:l,getId:s,getUrl:c,getTrackCode:d,onView:u}={}){const p=p=>{const{appCatalogService:_}=(0,r.useCatalogConfig)(),m=(0,i.useStore)(_.pageService.$catalogType),g=(0,r.useCatalogStoreMap)(t,s?s(p):p.id),v=(0,n.isFunction)(a)?g&&a(g):a,S=d?d(g):p.track_code||(0,r.getObjectPropertyString)(g,"track_code"),f=(0,r.useLogClick)(v,S),C=(0,r.useRefLogView)({type:v,trackCode:S,callback:g&&u?()=>u(g,p):void 0});return g&&v?(0,o.jsx)(e,{...p,item:g,type:v,getRootRef:C,trackCode:S,blockId:p.block_id,collectClick:f,index:p.itemIndex||p.index,href:c&&(l?(0,r.getUrlWithTrackCode)(c(g,p),S,m):c(g,p))}):null};return p.displayName=`${e.displayName}_withCatalogStore`,p}},543784:(e,t,a)=>{a(785893),a(667294),a(325429),a(504190),a(659397)},594195:(e,t,a)=>{a.d(t,{withCatalogStoreOwner:()=>s});var o=a(785893),r=a(667294),i=a(325429),n=a(504190),l=a(659397);function s(e,t,a,{attachTrackCodeToUrl:s,getId:c,getUrl:d,getOwnerId:u,onView:p}={}){const _=_=>{const{appCatalogService:m}=(0,i.useCatalogConfig)(),g=(0,n.useStore)(m.pageService.$catalogType),{findOwner:v}=(0,i.useCatalogOwner)(),S=(0,i.useCatalogStoreMap)(t,c?c(_):_.id),f=(0,l.isFunction)(a)?S&&a(S):a,C=_.track_code||(0,i.getObjectPropertyString)(S,"track_code"),h=(0,i.useLogClick)(f,C),I=(0,i.useRefLogView)({type:f,trackCode:C,callback:S&&p?()=>p(S,_):void 0}),E=(0,r.useMemo)((()=>v(S&&u?u(S):(0,i.getObjectPropertyNumber)(S,"owner_id"))),[v,S]);return S&&E&&f?(0,o.jsx)(e,{..._,item:S,owner:E,type:f,getRootRef:I,trackCode:C,blockId:_.block_id,collectClick:h,index:_.itemIndex||_.index,href:d&&(s?(0,i.getUrlWithTrackCode)(d(S,E),C,g):d(S,E))}):null};return _.displayName=`${e.displayName}_withCatalogStoreOwner`,_}},201163:(e,t,a)=>{a.d(t,{useCatalogCommonFriends:()=>o.useCatalogCommonFriends,useCatalogStoreArray:()=>r.useCatalogStoreArray,useCatalogStoreMap:()=>r.useCatalogStoreMap,useLogClick:()=>i.useLogClick,useScrollToBlockById:()=>n.useScrollToBlockById});var o=a(968286),r=(a(800543),a(726258),a(570373)),i=a(782039),n=(a(721848),a(56210))},968286:(e,t,a)=>{a.d(t,{useCatalogCommonFriends:()=>n});var o=a(504190),r=a(234862),i=a(667294);const n=({friendsIds:e})=>{const{appCatalogService:t}=(0,r.useCatalogConfig)(),a=(0,o.useStoreMap)({store:t.profilesService.$profiles,keys:[e],fn:(e,[t])=>(t||[]).map((t=>e.get(t))).filter((e=>Boolean(e))).map((({first_name:e="",photo_50:t,photo_100:a})=>({first_name:e,photo_50:t,photo_100:a})))}),n=(0,i.useMemo)((()=>a.map((e=>e.photo_50||e.photo_100||""))),[a]);return{commonFriends:a,commonFriendsPhotos:n}}},800543:(e,t,a)=>{a(667294),a(923335),a(234862)},726258:(e,t,a)=>{a(325429),a(688538),a(923335),a(667294),a(146427),a(127160)},570373:(e,t,a)=>{a.d(t,{useCatalogStoreArray:()=>i,useCatalogStoreMap:()=>r});var o=a(504190);const r=(e,t)=>(0,o.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>t?e.get(t):void 0}),i=(e,t)=>(0,o.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>Boolean(t&&e.includes(t))})},559152:(e,t,a)=>{a.d(t,{useCommunityCollectionItems:()=>s});var o=a(325429),r=a(902947),i=a(253110),n=a(108538),l=a(471828);const s=(e=[])=>{const{groupsService:t,platformVars:a}=(0,o.useCatalogGroupsContext)(),s=a?.iconSize;return e.reduce(((e,a)=>{const o=t?.getGroup(a.id);return o?[...e,o]:e}),[]).map((a=>{const c=(0,r.isRetina)()?a.photo_100:a.photo_50,d=e.find((e=>e.id===a.id))?.track_code,u=(0,o.getUrlWithTrackCode)((0,i.getGroupUrl)(a),d,o.CatalogType.GROUPS),p=t?.checkSubscriptionLoading(a.id),_=a.members_count||0,m=(0,n.formatCount)(_),g=_<1e3?_:0,v=l.getLang("groups_X_app_users",g).replace(String(g),m);return{key:`${a.id}`,children:a.name,subtitle:v,photo:c,href:u,iconSize:s,checked:Boolean(a.is_member),loading:p,isVerified:Boolean(a.verified),onSubscribeClick:()=>{a.is_member?t?.unsubscribe({group_id:a.id,track_code:d}):t?.subscribe({group_id:a.id,track_code:d})},ariaLabel:Boolean(a.is_member)?l.getLang("groups_dd_you_in_group"):l.getLang("global_share_button_join_public")}}))}},782039:(e,t,a)=>{a.d(t,{useLogClick:()=>i});var o=a(325429),r=a(659397);const i=(e,t)=>{const a=(0,o.useCollectClick)();return e&&t?o=>a({type:e,track_code:t,action:o}):r.noop}},721848:(e,t,a)=>{a.d(t,{useRefLogView:()=>l});var o=a(667294),r=a(234862),i=a(86894),n=a(840224);const l=({type:e,trackCode:t,trackCodes:a=[],callback:l,threshold:s=.8})=>{const c=(0,r.useCollectView)(),{viewWidth:d=i.ViewWidth.MOBILE}=(0,i.useAdaptivityWithJSMediaQueries)(),u=d<i.ViewWidth.TABLET,[p,_]=(0,n.useIntersectionObserver)({rootMargin:u?"0px 0px -48px 0px":void 0,threshold:s});return(0,o.useEffect)((()=>{const o=[...a,t].filter(Boolean);_&&c&&o.length>0&&e&&(o.forEach((t=>{c({type:e,track_code:t})})),l?.())}),[_,c,t,e,a.length]),p}},56210:(e,t,a)=>{a.d(t,{useScrollToBlockById:()=>l});var o=a(785893),r=a(504190),i=a(325429),n=a(667294);const l=e=>{const{scrollToBlockOffset:t}=(0,i.useCatalogConfig)(),a=(0,r.useStore)(i.appCatalogService.layoutService.$scrollToBlockById),l=(0,n.useRef)(null),[s,c]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{a===e&&c(!0)}),[a,e]),(0,n.useEffect)((()=>{s&&(l.current?.scrollIntoView(),c(!1))}),[s]),s?(0,o.jsx)("div",{style:{position:"relative"},children:(0,o.jsx)("div",{style:{position:"absolute",top:-(t??0)+"px"},ref:l})}):null}},325429:(e,t,a)=>{a.d(t,{CATALOG_AVATAR_SIZE_L:()=>c.CATALOG_AVATAR_SIZE_L,CATALOG_AVATAR_SIZE_SM:()=>c.CATALOG_AVATAR_SIZE_SM,Catalog:()=>r.Catalog,CatalogActionType:()=>c.CatalogActionType,CatalogBlockDataType:()=>c.CatalogBlockDataType,CatalogBlockLayoutName:()=>c.CatalogBlockLayoutName,CatalogDesktopVideoProvider:()=>d.CatalogDesktopVideoProvider,CatalogGroupsProvider:()=>d.CatalogGroupsProvider,CatalogHandlersProvider:()=>d.CatalogHandlersProvider,CatalogSearchProvider:()=>d.CatalogSearchProvider,CatalogType:()=>c.CatalogType,FAVORITE_SOURCES:()=>n.FAVORITE_SOURCES,FRIENDS_IN_GROUP:()=>c.FRIENDS_IN_GROUP,GROUP_REDESIGN_EVENT_SLIDER_SCROLL:()=>c.GROUP_REDESIGN_EVENT_SLIDER_SCROLL,GROUP_REDESIGN_SLIDER_SCROLL:()=>c.GROUP_REDESIGN_SLIDER_SCROLL,ListenMutateEventsType:()=>i.ListenMutateEventsType,MAX_FRIENDS_IN_GROUP_TO_SHOW:()=>c.MAX_FRIENDS_IN_GROUP_TO_SHOW,MINI_APP_AVATAR_SIZE:()=>c.MINI_APP_AVATAR_SIZE,OPEN_SEARCH_TAB_ACTION_URL_WEB:()=>c.OPEN_SEARCH_TAB_ACTION_URL_WEB,RICH_CELL_BUTTON_WIDTH_L:()=>c.RICH_CELL_BUTTON_WIDTH_L,SLIDER_AVATAR_SIZE_M:()=>c.SLIDER_AVATAR_SIZE_M,SLIDER_SCROLL:()=>c.SLIDER_SCROLL,SNACKBAR_EVENTS:()=>n.SNACKBAR_EVENTS,Snackbar:()=>n.Snackbar,VirtualList:()=>n.VirtualList,appCatalogService:()=>s.appCatalogService,chunks:()=>n.chunks,desktopLayoutResolver:()=>p.desktopLayoutResolver,extractExtendedData:()=>v.extractExtendedData,extractItemsIds:()=>v.extractItemsIds,getObjectPropertyNumber:()=>n.getObjectPropertyNumber,getObjectPropertyString:()=>n.getObjectPropertyString,getPlayFromByDuration:()=>f.getPlayFromByDuration,getUrlWithTrackCode:()=>n.getUrlWithTrackCode,modalLayoutResolver:()=>_.modalLayoutResolver,toColumnWithRows:()=>v.toColumnWithRows,useCatalogCommonFriends:()=>l.useCatalogCommonFriends,useCatalogConfig:()=>d.useCatalogConfig,useCatalogDesktopVideo:()=>d.useCatalogDesktopVideo,useCatalogGroupsContext:()=>d.useCatalogGroupsContext,useCatalogHandlersContext:()=>d.useCatalogHandlersContext,useCatalogOwner:()=>d.useCatalogOwner,useCatalogSearch:()=>d.useCatalogSearch,useCatalogStoreArray:()=>l.useCatalogStoreArray,useCatalogStoreMap:()=>l.useCatalogStoreMap,useCatalogVideo:()=>d.useCatalogVideo,useCollectClick:()=>d.useCollectClick,useLogClick:()=>l.useLogClick,useRefLogView:()=>S.useRefLogView,useScrollToBlockById:()=>l.useScrollToBlockById,videoCommunityLayoutResolver:()=>g.videoCommunityLayoutResolver,videoLayoutResolver:()=>m.videoLayoutResolver,withCatalogBlock:()=>u.withCatalogBlock,withCatalogStore:()=>u.withCatalogStore,withCatalogStoreOwner:()=>u.withCatalogStoreOwner});var o=a(453934),r=a(65428),i=(a(804312),a(567906)),n=a(577655),l=a(201163),s=a(366005),c=a(413189),d=a(234862),u=a(578085),p=a(253038),_=a(547399),m=(a(34441),a(715304)),g=a(218073),v=a(789581),S=(a(653890),a(527278),a(200958),a(721848)),f=a(572643);(0,o.enableMapSet)()},253038:(e,t,a)=>{a.d(t,{desktopLayoutResolver:()=>n});var o=a(996473),r=a(413189);const i=()=>null,n=({layout:e})=>{switch(e.name){case r.CatalogBlockLayoutName.LARGE_LIST:return"fit"===e.style?o.PinnedVideo:o.List;case r.CatalogBlockLayoutName.LIST:return o.List;case r.CatalogBlockLayoutName.SHORT_VIDEO_LIST:return o.ShortVideoList;case r.CatalogBlockLayoutName.PLACEHOLDER:case r.CatalogBlockLayoutName.PLACEHOLDER_SMALL:return o.Placeholder;case r.CatalogBlockLayoutName.HEADER:return o.Header;case r.CatalogBlockLayoutName.SLIDER:return o.Slider;case r.CatalogBlockLayoutName.SEPARATOR:return o.Separator;default:return i}}},34441:(e,t,a)=>{a(325429),a(676497),a(306432),a(757185),a(838019),a(926786),a(421960),a(202194),a(34516),a(676657),a(981978),a(788257),a(937842),a(944811),a(440010),a(625051)},547399:(e,t,a)=>{a.d(t,{modalLayoutResolver:()=>d});var o=a(473600),r=a(413189),i=a(955922),n=a(42584),l=a(856732),s=a(960422),c=a(333660);const d=({layout:e})=>{switch(e.name){case r.CatalogBlockLayoutName.SEPARATOR:return o.Separator;case r.CatalogBlockLayoutName.HEADER_COMPACT:return i.HeaderCompact;case r.CatalogBlockLayoutName.LIST:return n.List;case r.CatalogBlockLayoutName.SLIDER:return l.Slider;case r.CatalogBlockLayoutName.PLACEHOLDER_SMALL:return s.PlaceholderSmall;case r.CatalogBlockLayoutName.BUTTON:return c.Button;default:return()=>null}}},715304:(e,t,a)=>{a.d(t,{videoLayoutResolver:()=>c});var o=a(325429),r=a(340388),i=a(868475),n=a(734281),l=a(778333),s=a(472549);const c=({layout:e})=>{switch(e.name){case o.CatalogBlockLayoutName.SEPARATOR:return s.CatalogSeparator;case o.CatalogBlockLayoutName.HEADER_COMPACT:return r.HeaderCompact;case o.CatalogBlockLayoutName.LARGE_LIST:case o.CatalogBlockLayoutName.LIST:return i.List;case o.CatalogBlockLayoutName.TEXT:return n.Text;case o.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case o.CatalogBlockLayoutName.PLACEHOLDER_LINE:return l.Placeholder;default:return()=>null}}},218073:(e,t,a)=>{a.d(t,{videoCommunityLayoutResolver:()=>c});var o=a(325429),r=a(181537),i=a(734281),n=a(778333),l=a(175925),s=a(800970);const c=({layout:e})=>{switch(e.name){case o.CatalogBlockLayoutName.SEPARATOR:return s.CatalogSeparatorCommunity;case o.CatalogBlockLayoutName.HEADER_COMPACT:return l.Header;case o.CatalogBlockLayoutName.LARGE_LIST:case o.CatalogBlockLayoutName.LIST:return r.ListCommunity;case o.CatalogBlockLayoutName.TEXT:return i.Text;case o.CatalogBlockLayoutName.PLACEHOLDER_SMALL:case o.CatalogBlockLayoutName.PLACEHOLDER_LINE:return n.Placeholder;default:return()=>null}}},156858:(e,t,a)=>{a.d(t,{createActionsService:()=>r});var o=a(798116);const r=({domain:e})=>{const t=e.createEvent("select/Action"),a=e.createStore(null,{name:"selectedAction"});return(0,o.sample)({clock:t,source:a,fn:(e,t)=>t,target:a}),{selectAction:t,$selectedAction:a}}},905901:(e,t,a)=>{a.d(t,{createAppCatalogService:()=>U});var o=a(798116),r=a(325429),i=a(156858),n=a(341377),l=a(697761),s=a(345276),c=a(73951),d=a(729922),u=a(710368),p=a(703739),_=a(928255),m=a(123553),g=a(640128),v=a(915537),S=a(891871),f=a(374917),C=a(715905),h=a(507907),I=a(219131),E=a(959702),y=a(540328),k=a(695287),A=a(740268),T=a(289371),R=a(936927),x=a(909768),L=a(600313),O=a(858579),w=a(606536),b=a(374534),N=a(797006),V=a(706978),P=a(841723),B=a(484598),M=a(659397),D=a(629866),j=a(789581),F=a(453934);const G=(0,o.createDomain)("CATALOG/APP"),U=()=>{const e=G.createStore(!1,{name:"isStandaloneSection"}),t=G.createEvent("fire/SetIsStandaloneSection"),a=G.createEvent("fire/ClearApp"),U=G.createEvent("fire/SetExtendedData"),H=G.createEvent("fire/SetCatalog"),$=G.createEvent("fire/ClearUpdatedCatalog"),z=G.createEvent("fire/RemoveBlock"),W=G.createEvent("fire/RemoveBlock"),K=G.createEvent("fire/SetSections"),Y=G.createEvent("fire/GetSection"),q=G.createEvent("fire/AbortGetSection"),Q=G.createEvent("fire/ClearSectionResponse"),Z=G.createEvent("fire/ClearCatalogGetBlockItemsResponse"),X=G.createEvent("fire/UpdateNextFrom"),J=G.createEvent("fire/HideBlock"),ee=G.createEvent("fire/GetBlockItems"),te=G.createStore({sections:[],default_section:""},{name:"catalog"}),ae=G.createStore(null,{name:"updatedCatalog"}),oe=G.createStore(null,{name:"section"}),re=G.createStore([],{name:"sections"}),ie=G.createStore([],{name:"loadingBlockIds"}),ne=G.createStore("",{name:"lastSectionId"}),le=G.createStore("",{name:"nextFrom"}),se=G.createStore(!1,{name:"fetchSectionPending"}),ce=G.createStore(!1,{name:"fetchSectionError"}),de=G.createStore({}),ue=G.createEffect({name:"fetch/GetSection",handler:async({cacheId:e,params:t,controller:a})=>{const o=a?.signal;return{id:window.location.href,data:await(0,P.getSection)(t,{signal:o}),cacheId:e}}}),pe=(0,B.createCatalogHideBlockFx)({domain:G}),_e=(0,B.createCatalogGetBlockItemsFx)({domain:G}),me=(0,v.createStoriesService)({domain:G}),ge=(0,h.createVideoService)({domain:G,data:U,$catalog:te}),ve=(0,S.createPageService)({domain:G}),Se=(0,I.createSuggestionsService)({domain:G,data:U}),fe=(0,i.createActionsService)({domain:G}),Ce=(0,n.createGroupsService)({domain:G,data:U,fetchStories:me.FetchStoriesEffectFx}),he=(0,l.createGroupCategoryItemsService)({domain:G,data:U}),Ie=(0,s.createGroupCollectionItemsService)({domain:G,data:U}),Ee=(0,c.createLinksService)({domain:G,data:U}),ye=(0,d.createProfilesService)({domain:G,data:U,fetchStories:me.FetchStoriesEffectFx}),ke=(0,C.createPlaylistService)({domain:G,$catalog:te,$videoItems:ge.$videoItems,data:U,removeVideoFromPlaylists:ge.RemoveVideoFromPlaylistsEffectFx,removeVideoFromMyVideos:ge.RemoveVideoFromMyVideosEffectFx}),Ae=(0,y.createOnboardingService)({domain:G}),Te=(0,x.createLayoutService)({domain:G,data:U,...ge,SaveOnboardingEffectFx:Ae.SaveOnboardingEffectFx,fireCompleteOnboarding:Ae.fireCompleteOnboarding,$playlistItems:ke.$playlistItems}),Re=(0,u.createCatalogUsersService)({domain:G,data:U,$profiles:ye.$profiles}),xe=(0,p.createClipsService)({domain:G,data:U}),Le=(0,_.createAppsService)({domain:G,data:U}),Oe=(0,m.createMarketItemsService)({domain:G,data:U}),we=(0,g.createSearchRecentService)({domain:G}),be=(0,f.createPlaceholdersService)({domain:G,data:U}),Ne=(0,E.createSearchSpellcheckersService)({domain:G,data:U}),Ve=(0,k.createNewsfeedItemsService)({domain:G,data:U}),Pe=(0,A.createPostsService)({domain:G,data:U}),Be=(0,T.createStickersService)({domain:G,data:U}),Me=(0,R.createMusicPlaylistsService)({domain:G,data:U}),De=(0,L.createAudioService)({domain:G,data:U}),je=(0,O.createSearchEntityItemsService)({domain:G,data:U}),Fe=(0,w.createNavigationTabsService)({domain:G,data:U}),Ge=(0,b.createClassifiedsCategoryTreeService)({domain:G,data:U}),Ue=(0,N.createRadioStationsService)({domain:G,data:U}),He=(0,V.createTextsService)({domain:G,data:U});return(0,o.sample)({clock:t,target:e}),G.onCreateStore((e=>{e?.reset(a)})),(0,o.sample)({clock:H,source:te,filter:(e,t)=>!(0,M.isEqual)(e,t),fn:(e,t)=>t,target:te}),(0,o.sample)({clock:te,target:X}),(0,o.sample)({clock:X,source:{lastSectionId:ne,catalog:te},fn:({lastSectionId:e,catalog:t})=>t?.default_section||e,target:ne}),(0,o.sample)({clock:X,source:te,filter:re.map((e=>!e.length)),fn:e=>{const t=e.sections.find((t=>t.id===e.default_section));return t?.next_from||""},target:le}),oe.reset(Q),(0,o.sample)({clock:Y,source:ve.$cacheId,fn:(e,t)=>({cacheId:e,params:t,controller:new AbortController}),target:ue}),(0,o.sample)({clock:[q,Y],source:ue,filter:ue.pending.map((e=>e))}).watch((({controller:e})=>{e?.abort()})),(0,o.sample)({clock:ue.pending,target:se}),(0,o.sample)({clock:ue.doneData,target:oe}),(0,o.sample)({clock:K,target:re}),(0,o.sample)({clock:re,target:X}),(0,o.sample)({clock:X,source:re,filter:re.map((e=>!!e?.length)),fn:e=>{const t=e[e.length-1];return t?.next_from?t?.next_from:""},target:le}),(0,o.sample)({clock:ue.failData,filter:e=>e&&!(0,D.isRequestAbortError)(e.error),fn:()=>!0,target:ce}),(0,o.sample)({clock:ue.doneData,fn:e=>!e?.data?.section,target:ce}),(0,o.sample)({clock:H,fn:()=>!1,target:ce}),(0,o.sample)({clock:[ge.RemoveVideoFromPlaylistsEffectFx.done,ge.RemoveVideoFromMyVideosEffectFx.done],source:{sections:re,playlistItems:ke.$playlistItems},filter:({sections:e,playlistItems:t},{result:a})=>(0,j.checkRequestResultForPlaylist)(a,e,t)||Boolean(a),fn:({sections:e},{params:t})=>(0,F.produce)(e,(e=>{const a=e.find((e=>(0,j.testMySection)(e?.url)||(0,j.testUploadedSection)(e.url)||(0,j.testPlaylistSection)(e?.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:re}),(0,o.sample)({clock:ge.RemoveVideoFromHistoryEffectFx.done,source:re,filter:(e,{params:t})=>Boolean(e&&(0,M.isNumber)(t.owner_id)&&(0,M.isNumber)(t.video_id)),fn:(e,{params:t})=>(0,F.produce)(e,(e=>{const a=e.find((e=>(0,j.testMySection)(e?.url)||(0,j.testHistorySection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:re}),(0,o.sample)({clock:ge.MarkVideoNotInterestedEffectFx.done,source:re,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,F.produce)(e,(e=>{const{params:a,sectionId:o}=t,i=e.find((e=>!(0,j.testMySection)(e?.url)&&e?.id!==o));i&&(0,j.mutateSectionBlocks)({section:i,ownerId:a.owner_id,itemId:a.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:re}),(0,o.sample)({clock:z,source:te,fn:(e,t)=>{const a=e.sections.findIndex((t=>t.id===e.default_section));if(-1!==a){const o=[...e.sections],r={...o[a]};return r.blocks=r?.blocks?.filter((e=>!t.includes(e.id))),o[a]=r,{...e,sections:[...o]}}return e},target:ae}),(0,o.sample)({clock:Se.fireRemoveSearchRecentQuery,source:te,fn:(e,{params:t,block_id:a})=>(0,F.produce)(e,(o=>{const i=o.sections.find((t=>t.id===e.default_section)),n=i?.blocks,l=n?.findIndex((e=>e.id===a));if(!n||void 0===l||-1===l)return;const s=n[l];if(s.search_suggestions_ids=s.search_suggestions_ids?.filter((e=>e!==t.item_id)),s.search_suggestions_ids?.length)return;const c=n[l-1],d=n[l+1];let u=l,p=1;c?.layout.name===r.CatalogBlockLayoutName.HEADER_COMPACT&&(u=l-1,++p),d?.layout.name===r.CatalogBlockLayoutName.SEPARATOR&&++p,n.splice(u,p)})),target:ae}),(0,o.sample)({clock:[ge.RemoveVideoFromPlaylistsEffectFx.done,ge.RemoveVideoFromMyVideosEffectFx.done],source:{catalog:te,playlistItems:ke.$playlistItems},filter:({catalog:e,playlistItems:t},{result:a})=>(0,j.checkRequestResultForPlaylist)(a,e.sections,t)||Boolean(a),fn:({catalog:e},{params:t})=>(0,F.produce)(e,(e=>{const a=e.sections?.find((e=>(0,j.testMySection)(e?.url)||(0,j.testUploadedSection)(e.url)||(0,j.testPlaylistSection)(e?.url)));if(a&&((0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo}),a.blocks))for(const e of a.blocks)e.layout.name===r.CatalogBlockLayoutName.HEADER&&e.badge?.text&&(e.badge.text=(+e.badge.text-1).toString())})),target:ae}),(0,o.sample)({clock:ge.AddVideoToMyVideosEffectFx.done,source:te,filter:(e,{params:t})=>!!e&&(0,M.isNumber)(t.owner_id)&&(0,M.isNumber)(t.video_id),fn:(e,{params:t})=>(0,F.produce)(e,(e=>{const a=e.sections?.find((e=>(0,j.testMySection)(e?.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.AddVideo})})),target:ae}),(0,o.sample)({clock:ge.RemoveVideoFromHistoryEffectFx.done,source:te,filter:(e,{params:t})=>!!e&&(0,M.isNumber)(t.owner_id)&&(0,M.isNumber)(t.video_id),fn:(e,{params:t})=>(0,F.produce)(e,(e=>{const a=e.sections?.find((e=>(0,j.testMySection)(e?.url)||(0,j.testHistorySection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ae}),(0,o.sample)({clock:ge.MarkVideoNotInterestedEffectFx.done,source:te,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,F.produce)(e,(e=>{const{params:a,sectionId:o}=t,i=e.sections?.find((e=>!(0,j.testMySection)(e?.url)&&e?.id!==o));i&&(0,j.mutateSectionBlocks)({section:i,ownerId:a.owner_id,itemId:a.video_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ae}),(0,o.sample)({clock:ge.DislikeVideoEffectFx.done,source:re,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,F.produce)(e,(e=>{const a=e.find((e=>(0,j.testLikedSection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.item_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:re}),(0,o.sample)({clock:ge.DislikeVideoEffectFx.done,source:te,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,F.produce)(e,(e=>{const a=e.sections?.find((e=>(0,j.testLikedSection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.item_id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ae}),(0,o.sample)({clock:ge.RemoveVideoFromFaveEffectFx.done,source:re,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,F.produce)(e,(e=>{const a=e.find((e=>(0,j.testBookmarksSection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.id,event:r.ListenMutateEventsType.RemoveVideo})})),target:re}),(0,o.sample)({clock:ge.RemoveVideoFromFaveEffectFx.done,source:te,filter:(e,{result:t})=>Boolean(e&&t),fn:(e,{params:t})=>(0,F.produce)(e,(e=>{const a=e.sections?.find((e=>(0,j.testBookmarksSection)(e.url)));a&&(0,j.mutateSectionBlocks)({section:a,ownerId:t.owner_id,itemId:t.id,event:r.ListenMutateEventsType.RemoveVideo})})),target:ae}),(0,o.sample)({clock:$,fn:()=>null,target:ae}),(0,o.sample)({clock:J,fn:e=>({query:{block_id:e}}),target:pe}),(0,o.sample)({clock:J,source:te,fn:(e,t)=>{const a=e.sections.findIndex((({id:t})=>t===e.default_section));if(-1!==a){const o=[...e.sections],i=o[a].blocks,n=i?.findIndex((({id:e})=>e===t));if(!i||!n||-1===n)return e;const l=i[n-1],s=i[n+1];let c=n,d=1;return l?.layout?.name===r.CatalogBlockLayoutName.HEADER&&(--c,++d),i[n-2]?.layout?.name===r.CatalogBlockLayoutName.SEPARATOR&&(--c,++d),s?.layout?.name===r.CatalogBlockLayoutName.SEPARATOR&&++d,i.splice(c,d),{...e,sections:[...o]}}return e},target:ae}),(0,o.sample)({clock:W,target:ie}),(0,o.sample)({clock:ee,fn:({block_id:e,start_from:t})=>({query:{block_id:e,start_from:t}}),target:_e}),(0,o.sample)({clock:_e.doneData,target:de}),de.reset(Z),{storiesService:me,videoService:ge,pageService:ve,suggestionsService:Se,actionsService:fe,groupsService:Ce,groupCategoryItemsService:he,groupCollectionItemsService:Ie,linksService:Ee,profilesService:ye,playlistService:ke,onboardingService:Ae,layoutService:Te,catalogUsersService:Re,clipsService:xe,appsService:Le,marketItemsService:Oe,searchRecentService:we,placeholdersService:be,searchSpellcheckersService:Ne,newsfeedItemsService:Ve,postsService:Pe,stickersService:Be,musicPlaylistsService:Me,audioService:De,searchEntityItemsService:je,navigationTabsService:Fe,classifiedsCategoryTreeService:Ge,radioStationsService:Ue,textsService:He,catalogService:{fireSetCatalog:H,fireClearCatalog:a,fireClearUpdatedCatalog:$,fireRemoveBlocks:z,fireLoadingBlockIds:W,fireSetSections:K,fireGetSection:Y,fireAbortGetSection:q,fireClearSectionResponse:Q,fireClearCatalogGetBlockItemsResponse:Z,fireUpdateNextFrom:X,fireHideBlock:J,fireGetBlockItems:ee,$catalog:te,$updatedCatalog:ae,$sectionResponse:oe,$sections:re,$loadingBlockIds:ie,$lastSectionId:ne,$nextFrom:le,$isSectionPending:se,$fetchSectionError:ce,$catalogGetBlockItemsResponse:de,GetSectionEffectFx:ue,CatalogGetBlockItemsFx:_e},fireSetExtendedData:U,fireSetIsStandaloneSection:t,fireClearCatalog:a,domain:G,$isStandaloneSection:e}}},928255:(e,t,a)=>{a.d(t,{createAppsService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"apps"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.mini_apps?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.mini_apps.forEach((t=>e.set(t.id,t)))})),target:a}),(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.games?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.games.forEach((t=>e.set(t.id,t)))})),target:a}),{$apps:a}}},600313:(e,t,a)=>{a.d(t,{createAudioService:()=>l});var o=a(841723),r=a(798116),i=a(453934),n=a(595815);const l=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"audioItems"}),l=e.createStore({},{name:"audioModifiedItems"}),s=e.createEvent(),c=e.createEvent(),d=e.createEffect((e=>(0,o.addAudio)(e))),u=e.createEffect((e=>(0,o.deleteAudio)(e))),p=e.createEffect((e=>(0,o.restoreAudio)(e)));return(0,r.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.audios?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.audios.forEach((t=>e.set((0,n.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:a}),(0,r.sample)({clock:t,fn:()=>({}),target:l}),(0,r.sample)({clock:s,source:l,filter:(e,t)=>{const{audio_id:a}=t;return!e[a]?.isDeleted},fn:(e,t)=>t,target:d}),(0,r.sample)({clock:s,source:l,filter:(e,t)=>{const{audio_id:a}=t;return!!e[a]?.isDeleted},fn:(e,t)=>t,target:p}),(0,r.sample)({clock:d.done,source:l,filter:(e,{result:t})=>!!t?.items?.length,fn:(e,{params:t,result:a})=>(0,i.produce)(e,(e=>{const{audio_id:o,user_id:r}=t,i=a?.items||[],{new_audio_id:n}=i.length?i[0]:{};if(n){const t={newAudioId:n,ownerId:r,isAdded:!0};e[o]=t}})),target:l}),(0,r.sample)({clock:p.done,source:l,filter:(e,{result:t})=>!!t,fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const{audio_id:a}=t;e[a]?.isDeleted&&delete e[a]})),target:l}),(0,r.sample)({clock:c,source:l,fn:(e,t)=>{const{audio_id:a}=t,{newAudioId:o,ownerId:r,isAdded:i}=e?.[a]||{};return i&&o?{...t,audio_id:o,owner_id:r,prev_audio_id:a}:t},target:u}),(0,r.sample)({clock:u.done,source:l,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const{audio_id:a,prev_audio_id:o,owner_id:r}=t;o&&e[o].isAdded?delete e[o]:e[a]={ownerId:r,isDeleted:!0}})),target:l}),{$audioItems:a,$audioModifiedItems:l,addAudioToMyList:s,deleteAudioFromMyList:c}}},710368:(e,t,a)=>{a.d(t,{createCatalogUsersService:()=>s});var o=a(146427),r=a(841723),i=a(798116),n=a(453934),l=a(80981);const s=({domain:e,data:t,$profiles:a})=>{const s=e.createEvent("fire/AddFriend"),c=e.createEvent("fire/DeleteFriend"),d=e.createEvent("fire/CancelRequest"),u=e.createStore(new Map,{name:"catalogUsers"}),p=e.createStore([],{name:"deletableFriendsIds"}),_=e.createStore([],{name:"returnableFriendsIds"}),m=e.createStore([],{name:"pendingFriendsIds"}),g=e.createEffect({name:"fetch/AddFriend",handler:e=>(0,r.addFriend)(e)}),v=e.createEffect({name:"fetch/DeleteFriend",handler:e=>(0,r.deleteFriend)(e)}),S=e.createEffect({name:"fetch/DeleteFriend",handler:e=>(0,r.deleteFriend)(e)});return(0,i.sample)({clock:t,source:u,filter:(e,t)=>Boolean(t.catalog_users?.length),fn:(e,t)=>(0,n.produce)(e,(e=>{t.catalog_users.forEach((t=>e.set(t.item_id,t)))})),target:u}),(0,i.sample)({clock:[s,c,d],source:m,fn:(e,{user_id:t})=>(0,n.produce)(e,(e=>{e.includes(t)||e.push(t)})),target:m}),(0,i.sample)({clock:[g.done,v.done,S.done],source:m,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:m}),(0,i.sample)({clock:s,target:g}),(0,i.sample)({clock:g.done,source:a,fn:(e,{params:t,result:a})=>(0,n.produce)(e,(e=>{const r=e.get(t.user_id);if(r)switch(a){case l.FRIENDS_STATUS_REQUEST.ADDED:r.friend_status=o.FriendsFriendStatusStatusEnumNames.IS_FRIEND;break;case l.FRIENDS_STATUS_REQUEST.REQUEST:case l.FRIENDS_STATUS_REQUEST.REPEAT:r.friend_status=o.FriendsFriendStatusStatusEnumNames.OUTCOMING_REQUEST}})),target:a}),(0,i.sample)({clock:c,target:v}),(0,i.sample)({clock:d,target:S}),(0,i.sample)({clock:[v.done,S.done],source:a,filter:(e,{result:t})=>Boolean(t.success),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.get(t.user_id);a&&(a.friend_status=o.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND)})),target:a}),(0,i.sample)({clock:g.done,source:p,fn:(e,{params:t})=>(0,n.produce)(e,(e=>{e.push(t.user_id)})),target:p}),(0,i.sample)({clock:v.done,source:p,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:p}),(0,i.sample)({clock:v.done,source:_,fn:(e,{params:t})=>(0,n.produce)(e,(e=>{e.push(t.user_id)})),target:_}),(0,i.sample)({clock:g.done,source:_,fn:(e,{params:t})=>e.filter((e=>e!==t.user_id)),target:_}),{fireAddFriend:s,fireDeleteFriend:c,fireCancelRequest:d,$catalogUsers:u,$deletableFriendsIds:p,$returnableFriendsIds:_,$pendingFriendsIds:m,AddFriendEffectFx:g,DeleteFriendEffectFx:v,CancelRequestEffectFx:S}}},374534:(e,t,a)=>{a.d(t,{createClassifiedsCategoryTreeService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"classifiedsCategoryTree"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.classifieds_category_tree?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.classifieds_category_tree.forEach((t=>e.set(t.id,t)))})),target:a}),{$classifiedsCategoryTree:a}}},703739:(e,t,a)=>{a.d(t,{createClipsService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"clips"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.videos?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.videos.forEach((t=>{"short_video"===t.type&&e.set(`${t.owner_id}_${t.id}`,t)}))})),target:a}),{$clips:a}}},697761:(e,t,a)=>{a.d(t,{createGroupCategoryItemsService:()=>r});var o=a(798116);const r=({domain:e,data:t})=>{const a=e.createStore([],{name:"groupCategoryItems"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>!!t?.group_category_items?.length,fn:(e,t)=>{if(t?.group_category_items?.length){const a=t.group_category_items.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...a]}return e},target:a}),{$groupCategoryItems:a}}},345276:(e,t,a)=>{a.d(t,{createGroupCollectionItemsService:()=>r});var o=a(798116);const r=({domain:e,data:t})=>{const a=e.createStore([],{name:"groupCollectionItems"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>!!t?.group_collection_items?.length,fn:(e,t)=>{if(t?.group_collection_items?.length){const a=t.group_collection_items.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...a]}return e},target:a}),{$groupCollectionItems:a}}},341377:(e,t,a)=>{a.d(t,{createGroupsService:()=>d});var o=a(127160),r=a(76927),i=a(767831),n=a(399293),l=a(798116),s=a(453934),c=a(34467);const d=({domain:e,data:t,fetchStories:a})=>{const d=e.createEvent("fire/JoinGroup"),u=e.createEvent("fire/LeaveGroup"),p=e.createEvent("fire/AddGroupToFave"),_=e.createEvent("fire/GroupSubscribe"),m=e.createEvent("fire/GroupUnsubscribe"),g=e.createEvent("fire/RemoveGroupFromFave"),v=e.createEvent("fire/CheckStories"),S=e.createEvent("fire/AllowLeaveGroup"),f=e.createStore(new Map,{name:"groups"}),C=e.createStore([],{name:"groupsToLeave"}),h=e.createStore([],{name:"groupsLeft"}),I=e.createStore([],{name:"groupPendingIds"}),E=(0,r.createGroupsJoinFx)({domain:e}),y=(0,r.createGroupsLeaveFx)({domain:e}),k=(0,i.createFaveAddGroupFx)({domain:e}),A=(0,i.createFaveRemoveGroupFx)({domain:e}),T=(0,n.createWallSubscribeFx)({domain:e}),R=(0,n.createWallUnsubscribeFx)({domain:e});return(0,c.connectTrackTmrGroupsJoin)(E),(0,l.sample)({clock:t,source:f,filter:(e,t)=>Boolean(t.groups?.length),fn:(e,t)=>(0,s.produce)(e,(e=>{t.groups.forEach((t=>e.set(t.id,t)))})),target:f}),(0,l.sample)({clock:v,fn:e=>({owner_id:e}),target:a}),(0,l.sample)({clock:a.done,source:f,fn:(e,{params:t,result:a})=>(0,s.produce)(e,(e=>{const o=e.get(Math.abs(t.owner_id));o&&(o.has_unseen_stories=Boolean(a.items.find((e=>e.name===o.name))?.has_unseen))})),target:f}),(0,l.sample)({clock:[d,u,p,g],source:I,filter:(e,t)=>!!t?.group_id&&!e.includes(t.group_id),fn:(e,t)=>t?.group_id?[...e,t.group_id]:e,target:I}),(0,l.sample)({clock:[E.done,y.done,k.done,A.done,E.fail,y.fail,k.fail,A.fail],source:I,filter:(e,{params:t})=>!!t?.query?.group_id,fn:(e,{params:t})=>t?.query?.group_id?e.filter((e=>e!==t.query.group_id)):e,target:I}),(0,l.sample)({clock:[_,m],source:I,filter:(e,t)=>!!t?.owner_id&&!e.includes(t.owner_id),fn:(e,t)=>t?.owner_id?[...e,Math.abs(t.owner_id)]:e,target:I}),(0,l.sample)({clock:[T.done,R.done],source:I,filter:(e,{params:t})=>!!t?.query?.owner_id,fn:(e,{params:t})=>t?.query?.owner_id?e.filter((e=>e!==Math.abs(t.query.owner_id))):e,target:I}),(0,l.sample)({clock:d,fn:e=>({query:{...e}}),target:E}),(0,l.sample)({clock:E.done,source:f,filter:(e,{params:t,result:a})=>Boolean(t.query.group_id&&1===a),fn:(e,{params:t,result:a})=>(0,s.produce)(e,(e=>{const r=t.query.group_id?e.get(Math.abs(t.query.group_id)):null;r&&(r.is_member=a,r.member_status=o.GroupsGroupFullMemberStatusEnumNames.HAS_SENT_A_REQUEST)})),target:f}),(0,l.sample)({clock:E.done,fn:({params:e})=>e.query,target:S}),(0,l.sample)({clock:u,fn:e=>({query:{...e}}),target:y}),(0,l.sample)({clock:y.done,source:f,filter:(e,{params:t,result:a})=>Boolean(t.query.group_id&&1===a),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const a=e.get(Math.abs(t.query.group_id));a&&(a.is_member=0,a.member_status=o.GroupsGroupFullMemberStatusEnumNames.NOT_A_MEMBER)})),target:f}),(0,l.sample)({clock:p,fn:e=>({query:{...e}}),target:k}),(0,l.sample)({clock:k.done,source:f,filter:(e,{params:t})=>Boolean(t.query.group_id),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const a=e.get(Math.abs(t.query.group_id));a&&(a.is_favorite=1)})),target:f}),(0,l.sample)({clock:g,fn:e=>({query:{...e}}),target:A}),(0,l.sample)({clock:A.done,source:f,filter:(e,{params:t})=>Boolean(t.query.group_id),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const a=e.get(Math.abs(t.query.group_id));a&&(a.is_favorite=0)})),target:f}),(0,l.sample)({clock:_,fn:e=>({query:{...e}}),target:T}),(0,l.sample)({clock:T.done,source:f,filter:(e,{params:t})=>Boolean(t.query.owner_id),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const a=e.get(Math.abs(t.query.owner_id));a&&(a.is_subscribed=1)})),target:f}),(0,l.sample)({clock:m,fn:e=>({query:{...e}}),target:R}),(0,l.sample)({clock:R.done,source:f,filter:(e,{params:t})=>Boolean(t.query.owner_id),fn:(e,{params:t})=>(0,s.produce)(e,(e=>{const a=e.get(Math.abs(t.query.owner_id));a&&(a.is_subscribed=0)})),target:f}),(0,l.sample)({clock:S,source:C,filter:(e,t)=>!!t?.group_id,fn:(e,t)=>t?.group_id?[...e,t.group_id]:e,target:C}),(0,l.sample)({clock:y.done,source:C,filter:(e,{params:t})=>!!t?.query?.group_id,fn:(e,{params:t})=>t?.query?.group_id?e.filter((e=>e!==t?.query?.group_id)):e,target:C}),(0,l.sample)({clock:y.done,source:h,fn:(e,{params:t})=>t?.query?.group_id?[...e,t.query.group_id]:e,target:h}),{fireJoinGroup:d,fireLeaveGroup:u,fireAddGroupToFave:p,fireGroupSubscribe:_,fireGroupUnsubscribe:m,fireRemoveGroupFromFave:g,$groups:f,$groupsToLeave:C,$groupsLeft:h,$groupPendingIds:I,JoinGroupEffectFx:E,LeaveGroupEffectFx:y}}},366005:(e,t,a)=>{a.d(t,{appCatalogService:()=>i,isNewsfeedItemWallpost:()=>r.isNewsfeedItemWallpost});var o=a(905901),r=a(975629);const i=(0,o.createAppCatalogService)()},909768:(e,t,a)=>{a.d(t,{createLayoutService:()=>c});var o=a(785893),r=a(798116),i=a(325429),n=a(789581),l=a(471828),s=a(775830);const c=({domain:e,LikeVideoEffectFx:t,DislikeVideoEffectFx:a,AddVideoToFaveEffectFx:c,RemoveVideoFromFaveEffectFx:d,AddVideoToPlaylistsEffectFx:u,RemoveVideoFromPlaylistsEffectFx:p,AddVideoToMyVideosEffectFx:_,RemoveVideoFromMyVideosEffectFx:m,RemoveVideoFromHistoryEffectFx:g,fireCompleteOnboarding:v,$playlistItems:S,SaveOnboardingEffectFx:f})=>{const C=e.createEvent(),h=e.createEvent(),I=e.createEvent(),E=e.createEvent("fire/ScrollToBlock"),y=(0,r.restore)(C,null),k=(0,r.restore)(I,null),A=e.createStore(null,{name:"scrollToBlock"}),T=e.createEffect("showSnackbarEffectFx");return T.use((e=>{C((0,o.jsx)(i.Snackbar,{onClose:()=>{C(null)},...e}))})),(0,r.sample)({clock:h,target:T}),(0,r.sample)({clock:[t.finally,a.finally,c.finally,d.finally,u.finally,p.finally,_.finally,m.finally,g.finally],filter:e=>"fail"===e.status,fn:()=>({isError:!0,event:i.SNACKBAR_EVENTS.ERROR}),target:h}),(0,r.sample)({clock:c.done,fn:()=>({event:i.SNACKBAR_EVENTS.ADD_TO_FAVE}),target:h}),(0,r.sample)({clock:d.done,fn:()=>({event:i.SNACKBAR_EVENTS.REMOVE_FROM_FAVE}),target:h}),(0,r.sample)({clock:u.done,source:S,filter:(e,{result:t})=>Boolean(t),fn:(e,{result:t})=>{if(Array.isArray(t)&&1===t.length){const a=e.find((({id:e})=>e===t[0]));if(a)return{content:`${l.getLang("mobile_video_added_to_playlist")} «${a.title}»`,action:l.getLang("mobile_video_showcase_form_upload_goto_video"),actionLink:(0,s.getPlaylistURL)(a.owner_id,a.id),layout:"horizontal"}}return{event:i.SNACKBAR_EVENTS.ADD_TO_PLAYLISTS}},target:h}),(0,r.sample)({clock:p.done,filter:({result:e})=>Boolean(e),fn:({result:e})=>Array.isArray(e)&&1===e.length?{event:i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLIST}:{event:i.SNACKBAR_EVENTS.REMOVE_FROM_PLAYLISTS},target:h}),(0,r.sample)({clock:_.done,fn:()=>({event:i.SNACKBAR_EVENTS.ADD_TO_MY}),target:h}),(0,r.sample)({clock:m.done,fn:({params:e})=>({event:(0,n.isCurrentUserId)(e.target_id)?i.SNACKBAR_EVENTS.REMOVE_FROM_MY:i.SNACKBAR_EVENTS.REMOVE_FROM_GROUP}),target:h}),(0,r.sample)({clock:g.done,fn:()=>({event:i.SNACKBAR_EVENTS.REMOVE_FROM_HISTORY}),target:h}),(0,r.sample)({clock:f.done,filter:({result:e})=>1===e.code,fn:()=>({event:i.SNACKBAR_EVENTS.ONBOARDING_RELOAD_CATALOG,action:l.getLang("mobile_video_onboarding_snackbar_refresh_action"),onActionClick:()=>{v()},layout:"horizontal"}),target:h}),(0,r.sample)({clock:E,target:A}),{fireScrollToBlockById:E,setSnackbar:C,showSnackbar:h,setPopout:I,$snackbar:y,$popout:k,$scrollToBlockById:A,ShowSnackbarEffectFx:T}}},73951:(e,t,a)=>{a.d(t,{createLinksService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"links"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.links?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.links.forEach((t=>{t.id&&e.set(t.id,t)}))})),target:a}),{$links:a}}},123553:(e,t,a)=>{a.d(t,{createMarketItemsService:()=>c});var o=a(841723),r=a(798116),i=a(453934),n=a(62628),l=a(595815),s=a(688538);const c=({domain:e,data:t})=>{const a=e.createEvent("fire/MakeFavorite"),c=e.createEvent("fire/RemoveFavorite"),d=e.createEvent("fire/AddToCart"),u=e.createStore(new Map,{name:"marketItems"}),p=e.createStore([],{name:"marketItemPendingIds"}),_=e.createEffect({name:"fetch/MakeFavorite",handler:({params:e,successCallback:t})=>(0,o.faveAddProduct)(e).then((e=>(t?.(),e)))}),m=e.createEffect({name:"fetch/RemoveFavorite",handler:async e=>(0,o.faveRemoveProduct)(e)}),g=(0,n.createMarketAddToCartFx)({domain:e});return(0,r.sample)({clock:t,source:u,filter:(e,t)=>Boolean(t.market_items?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.market_items.forEach((t=>e.set((0,l.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:u}),(0,r.sample)({clock:a,target:_}),(0,r.sample)({clock:c,target:m}),(0,r.sample)({clock:_.done,source:u,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const a=e.get((0,l.joinRawId)({ownerId:t.params.owner_id,itemId:t.params.id}));a&&(a.is_favorite=!0)})),target:u}),(0,r.sample)({clock:m.done,source:u,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,i.produce)(e,(e=>{const a=e.get((0,l.joinRawId)({ownerId:t.owner_id,itemId:t.id}));a&&(a.is_favorite=!1)})),target:u}),(0,r.sample)({clock:a,source:p,filter:(e,{params:t})=>!e.includes((0,l.joinRawId)({ownerId:t.owner_id,itemId:t.id})),fn:(e,{params:t})=>(0,i.produce)(e,(e=>{e.push((0,l.joinRawId)({ownerId:t.owner_id,itemId:t.id}))})),target:p}),(0,r.sample)({clock:c,source:p,filter:(e,t)=>!e.includes((0,l.joinRawId)({ownerId:t.owner_id,itemId:t.id})),fn:(e,t)=>(0,i.produce)(e,(e=>{e.push((0,l.joinRawId)({ownerId:t.owner_id,itemId:t.id}))})),target:p}),(0,r.sample)({clock:_.done,source:p,fn:(e,{params:t})=>{const a=(0,l.joinRawId)({ownerId:t.params.owner_id,itemId:t.params.id});return e.filter((e=>e!==a))},target:p}),(0,r.sample)({clock:m.done,source:p,fn:(e,{params:t})=>{const a=(0,l.joinRawId)({ownerId:t.owner_id,itemId:t.id});return e.filter((e=>e!==a))},target:p}),(0,r.sample)({clock:d,fn:e=>({query:e}),target:g}),(0,r.sample)({clock:g.done,source:u,fn:(e,{params:{query:t}})=>(0,i.produce)(e,(e=>{const a=e.get((0,l.joinRawId)({itemId:t.item_id,ownerId:s.Ranges.convertGroupIdToOwnerId(t.group_id)}));a&&(a.cart_quantity=(a.cart_quantity??0)+t.quantity)})),target:u}),(0,r.sample)({clock:d,source:p,fn:(e,t)=>(0,i.produce)(e,(e=>{e.push((0,l.joinRawId)({itemId:t.item_id,ownerId:s.Ranges.convertGroupIdToOwnerId(t.group_id)}))})),target:p}),(0,r.sample)({clock:g.done,source:p,fn:(e,{params:{query:t}})=>{const a=(0,l.joinRawId)({itemId:t.item_id,ownerId:s.Ranges.convertGroupIdToOwnerId(t.group_id)});return e.filter((e=>e!==a))},target:p}),{fireMakeFavorite:a,fireRemoveFavorite:c,fireAddToCart:d,$marketItems:u,$marketItemPendingIds:p}}},936927:(e,t,a)=>{a.d(t,{createMusicPlaylistsService:()=>n});var o=a(798116),r=a(453934),i=a(595815);const n=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"musicPlaylists"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.playlists?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.playlists.forEach((t=>e.set((0,i.joinRawId)({ownerId:t.owner_id,itemId:t.id}),t)))})),target:a}),{$musicPlaylists:a}}},606536:(e,t,a)=>{a.d(t,{createNavigationTabsService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"navigationTabs"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.navigation_tabs?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.navigation_tabs.forEach((t=>e.set(t.id,t)))})),target:a}),{$navigationTabs:a}}},695287:(e,t,a)=>{a.d(t,{createNewsfeedItemsService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"newsFeedItems"}),i=e.createStore(new Map,{name:"reactions"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.newsfeed_items?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.newsfeed_items.forEach((({id:t,item:a})=>a&&e.set(t,a)))})),target:a}),(0,o.sample)({clock:t,source:i,filter:(e,t)=>Boolean(t.reaction_sets?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.reaction_sets.forEach((({id:t,items:a})=>e.set(t,a)))})),target:i}),{$newsFeedItems:a,$reactions:i}}},540328:(e,t,a)=>{a.d(t,{createOnboardingService:()=>n});var o=a(798116),r=a(841723),i=a(912068);const n=({domain:e})=>{const t=e.createEvent("fire/InitOnboardingOptions"),a=e.createEvent("fire/ToggleOnboardingOption"),n=e.createEvent("fire/SaveOnboarding"),l=e.createEvent("fire/CompleteOnboarding"),s=e.createStore([],{name:"onboardingOptions"}),c=e.createStore({status:i.OnboardingResponseStatus.IDLE},{name:"onboardingStatus"}),d=e.createEffect({name:"fetch/SaveOnboarding",handler:e=>(0,r.saveSelection)(e)});return(0,o.sample)({clock:n,target:d}),(0,o.sample)({clock:t,fn:e=>[...e],target:s}),(0,o.sample)({clock:a,source:s,fn:(e,t)=>e.map((e=>(t.replacement_id===e.replacement_id&&(e.selected=e.selected?0:1),e))),target:s}),(0,o.sample)({clock:d.done,filter:e=>1===e.result.code,fn:({result:e})=>({status:i.OnboardingResponseStatus.SUCCESS,message:e.message}),target:c}),(0,o.sample)({clock:d.fail,fn:()=>({status:i.OnboardingResponseStatus.ERROR}),target:c}),(0,o.sample)({clock:d.pending,filter:e=>e,fn:()=>({status:i.OnboardingResponseStatus.PENDING}),target:c}),(0,o.sample)({clock:l,fn:()=>({status:i.OnboardingResponseStatus.COMPLETE}),target:c}),{fireInitOptions:t,fireToggleOption:a,fireSaveOptions:n,fireCompleteOnboarding:l,$onboardingOptions:s,$onboardingStatus:c,SaveOnboardingEffectFx:d}}},912068:(e,t,a)=>{a.d(t,{OnboardingResponseStatus:()=>o});const o={IDLE:"IDLE",SUCCESS:"SUCCESS",ERROR:"ERROR",PENDING:"PENDING",COMPLETE:"COMPLETE"}},891871:(e,t,a)=>{a.d(t,{createPageService:()=>i});var o=a(413189),r=a(798116);const i=({domain:e})=>{const t=e.createEvent("fire/SetPageId"),a=e.createEvent("fire/SetCacheId"),i=e.createEvent("fire/SetCatalogType"),n=e.createStore("",{name:"pageId"}),l=e.createStore("",{name:"cacheId"}),s=e.createStore(o.CatalogType.SEARCH,{name:"catalogType"});return(0,r.sample)({clock:t,target:n}),(0,r.sample)({clock:a,target:l}),(0,r.sample)({clock:i,target:s}),{fireSetPageId:t,fireSetCacheId:a,fireSetCatalogType:i,$pageId:n,$cacheId:l,$catalogType:s}}},374917:(e,t,a)=>{a.d(t,{createPlaceholdersService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"placeholders"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.placeholders?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.placeholders.forEach((t=>t.id&&e.set(t.id,t)))})),target:a}),{$placeholders:a}}},715905:(e,t,a)=>{a.d(t,{createPlaylistService:()=>d});var o=a(989573),r=a(798116),i=a(841723),n=a(595815),l=a(453934),s=a(659397),c=a(789581);const d=({domain:e,data:t,removeVideoFromPlaylists:a,removeVideoFromMyVideos:d,$videoItems:u,$catalog:p})=>{const _=e.createStore([],{name:"playlistItems"}),m=e.createStore(new Set,{name:"playlistsSubscribeLoading"}),g=e.createEvent("subscribeOnPlaylist"),v=e.createEvent("unsubscribeFromPlaylist"),S=e.createEffect("fetch/SubscribeToPlaylist"),f=e.createEffect("fetch/UnsubscribeFromPlaylist"),C=e.createStore(null,{name:"playlists"}),h=e.createStore(null,{name:"playlistsByVideo"}),I=e.createEvent("fire/GetPlaylistsByVideo"),E=e.createEvent("fire/GetPlaylists"),y=e.createEffect("fetch/GetPlaylistsByVideo"),k=(0,o.pending)({effects:[y]}),A=e.createEffect("fetch/GetPlaylists"),T=(0,o.pending)({effects:[A]}),R=e.createEffect("action/ControllerAbort");return h.reset(I),S.use((e=>(0,i.subscribeToVideoPlaylist)(e))),f.use((e=>(0,i.unsubscribeFromVideoPlaylist)(e))),(0,r.sample)({clock:t,source:_,filter:(e,t)=>!!t?.albums?.length,fn:(e,t)=>{const a=new Map(e.map(((e,t)=>[(0,n.joinRawId)({itemId:e.id,ownerId:e.owner_id}),t])));return(0,l.produce)(e,(e=>{t.albums?.length&&t.albums.forEach((t=>{const o=(0,n.joinRawId)({itemId:t.id,ownerId:t.owner_id}),r=a.get(o);(0,s.isNumber)(r)&&r>=0?e[r]=t:e.push(t)}))}))},target:_}),A.use((({params:e,controller:t})=>{const{signal:a}=t||{};return(0,i.getPlaylistsExtended)({extended:1,...e},{signal:a})})),y.use((({params:e,controller:t})=>{const{signal:a}=t||{};return(0,i.getPlaylistsByVideoExtended)({extended:1,...e},{signal:a})})),R.use((({controller:e})=>{e?.abort()})),(0,r.sample)({clock:E,fn:e=>({params:e,controller:new AbortController}),target:A}),(0,r.sample)({clock:E,source:A,filter:A.pending.map((e=>e)),target:R}),(0,r.sample)({clock:I,fn:e=>({params:e,controller:new AbortController}),target:y}),(0,r.sample)({clock:I,source:y,filter:y.pending.map((e=>e)),target:R}),(0,r.sample)({clock:y.doneData,filter:e=>Boolean(e?.items),fn:e=>({items:e.items.filter((({is_system:e})=>!e)),count:e.count}),target:h}),(0,r.sample)({clock:A.done,source:C,filter:(e,{result:t})=>Boolean(t?.items),fn:(e,{result:t,params:a})=>e&&a.params.offset?(0,l.produce)(e,(e=>{e.items.push(...t.items),e.count=t.count})):t,target:C}),(0,r.sample)({clock:[A.doneData,y.doneData],filter:e=>Boolean(e?.items),fn:e=>({albums:e.items}),target:t}),(0,r.sample)({clock:g,target:S}),(0,r.sample)({clock:v,target:f}),(0,r.sample)({clock:S.done,source:_,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.find((e=>e.id===t.album_id&&e.owner_id===t.owner_id));a&&(a.is_subscribed=!0)})),target:_}),(0,r.sample)({clock:f.done,source:_,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.find((e=>e.id===t.album_id&&e.owner_id===t.owner_id));a&&(a.is_subscribed=!1)})),target:_}),(0,r.sample)({clock:[g,v],source:m,fn:(e,{album_id:t,owner_id:a})=>(0,l.produce)(e,(e=>{void 0!==t&&e.add((0,n.joinRawId)({ownerId:a,itemId:t}))})),target:m}),(0,r.sample)({clock:[S.done,f.done],source:m,fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const{album_id:a,owner_id:o}=t;void 0!==a&&e.delete((0,n.joinRawId)({ownerId:o,itemId:a}))})),target:m}),(0,r.sample)({clock:[a.done,d.done],source:{playlistItems:_,videoItems:u,catalog:p},filter:({playlistItems:e,catalog:t},{result:a})=>(0,c.checkRequestResultForPlaylist)(a,t.sections,e),fn:({playlistItems:e,videoItems:t,catalog:a},{params:o})=>(0,l.produce)(e,(e=>{const r=a.sections.find((e=>(0,c.testPlaylistSection)(e?.url))),i=r?.blocks?.[0]?.albums_ids?.[0];if(r&&i){const a=e?.find((e=>(0,n.joinFullId)(e.owner_id,e.id)===i));if(a){if(t?.length){const e=t.find((e=>e.id===o.video_id&&e?.image?.[0]?.url&&e.image[0].url===a.image?.[0]?.url));if(e){const o=r.blocks?.find((e=>e.videos_ids?.length)),i=(0,n.joinFullId)(Number(e.owner_id),Number(e.id)),l=o?.videos_ids?.find((e=>e!==i)),s=t.find((e=>(0,n.joinFullId)(Number(e.owner_id),Number(e.id))===l));a.image=s?.image,a.cover_video_restriction=s?.restriction,s?.restriction?.blur&&(a.image_blur=s?.restriction?.blur)}}a.count--}}})),target:_}),{$playlistItems:_,$playlistsSubscribeLoading:m,$playlists:C,$playlistsByVideo:h,$pendingPlaylistsByVideo:k,$pendingPlaylists:T,subscribeOnPlaylist:g,unsubscribeFromPlaylist:v,fireGetPlaylistsByVideo:I,fireGetPlaylists:E,UnsubscribeFromPlaylistEffectFx:f,SubscribeToPlaylistEffectFx:S}}},740268:(e,t,a)=>{a.d(t,{createPostsService:()=>s});var o=a(366005),r=a(468322),i=a(841723),n=a(798116),l=a(453934);a(975629);const s=({domain:e,data:t})=>{const a=e.createEvent("fire/FaveAddPost"),s=e.createEvent("fire/FaveRemovePost"),c=e.createEvent("fire/LikePost"),d=e.createEvent("fire/DislikePost"),u=e.createEvent("fire/AgreeBlurRestriction"),p=e.createEvent("fire/ExpandPostText"),_=e.createEvent("fire/ExpandPostAttachments"),m=e.createEvent("fire/ViewPost"),g=e.createStore(new Map,{name:"posts"}),v=e.createStore([],{name:"pendingPostIds"}),S=e.createStore(new Set,{name:"viewedPostIds"}),f=e.createStore(new Map,{name:"postExpandedStates"}),C=e.createEffect({name:"fetch/FaveAddPost",handler:({params:e,successCallback:t})=>(0,i.faveAddPost)(e).then((e=>(t?.(),e)))}),h=e.createEffect({name:"fetch/FaveRemovePost",handler:i.faveRemovePost}),I=e.createEffect({name:"fetch/LikePost",handler:e=>(0,i.likeAdd)({...e,type:"post"})}),E=e.createEffect({name:"fetch/DislikePost",handler:e=>(0,i.likeDelete)({...e,type:"post"})}),y=e.createEffect({name:"fetch/AgreeBlurRestriction",handler:i.agreeBlurRestriction});return(0,n.sample)({clock:t,source:g,filter:(e,t)=>Boolean(t.newsfeed_items?.length),fn:(e,t)=>(0,l.produce)(e,(e=>{t.newsfeed_items.forEach((({item:t})=>{(0,o.isNewsfeedItemWallpost)(t)&&e.set((0,r.getPostRawId)(t),t)}))})),target:g}),(0,n.sample)({clock:a,target:C}),(0,n.sample)({clock:s,target:h}),(0,n.sample)({clock:u,target:y}),(0,n.sample)({clock:C.done,source:g,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get((0,r.getPostRawId)(t.params));a&&(a.is_favorite=!0)})),target:g}),(0,n.sample)({clock:h.done,source:g,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,l.produce)(e,(e=>{const a=e.get((0,r.getPostRawId)(t));a&&(a.is_favorite=!1)})),target:g}),(0,n.sample)({clock:c,target:I}),(0,n.sample)({clock:d,target:E}),(0,n.sample)({clock:[I.done,E.done],source:g,fn:(e,{params:t,result:a})=>(0,l.produce)(e,(e=>{const o=e.get((0,r.getPostRawId)(t));o&&(o.reactions=a.reactions)})),target:g}),(0,n.sample)({clock:a,source:v,fn:(e,{params:t})=>(0,l.produce)(e,(e=>{e.push((0,r.getPostRawId)(t))})),target:v}),(0,n.sample)({clock:[s,c,d],source:v,fn:(e,t)=>(0,l.produce)(e,(e=>{e.push((0,r.getPostRawId)(t))})),target:v}),(0,n.sample)({clock:[h.done,I.done,E.done],source:v,fn:(e,{params:t})=>e.filter((e=>e!==(0,r.getPostRawId)(t))),target:v}),(0,n.sample)({clock:C.done,source:v,fn:(e,{params:t})=>e.filter((e=>e!==(0,r.getPostRawId)(t.params))),target:v}),(0,n.sample)({clock:p,source:f,fn:(e,t)=>(0,l.produce)(e,(e=>{const a=e.get(t);a?a.textExpanded=!0:e.set(t,{textExpanded:!0})})),target:f}),(0,n.sample)({clock:_,source:f,fn:(e,t)=>(0,l.produce)(e,(e=>{const a=e.get(t);a?a.attachmentsExpanded=!0:e.set(t,{attachmentsExpanded:!0})})),target:f}),(0,n.sample)({clock:m,source:S,fn:(e,t)=>(0,l.produce)(e,(e=>{e.add(t)})),target:S}),{fireFaveAddPost:a,fireFaveRemovePost:s,fireLikePost:c,fireDislikePost:d,fireAgreeBlurRestriction:u,fireExpandPostText:p,fireExpandPostAttachments:_,$posts:g,$pendingPostIds:v,$postExpandedStates:f}}},975629:(e,t,a)=>{a.d(t,{isNewsfeedItemWallpost:()=>r});const o="post",r=e=>e?.type===o},729922:(e,t,a)=>{a.d(t,{createProfilesService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t,fetchStories:a})=>{const i=e.createEvent("fire/CheckStories"),n=e.createStore(new Map,{name:"profiles"});return(0,o.sample)({clock:t,source:n,filter:(e,t)=>Boolean(t.profiles?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.profiles.forEach((t=>e.set(t.id,t)))})),target:n}),(0,o.sample)({clock:i,fn:e=>({owner_id:e}),target:a}),(0,o.sample)({clock:a.done,source:n,fn:(e,{params:t,result:a})=>(0,r.produce)(e,(e=>{const o=e.get(t.owner_id);o&&(o.has_unseen_stories=Boolean(a.items.find((e=>e.name===o.first_name))?.has_unseen))})),target:n}),{fireCheckUserStories:i,$profiles:n}}},797006:(e,t,a)=>{a.d(t,{createRadioStationsService:()=>n});var o=a(798116),r=a(453934),i=a(841723);const n=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"radioStations"}),n=e.createStore([],{name:"loadingRadioStations"}),l=e.createEvent(),s=e.createEvent(),c=e.createEffect(i.followRadioStation),d=e.createEffect(i.unfollowRadioStation);return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.radio_stations?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.radio_stations.forEach((t=>e.set(t.id,t)))})),target:a}),(0,o.sample)({clock:l,target:c}),(0,o.sample)({clock:s,target:d}),(0,o.sample)({clock:c.done,source:a,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,r.produce)(e,(e=>{const a=e.get(t.station_id);a&&(a.is_followed=!0)})),target:a}),(0,o.sample)({clock:d.done,source:a,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>(0,r.produce)(e,(e=>{const a=e.get(t.station_id);a&&(a.is_followed=!1)})),target:a}),(0,o.sample)({clock:[l,s],source:n,fn:(e,t)=>[...e,t.station_id],target:n}),(0,o.sample)({clock:[c.done,d.done],source:n,filter:(e,{result:t})=>1===t,fn:(e,{params:t})=>e.filter((e=>e!==t.station_id)),target:n}),{$radioStations:a,$loadingRadioStations:n,fireFollowRadioStation:l,fireUnfollowRadioStation:s}}},640128:(e,t,a)=>{a.d(t,{createSearchRecentService:()=>i});var o=a(798116),r=a(841723);const i=({domain:e})=>{const t=e.createEvent("fire/AddRecent"),a=e.createEvent("fire/ClearRecent"),i=e.createEvent("fire/GroupsRemoveRecent"),n=e.createEffect({name:"fetch/AddRecent",handler:async e=>(0,r.addRecent)(e)}),l=e.createEffect({name:"fetch/ClearRecent",handler:async e=>(0,r.clearSearchRecent)(e)}),s=e.createEffect({name:"fetch/RemoveRecent",handler:e=>(0,r.groupsRemoveRecent)(e)});return(0,o.sample)({clock:t,target:n}),(0,o.sample)({clock:a,target:l}),(0,o.sample)({clock:i,target:s}),{fireAddRecent:t,fireClearSearchRecent:a,fireGroupsRemoveRecent:i}}},858579:(e,t,a)=>{a.d(t,{createSearchEntityItemsService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"searchEntityItems"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.search_entity_items?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.search_entity_items.forEach((t=>e.set(t.id,t)))})),target:a}),{$searchEntityItems:a}}},959702:(e,t,a)=>{a.d(t,{createSearchSpellcheckersService:()=>r});var o=a(798116);const r=({domain:e,data:t})=>{const a=e.createStore([],{name:"searchSpellcheckers"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>!!t?.search_spellcheckers?.length,fn:(e,t)=>{if(t?.search_spellcheckers?.length){const a=t.search_spellcheckers.filter((t=>-1===e.findIndex((e=>e.id===t.id))));return[...e,...a]}return e},target:a}),{$searchSpellcheckers:a}}},289371:(e,t,a)=>{a.d(t,{createStickersService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"stickersPackPreviews"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.stickers_pack_previews?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.stickers_pack_previews.forEach((t=>e.set(t.id,t)))})),target:a}),{$stickersPackPreviews:a}}},915537:(e,t,a)=>{a.d(t,{createStoriesService:()=>i});var o=a(798116),r=a(841723);const i=({domain:e})=>{const t=e.createStore((()=>({})),{name:"storiesOpener"}),a=e.createEvent("fire/SetStoriesOpener"),i=e.createEvent("fire/OpenStories"),n=e.createEffect({name:"action/OpenStories",handler:({ownerId:e,openStories:t=(()=>({})),storiesCallback:a=(()=>!1)})=>{t(`${e}/owner_feed${e}`,{source:"avatar"},{onClose:a})}}),l=e.createEffect({name:"action/FetchStories",handler:async e=>await(0,r.getStories)(e)});return(0,o.sample)({clock:i,source:t,fn:(e,t)=>({...t,openStories:e}),target:n}),(0,o.sample)({clock:a,target:t}),{fireSetStoriesOpener:a,fireOpenStories:i,FetchStoriesEffectFx:l}}},219131:(e,t,a)=>{a.d(t,{createSuggestionsService:()=>n});var o=a(841723),r=a(798116),i=a(453934);const n=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"suggestions"}),n=e.createEvent("fire/RemoveSearchRecentQuery"),l=e.createEffect({name:"fetch/RemoveSearchRecentQuery",handler:e=>{(0,o.removeSearchRecentQuery)(e)}});return(0,r.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.suggestions?.length),fn:(e,t)=>(0,i.produce)(e,(e=>{t.suggestions.forEach((t=>t.id&&e.set(t.id,t)))})),target:a}),(0,r.sample)({clock:n,fn:({params:e})=>e,target:l}),{$suggestions:a,fireRemoveSearchRecentQuery:n}}},706978:(e,t,a)=>{a.d(t,{createTextsService:()=>i});var o=a(798116),r=a(453934);const i=({domain:e,data:t})=>{const a=e.createStore(new Map,{name:"texts"});return(0,o.sample)({clock:t,source:a,filter:(e,t)=>Boolean(t.texts?.length),fn:(e,t)=>(0,r.produce)(e,(e=>{t.texts.forEach((t=>t.id&&e.set(t.id,t)))})),target:a}),{$texts:a}}},507907:(e,t,a)=>{a.d(t,{createVideoService:()=>s});var o=a(841723),r=a(595815),i=a(798116),n=a(453934),l=a(659397);const s=({domain:e,data:t,$catalog:a})=>{const s=e.createStore([],{name:"videoItems"}),c=e.createStore({},{name:"notInterestedVideos"}),d=e.createStore(null,{name:"addToPlaylistModal"}),u=e.createEvent("openVideoActions"),p=e.createEvent("openAddToPlaylistModal"),_=e.createEvent("likeVideo"),m=e.createEvent("dislikeVideo"),g=e.createEvent("addVideoToFave"),v=e.createEvent("removeVideoFromFave"),S=e.createEvent("addVideoToWatchLater"),f=e.createEvent("removeVideoFromWatchLater"),C=e.createEvent("addVideoToPlaylist"),h=e.createEvent("removeVideoFromPlaylist"),I=e.createEvent("addVideoToMyVideos"),E=e.createEvent("removeVideoFromMyVideos"),y=e.createEvent("removeVideoFromHistory"),k=e.createEvent("markVideoNotInterested"),A=e.createEvent("addVideoToMyVideosWithoutEffect"),T=e.createEvent("removeVideoFromMyVideosWithoutEffect"),R=e.createEffect({name:"fetch/likeVideo",handler:e=>(0,o.likeAdd)(e)}),x=e.createEffect({name:"fetch/dislikeVideo",handler:e=>(0,o.likeDelete)(e)}),L=e.createEffect({name:"fetch/addVideoToFave",handler:e=>(0,o.faveAddVideo)(e)}),O=e.createEffect({name:"fetch/removeVideoFromFave",handler:e=>(0,o.faveRemoveVideo)(e)}),w=e.createEffect({name:"fetch/addVideoToWatchLater",handler:e=>(0,o.faveAddVideo)(e)}),b=e.createEffect({name:"fetch/removeVideoFromWatchLater",handler:e=>(0,o.faveRemoveVideo)(e)}),N=e.createEffect({name:"fetch/addVideoToPlaylist",handler:e=>(0,o.addToPlaylist)(e)}),V=e.createEffect({name:"fetch/removeVideoFromPlaylist",handler:e=>(0,o.removeFromPlaylist)(e)}),P=e.createEffect({name:"fetch/addVideoToMyVideos",handler:e=>(0,o.addVideo)(e)}),B=e.createEffect({name:"fetch/removeVideoFromMyVideos",handler:e=>(0,o.deleteVideo)(e)}),M=e.createEffect({name:"fetch/removeVideoFromHistory",handler:e=>(0,o.removeViewingHistoryRecords)({video_ids:(0,r.joinFullId)(e.owner_id,e.video_id)})}),D=e.createEffect({name:"fetch/markVideoNotInterested",handler:({params:e})=>(0,o.markNotInterested)(e)});return(0,i.sample)({clock:_,target:R}),(0,i.sample)({clock:m,target:x}),(0,i.sample)({clock:g,target:L}),(0,i.sample)({clock:v,target:O}),(0,i.sample)({clock:C,target:N}),(0,i.sample)({clock:S,target:w}),(0,i.sample)({clock:f,target:b}),(0,i.sample)({clock:h,target:V}),(0,i.sample)({clock:I,target:P}),(0,i.sample)({clock:E,target:B}),(0,i.sample)({clock:y,target:M}),(0,i.sample)({clock:k,source:a,filter:e=>Boolean(e),fn:(e,t)=>({sectionId:e.default_section,params:t}),target:D}),(0,i.sample)({clock:p,target:d}),(0,i.sample)({clock:t,source:s,filter:(e,t)=>Boolean(t?.videos?.length),fn:(e,t)=>{const a=e=>void 0!==e.id&&void 0!==e.owner_id?(0,r.joinRawId)({itemId:e.id,ownerId:e.owner_id}):e.id,o=new Map(e.map(((e,t)=>[a(e),t]))),i=new Map(t.videos?.map(((e,t)=>[a(e),t])));return(0,n.produce)(e,(e=>{t.videos?.length&&t.videos.forEach(((t,r)=>{const n=a(t),s=o.get(n);(0,l.isNumber)(s)&&s>=0?e[s]=t:i.get(n)===r&&e.push(t)}))}))},target:s}),(0,i.sample)({clock:R.done,source:s,filter:(e,{result:t})=>Boolean(t&&t.likes>-1),fn:(e,{params:t,result:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t.item_id&&e.owner_id===t.owner_id));o&&(o.likes={count:a.likes,user_likes:1})})),target:s}),(0,i.sample)({clock:x.done,source:s,filter:(e,{result:t})=>Boolean(t&&t.likes>-1),fn:(e,{params:t,result:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t.item_id&&e.owner_id===t.owner_id));o&&(o.likes={count:a.likes,user_likes:0})})),target:s}),(0,i.sample)({clock:P.done,source:s,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.video_id&&e.owner_id===t.owner_id));a&&(a.added=1)})),target:s}),(0,i.sample)({clock:B.done,source:s,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.video_id&&e.owner_id===t.owner_id));a&&(a.added=0)})),target:s}),(0,i.sample)({clock:A,source:s,fn:(e,{video_id:t,owner_id:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t&&e.owner_id===a));o&&(o.added=1)})),target:s}),(0,i.sample)({clock:T,source:s,fn:(e,{video_id:t,owner_id:a})=>(0,n.produce)(e,(e=>{const o=e.find((e=>e.id===t&&e.owner_id===a));o&&(o.added=0)})),target:s}),(0,i.sample)({clock:[L.done,w.done],source:s,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.id&&e.owner_id===t.owner_id));a&&(a.is_favorite=!0)})),target:s}),(0,i.sample)({clock:[O.done,b.done],source:s,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const a=e.find((e=>e.id===t.id&&e.owner_id===t.owner_id));a&&(a.is_favorite=!1)})),target:s}),(0,i.sample)({clock:D.done,source:c,filter:(e,{result:t})=>Boolean(t),fn:(e,{params:t})=>(0,n.produce)(e,(e=>{const{params:a,sectionId:o}=t,i=(0,r.joinRawId)({itemId:a.video_id,ownerId:a.owner_id});a.is_unset?delete e[i]:e[i]=o})),target:c}),{$videoItems:s,$notInterestedVideos:c,$addToPlaylistModal:d,openVideoActions:u,openAddToPlaylistModal:p,likeVideo:_,dislikeVideo:m,addVideoToFave:g,removeVideoFromFave:v,addVideoToWatchLater:S,removeVideoFromWatchLater:f,addVideoToPlaylist:C,removeVideoFromPlaylist:h,addVideoToMyVideos:I,removeVideoFromMyVideos:E,removeVideoFromHistory:y,markVideoNotInterested:k,addVideoToMyVideosWithoutEffect:A,removeVideoFromMyVideosWithoutEffect:T,LikeVideoEffectFx:R,DislikeVideoEffectFx:x,AddVideoToFaveEffectFx:L,RemoveVideoFromFaveEffectFx:O,AddVideoToPlaylistsEffectFx:N,RemoveVideoFromPlaylistsEffectFx:V,AddVideoToMyVideosEffectFx:P,RemoveVideoFromMyVideosEffectFx:B,RemoveVideoFromHistoryEffectFx:M,MarkVideoNotInterestedEffectFx:D}}},567906:(e,t,a)=>{var o;a.d(t,{ListenMutateEventsType:()=>o}),function(e){e.AddVideo="add_video",e.RemoveVideo="remove_video"}(o||(o={}))},469758:(e,t,a)=>{a.d(t,{convertSectionToCatalog:()=>o,convertUpdatedCatalogToUpdatedSection:()=>i});const o=e=>e?{sections:e?[e]:[],default_section:e.id||"",pinned_section:""}:null,r=e=>e?e.sections[0]:null,i=({updatedCatalog:e,...t})=>({...t,updatedSection:r(e)})},843728:(e,t,a)=>{a.d(t,{extractItemsIds:()=>i});var o=a(413189);const r=e=>e?.map((e=>({id:e}))),i=e=>(e=>{switch(e.data_type){case o.CatalogBlockDataType.GROUPS:return r(e.group_ids);case o.CatalogBlockDataType.GROUPS_INVITES:return r(e.group_invites);case o.CatalogBlockDataType.GROUPS_ALL:case o.CatalogBlockDataType.GROUPS_ITEMS:return e.group_items;case o.CatalogBlockDataType.CATALOG_USERS:return r(e.catalog_users_ids);case o.CatalogBlockDataType.MINI_APPS:return e.mini_app_ids?.map((e=>({id:Number(e)})));case o.CatalogBlockDataType.LINKS:return r(e.links_ids);case o.CatalogBlockDataType.VIDEOS:return r(e.videos_ids);case o.CatalogBlockDataType.ALBUMS:return e.albums_ids?.map((t=>({id:t,badge:e.item_badges?.some((({item_id:e})=>e===t))})));case o.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:return r(e.search_suggestions_ids);case o.CatalogBlockDataType.SEARCH_AUTHORS:return e.search_author_items;case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:return r(e.suggestions_ids);case o.CatalogBlockDataType.NEWSFEED_ITEMS:return r(e.newsfeed_item_ids);case o.CatalogBlockDataType.MUSIC_AUDIOS:return r(e.audios_ids);case o.CatalogBlockDataType.MUSIC_PLAYLISTS:return r(e.playlists_ids);case o.CatalogBlockDataType.GAMES:return e.games_items;case o.CatalogBlockDataType.MARKET_ITEMS:return r(e.market_item_ids);case o.CatalogBlockDataType.GROUPS_COLLECTION:return e?.group_collection_items_ids?.map((t=>({id:t,group_items:e.entity_group_items?.find((e=>e.id===t))?.group_items,isSingleItem:1===e.group_collection_items_ids?.length})))||[];case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return e?.group_category_items?.map((({id:t,click_action:a})=>({id:t||"",group_items:e.entity_group_items?.find((e=>e.id===t))?.group_items,action:a})))||[];case o.CatalogBlockDataType.STICKERS_PACKS:return r(e.stickers_pack_ids);case o.CatalogBlockDataType.MINI_APPS_CONTENT:return t=e.miniapps_content_items,t?.map((e=>({...e,id:e.id??""})));case o.CatalogBlockDataType.SEARCH_ENTITY_ITEMS:return r(e.search_entity_ids);case o.CatalogBlockDataType.NAVIGATION_TABS:return r(e.navigation_tab_ids);case o.CatalogBlockDataType.PLACEHOLDER:return r(e.placeholder_ids);case o.CatalogBlockDataType.RADIO_STATIONS:return r(e.radio_stations_ids);default:return}var t})(e)??[]},789581:(e,t,a)=>{a.d(t,{checkRequestResultForPlaylist:()=>r.checkRequestResultForPlaylist,extractExtendedData:()=>r.extractExtendedData,extractItemsIds:()=>o.extractItemsIds,getClipDataTestId:()=>r.getClipDataTestId,getEventItemTypeByDataType:()=>r.getEventItemTypeByDataType,getMaxItemsByBlock:()=>r.getMaxItemsByBlock,isCurrentUserId:()=>r.isCurrentUserId,mutateSectionBlocks:()=>r.mutateSectionBlocks,splitCatalogBlocksByIsland:()=>r.splitCatalogBlocksByIsland,testBookmarksSection:()=>r.testBookmarksSection,testDiscoverSection:()=>r.testDiscoverSection,testHistorySection:()=>r.testHistorySection,testLikedSection:()=>r.testLikedSection,testMySection:()=>r.testMySection,testPlaylistSection:()=>r.testPlaylistSection,testUploadedSection:()=>r.testUploadedSection,toColumnWithRows:()=>i.toColumnWithRows,unionBlocksByLayout:()=>r.unionBlocksByLayout});var o=a(843728),r=a(732284),i=a(274064)},274064:(e,t,a)=>{a.d(t,{toColumnWithRows:()=>n});var o=a(785893),r=a(667294);const i=()=>({resultLength:0,components:[]});function n(e,t){const a=Array(t).fill(null).map(i);return e.forEach((e=>{const t=a.reduce(((e,t)=>t.resultLength<e.resultLength?t:e));e.length&&(t.resultLength+=e.length),t.components.push(e)})),[a.map(((e,t)=>({key:t,component:e.components.map((({component:e,key:t})=>(0,o.jsx)(r.Fragment,{children:e},t)))})))]}},732284:(e,t,a)=>{a.d(t,{checkRequestResultForPlaylist:()=>E,extractExtendedData:()=>u,getClipDataTestId:()=>y,getEventItemTypeByDataType:()=>p,getMaxItemsByBlock:()=>d,isCurrentUserId:()=>m,mutateSectionBlocks:()=>_,splitCatalogBlocksByIsland:()=>k,testBookmarksSection:()=>C,testDiscoverSection:()=>f,testHistorySection:()=>S,testLikedSection:()=>h,testMySection:()=>g,testPlaylistSection:()=>v,testUploadedSection:()=>I,unionBlocksByLayout:()=>c});var o=a(413189),r=a(567906),i=a(324153),n=a(453934),l=a(595815);const s=(e,t,a)=>{const o=e[a]??[],r=t[a]??[];return Array.isArray(o)&&Array.isArray(r)?{...t,id:e.id,[a]:[...o,...r]}:null},c=e=>e.reduce(((e,t)=>(0,n.produce)(e,(a=>{e.some((e=>e.next_from===t.next_from))||a.push(t)}))),[]).reduce(((e,t)=>(0,n.produce)(e,(e=>{t.blocks?.length&&e.push(...t.blocks)}))),[]).reduce(((e,t)=>(0,n.produce)(e,(e=>{if(0===e.length)return void e.push(t);const a=((e,t)=>{if(e.layout.name!==t.layout.name||e.data_type!==t.data_type)return null;switch(e.data_type){case o.CatalogBlockDataType.MARKET_ITEMS:return s(e,t,"market_item_ids");case o.CatalogBlockDataType.VIDEOS:return s(e,t,"videos_ids");default:return null}})(e[e.length-1],t);a?e[e.length-1]=a:e.push(t)}))),[]),d=e=>e.data_type===o.CatalogBlockDataType.NEWSFEED_ITEMS?10:null,u=e=>{const t={};return Object.entries(e).forEach((([e,a])=>{if("catalog"!==e&&"section"!==e&&Array.isArray(a))switch(e){case o.CatalogExtendedDataName.ALBUMS:case o.CatalogExtendedDataName.CATALOG_USERS:case o.CatalogExtendedDataName.GROUPS:case o.CatalogExtendedDataName.LINKS:case o.CatalogExtendedDataName.MARKET_ITEMS:case o.CatalogExtendedDataName.MINI_APPS:case o.CatalogExtendedDataName.PLACEHOLDERS:case o.CatalogExtendedDataName.PROFILES:case o.CatalogExtendedDataName.VIDEOS:case o.CatalogExtendedDataName.SUGGESTIONS:case o.CatalogExtendedDataName.SEARCH_SPELLCHECKERS:case o.CatalogExtendedDataName.NEWSFEED_ITEMS:case o.CatalogExtendedDataName.REACTION_SETS:case o.CatalogExtendedDataName.PLAYLISTS:case o.CatalogExtendedDataName.AUDIOS:case o.CatalogExtendedDataName.GROUP_COLLECTION_ITEMS:case o.CatalogExtendedDataName.GROUP_CATEGORY_ITEMS:case o.CatalogExtendedDataName.GAMES:case o.CatalogExtendedDataName.STICKERS_PACK_PREVIEWS:case o.CatalogExtendedDataName.SEARCH_ENTITY_ITEMS:case o.CatalogExtendedDataName.NAVIGATION_TABS:case o.CatalogExtendedDataName.CLASSIFIEDS_CATEGORY_TREE:case o.CatalogExtendedDataName.RADIO_STATIONS:case o.CatalogExtendedDataName.TEXTS:t[e]=[...a];break;default:return}})),t},p=e=>{switch(e.data_type){case o.CatalogBlockDataType.LINKS:return i.EventItemType.LINK;case o.CatalogBlockDataType.MINI_APPS:return i.EventItemType.MINI_APP;case o.CatalogBlockDataType.MARKET_ITEMS:return i.EventItemType.MARKET_ITEM;case o.CatalogBlockDataType.GROUPS_ITEMS:case o.CatalogBlockDataType.GROUPS:case o.CatalogBlockDataType.GROUPS_COLLECTION:case o.CatalogBlockDataType.GROUPS_CATEGORY_ITEMS:return i.EventItemType.GROUP;case o.CatalogBlockDataType.CATALOG_USERS:return i.EventItemType.USER;case o.CatalogBlockDataType.VIDEOS:return i.EventItemType.VIDEO;case o.CatalogBlockDataType.CATALOG_SEARCH_SUGGESTION:case o.CatalogBlockDataType.SEARCH_SUGGESTIONS:case o.CatalogBlockDataType.SEARCH_SPELLCHECKER:return i.EventItemType.SEARCH_SUGGESTION;case o.CatalogBlockDataType.ALBUMS:return i.EventItemType.VIDEO_PLAYLIST;case o.CatalogBlockDataType.NEWSFEED_ITEMS:return i.EventItemType.POST;case o.CatalogBlockDataType.SEARCH_AUTHORS:return i.EventItemType.SEARCH_AUTHOR;case o.CatalogBlockDataType.MUSIC_AUDIOS:return i.EventItemType.MUSIC_AUDIO;case o.CatalogBlockDataType.GAMES:return i.EventItemType.GAME;case o.CatalogBlockDataType.STICKERS_PACKS:return i.EventItemType.STICKERS;default:return}},_=({section:e,ownerId:t,itemId:a,clear:o=!1,event:i})=>{if(!e?.blocks||(Number.isNaN(t)||Number.isNaN(a))&&!o)return;const n=(0,l.joinFullId)(t,a);for(const t of e.blocks)switch(i){case r.ListenMutateEventsType.AddVideo:t.videos_ids&&t.videos_ids.unshift(n);break;case r.ListenMutateEventsType.RemoveVideo:t.videos_ids&&(t.videos_ids=o?[]:t.videos_ids.filter((e=>e!==n)))}},m=e=>e===window.vk.id,g=e=>Boolean(e?.endsWith("my")),v=e=>Boolean(e?.includes("playlist")),S=e=>Boolean(e?.includes("history")),f=e=>Boolean(e?.includes("discover")),C=e=>Boolean(e?.includes("bookmarks")),h=e=>Boolean(e?.includes("liked")),I=e=>Boolean(e?.includes("uploaded")),E=(e,t,a)=>{if(t&&a){const o=t.find((e=>v(e?.url))),r=o?.blocks?.[0]?.albums_ids?.[0];if(o&&r){const t=a?.find((e=>(0,l.joinFullId)(e.owner_id,e.id)===r));if(t?.can_edit)return Array.isArray(e)?e.includes(t.id):Boolean(e)}}return!1},y=({action:e,ref_layout_name:t})=>t===o.CatalogBlockLayoutName.SHORT_VIDEO_SLIDER_WITH_VIEW_COUNTER&&e?.type===o.CatalogActionType.OPEN_URL?"clips-catalog-open-url":void 0,k=(e,t=[])=>{const a=e.findIndex((e=>e.layout.name===o.CatalogBlockLayoutName.SEPARATOR&&"island"===e.layout.style));return a>=0?k(e.slice(a+1),[...t,e.slice(0,a)]):[...t,e]}},580044:(e,t,a)=>{a.d(t,{DynamicPagination:()=>c});var o=a(785893),r=a(667294),i=a(113788),n=a(659397),l=a(997650),s=a(630757);const c=({isLoading:e,fetchData:t,fetchError:a,nextFrom:c,rootMargin:d,withSpinner:u=!0})=>{const[p,_]=(0,r.useState)(),[m,g]=(0,l.useInView)({rootMargin:d}),v=(0,n.classNames)(s.default.pagination,{[s.default.paginationHidden]:e});return(0,r.useEffect)((()=>{const e=setTimeout((()=>{g&&c&&p!==c&&(_(c),t())}),200);return()=>{clearTimeout(e)}}),[g,c,p]),c&&!a?(0,o.jsxs)("div",{className:s.default.root,children:[u&&(0,o.jsx)(i.Spinner,{size:"small"}),(0,o.jsx)("div",{className:v,ref:m})]}):null}},656092:(e,t,a)=>{a.d(t,{DynamicPagination:()=>o.DynamicPagination});var o=a(580044)},165592:(e,t,a)=>{a.d(t,{VideoListItem:()=>p});var o=a(785893),r=a(432483),i=a(786157),n=a(86894),l=a(242864),s=a(990460),c=a(981284),d=a(130593),u=a(826068);const p=({onMoreClick:e,onClick:t,preview:a,title:p="",secondTitle:_,lastTitle:m,url:g,getRootRef:v,endAdornment:S})=>{const f=Boolean(e&&!(0,u.isVKUserAnonymous)());return(0,o.jsx)(n.Tappable,{"data-testid":"video_list_item",href:g,onClick:e=>{t?.(e)},children:(0,o.jsxs)("div",{className:i.default.root,children:[(0,o.jsx)("div",{ref:v,className:i.default.preview,children:a}),(0,o.jsxs)("div",{className:i.default.info,children:[(0,o.jsxs)("div",{className:i.default.main,children:[(0,o.jsx)(l.TextClamp,{TypographyComponent:s.Headline,level:"2",className:i.default.title,lines:2,children:p}),!!_&&(0,o.jsx)(s.Subhead,{className:i.default.subtitle,dangerouslySetInnerHTML:{__html:_}}),!!m&&(0,o.jsx)(s.Subhead,{className:i.default.subtitle,dangerouslySetInnerHTML:{__html:m}})]}),f&&(0,o.jsx)(c.IconButton,{"data-testid":"video_list_item_more",className:(0,d.getColorClass)("color_icon_tertiary"),onClick:t=>{t.preventDefault(),t.stopPropagation(),e?.(t)},children:(0,o.jsx)(r.Icon24MoreHorizontal,{})}),S&&(0,o.jsx)("div",{className:i.default.endAdornment,children:S})]})]})})}},89062:(e,t,a)=>{a.d(t,{VideoPreview:()=>R});var o=a(785893),r=a(667294),i=a(659397),n=a(347088),l=a(924130),s=a(86894),c=a(775701),d=a(437043),u=a(519276),p=a(140518),_=a(638646),m=a(738381),g=a(417059),v=a(480365),S=a(152827),f=a(130593),C=a(408903),h=a(940889),I=a(851179),E=a(775830),y=a(977053),k=a(471828),A=a(363207);const T=["waiting","started"];function R(e){const{video:t,itemUrl:a,mode:R="regular",ratio:x,withTimeline:L=!1,withPlayBtn:O=!1,fullWidth:w=!1,onItemClick:b,onButtonClick:N}=e,{restriction:V,image:P=[]}=t,B=(0,C.useWindowWidth)(),M=(0,h.useVideoThumbRatio)(x),[D,j]=(0,r.useState)(!1),F=(0,r.useMemo)((()=>{let e=P.filter((e=>!e.with_padding));return e.length||(e=P),(0,i.getPhotoSize)(e,(0,n.getImageMinWidth)(w?B:250))}),[P,w,B]);(0,r.useEffect)((()=>{F?.url&&j(!1)}),[F?.url]);const G=(0,r.useCallback)((e=>b?.(e,t)),[b,t]),U=Boolean(t.processing),H="upcoming"===t.live_status&&(0,y.partConfigEnabled)("video_upcoming_live_info"),$=(0,l.isBasePrivacyLimited)(t?.privacy_view),z=(0,E.isLiveVideo)(t),W="by_link"==t?.privacy_view?.category,K=V&&Boolean(V.blur),Y=!K&&!V&&Boolean(t.duration),q=Boolean(t.interactive_info),Q=!Y&&z&&T.some((e=>e===t.live_status)),Z=Boolean(V?.can_play&&V?.mute_info_link);let X=0;L&&t.viewed_duration&&t.duration&&!q&&(X=100*t.viewed_duration/t.duration);const J=q?"compact"===R&&U?k.getLang("video_interactive_label_short"):k.getLang("video_interactive_label"):t.platform;return(0,o.jsxs)(s.Tappable,{"data-testid":"video_preview",Component:a?"a":"div",hasHover:!1,href:a,className:(0,i.classNames)(A.default.video,{[A.default.videoRounded]:!w,[A.default.videoPage]:w,[A.default.videoBlur]:K}),style:{paddingBottom:`${M}%`},onClick:G,children:[F&&!D?(0,o.jsx)("img",{onError:()=>j(!0),className:(0,i.classNames)(A.default.videoImage,{[A.default.videoImageBlur]:K}),loading:"lazy",src:F.url,width:F.width,height:F.height}):!V&&(0,o.jsx)("div",{className:A.default.previewFailed,children:(0,o.jsx)(c.Icon56VideoOutline,{})}),$&&!U?(0,o.jsx)(S.TextTooltip,{placement:"top",text:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:k.getLang("profile_user_content_videos_is_privacy_locked")}}),appearance:"black",children:(0,o.jsx)("div",{className:(0,i.classNames)(A.default.cornerIcon,A.default.cornerIconPrivacy),children:W?(0,o.jsx)(d.Icon16ChainOutline,{}):(0,o.jsx)(u.Icon16Lock,{})})}):null,O?(0,o.jsx)("div",{className:A.default.playBtn,children:(0,o.jsx)(p.Icon28Play,{})}):null,Z?(0,o.jsx)("div",{className:A.default.playBtn,children:(0,o.jsx)(_.Icon24Mute,{})}):null,U||H?(0,o.jsx)("div",{className:A.default.cornerIcon,children:(0,o.jsx)(m.Icon16ClockOutline,{})}):null,Y||q?(0,o.jsxs)("span",{className:A.default.videoDuration,children:[J?J+(Y?" · ":""):"",Y&&(0,i.formatDuration)(t?.duration||0)]}):null,Q?(0,o.jsx)("div",{className:A.default.videoLive,children:(0,o.jsx)(g.Icon20LiveBadge,{})}):null,H?(0,o.jsx)("div",{className:(0,i.classNames)(A.default.videoLive,A.default.videoUpcomingLive),children:(0,o.jsx)(v.IconLiveText20h,{className:(0,f.getColorClass)("color_icon_contrast")})}):null,!!X&&(0,o.jsx)("div",{className:A.default.progressBar,children:(0,o.jsx)("div",{className:A.default.progress,style:{width:`${X}%`}})}),(0,o.jsx)(I.VideoPreviewOverlay,{video:t,mode:R,fullWidth:w,className:A.default.overlay,onClick:N})]})}},851179:(e,t,a)=>{a.d(t,{VideoPreviewOverlay:()=>v});var o=a(785893),r=a(869777),i=a(659397),n=a(86894),l=a(270885),s=a(786644),c=a(318551),d=a(51298),u=a(43620),p=a(990460),_=a(258037),m=a(441430),g=a(944278);const v=e=>{const{video:t,className:a,mode:v="regular",fullWidth:S=!1,onClick:f}=e,{restriction:C,converting:h,live_status:I}=t,{getLang:E}=(0,r.useLangContext)(),{viewWidth:y=n.ViewWidth.SMALL_MOBILE}=(0,n.useAdaptivityWithJSMediaQueries)(),k=y<n.ViewWidth.MOBILE,A=Boolean(h),T="upcoming"===I,R=C&&Boolean(C.blur),x="regular"===v,L=!S&&x||!x,O=Boolean(C?.icon_name),w=Boolean(C?.can_play&&C?.mute_info_link),b=L?p.Subhead:p.Text;if(C&&!w&&O){const e=L?28:56,t=(0,i.getPhotoSize)(C.card_icon,e*window.devicePixelRatio),{title:r,text:s,button:c}=C,d=Boolean(x&&r),u=Boolean(S&&s),p=Boolean(C.can_play&&f&&S&&c),v=Boolean(t&&!d&&!p&&!u),h=t&&!(d&&u&&p&&k);return(0,o.jsx)("div",{className:(0,i.classNames)(g.default.overlay,{[g.default.blur]:R},a),children:(0,o.jsx)(_.Placeholder,{icon:h&&(0,o.jsx)(l.MaskIcon,{className:(0,i.classNames)(g.default.icon,{[g.default.center]:v}),src:t.url,size:e}),header:d&&(0,o.jsx)(b,{Component:"span",className:g.default.title,children:r}),action:p&&(0,o.jsx)(m.Button,{mode:"secondary",size:"s",appearance:"overlay",onClick:f,children:c?.title}),withPadding:!1,children:u&&(0,o.jsx)(n.Footnote,{Component:"span",className:g.default.text,children:s})})})}if(A){const e=!x,t=L?s.Icon28RecentOutline:c.Icon56RecentOutline;return(0,o.jsx)("div",{className:(0,i.classNames)(g.default.overlay,{[g.default.blur]:R},a),children:(0,o.jsx)(_.Placeholder,{icon:(0,o.jsx)(t,{className:(0,i.classNames)(g.default.icon,{[g.default.center]:e})}),header:x&&(0,o.jsx)(b,{Component:"span",className:g.default.title,children:E("profile_user_content_videos_video_is_processing")}),withPadding:!1})})}if(T){const e=!x,t=L?d.Icon28LiveClockBadgeOutline:u.Icon56LiveClockBadgeOutline;return(0,o.jsx)("div",{className:(0,i.classNames)(g.default.overlay,{[g.default.blur]:R},a),children:(0,o.jsx)(_.Placeholder,{icon:(0,o.jsx)(t,{className:(0,i.classNames)(g.default.icon,{[g.default.center]:e})}),header:x&&(0,o.jsx)(b,{Component:"span",className:g.default.title,children:E("mobile_video_live_start_soon")}),withPadding:!1})})}return null}},80981:(e,t,a)=>{a.d(t,{FRIENDS_STATUS:()=>r,FRIENDS_STATUS_REQUEST:()=>o});const o={REQUEST:1,ADDED:2,REPEAT:4},r={NOT_FRIEND:0,OUTCOMING_REQUEST:1,INCOMING_REQUEST:2,IS_FRIENDS:3}},221045:(e,t,a)=>{a.d(t,{getStore:()=>s});var o=a(798116),r=a(899244),i=a(288824),n=a(95068);function l(){const e=(0,o.createDomain)("adult"),t=e.createEvent(),a=e.createEvent(),i=e.createEvent(),l=(0,r.createAccountInfoService)({domain:e}),{$accountInfo:s,getInfoFx:c}=l,d=e.createStore((0,n.getEcommInitialData)("market_isAdultConfirmed")??null),u=e.createStore((0,n.getEcommInitialData)("market_isAdultConfirmed")??!1).on(t,((e,t)=>t)),p=e.createStore(!1).on(a,((e,t)=>t));(0,o.sample)({clock:i,source:d,filter:e=>null===e,fn:()=>({query:{fields:"market_adult_18plus"}}),target:c}),(0,o.sample)({clock:c.doneData,fn:e=>Boolean(e.market_adult_18plus?.is_adult_confirm),target:t}),(0,o.sample)({clock:c.doneData,fn:e=>Boolean(e.market_adult_18plus?.is_adult_by_profile),target:a});const _=(0,o.createEvent)(),m=(0,o.restore)(_,!1),g=(0,o.createEvent)();return{$isAdultConfirmed:u,$isAdultByProfile:p,setAdultConfirmation:t,initAdultStore:i,$accountInfo:s,setIsAdultModalOpen:_,$isAdultModalOpen:m,cacheAdultItemHandler:g,$adultItemHandler:(0,o.restore)(g,(()=>{}))}}function s(){return(0,i.makeSharedState)("static/js/modules/shared/ecomm/shared/adultApi/adultStore.ts",l,{version:1})()}},76690:(e,t,a)=>{a.d(t,{getIsAdultConfirmedStore:()=>r});var o=a(221045);function r(){return(0,o.getStore)().$isAdultConfirmed}},795449:(e,t,a)=>{a.d(t,{getIsAdultConfirmedStore:()=>o.getIsAdultConfirmedStore,initAdultStore:()=>l.initAdultStore,setAdultConfirmation:()=>n.setAdultConfirmation,setUserIsAdult:()=>r.setUserIsAdult,useIsAdultConfirmed:()=>i.useIsAdultConfirmed});var o=a(76690),r=a(731314),i=a(250014),n=a(938211),l=a(849747)},849747:(e,t,a)=>{a.d(t,{initAdultStore:()=>r});var o=a(221045);function r(){(0,o.getStore)().initAdultStore()}},938211:(e,t,a)=>{a.d(t,{setAdultConfirmation:()=>r});var o=a(221045);function r(e){(0,o.getStore)().setAdultConfirmation(e)}},731314:(e,t,a)=>{a.d(t,{setUserIsAdult:()=>i});var o=a(166695),r=a(938211);function i(){(0,r.setAdultConfirmation)(!0),window.vk.id&&(0,o.api)("market.setUserIsAdult",{})}},250014:(e,t,a)=>{a.d(t,{useIsAdultConfirmed:()=>i});var o=a(504190),r=a(221045);function i(){return(0,o.useStore)((0,r.getStore)().$isAdultConfirmed)}},95068:(e,t,a)=>{a.d(t,{getEcommInitialData:()=>o});const o=e=>(window.ecommInitialState??{})[e]},50636:(e,t,a)=>{a.d(t,{getMarketProductImgErrorType:()=>o});const o=({isBlocked:e=!1,isMuted:t=!1})=>e?"block":t?"mute":void 0},111913:(e,t,a)=>{a.d(t,{getMarketProductTitle:()=>r});var o=a(471828);const r=({hasModerationStatus:e=!1,isAdult:t=!1,text:a})=>e?o.getLang("market_item_is_disabled"):t?o.getLang("market_item_card_component_title_adult"):a},673325:(e,t,a)=>{a.d(t,{getModerationErrorType:()=>o});const o=(e,t)=>{const a=e.reject_info?.moderation_status,o=e.reject_info?.in_progress,r=t?t.is_sold||t.is_deleted:0===e.stock_amount,i=t?t.is_active:0===e.availability,n=t&&t.is_archived;return o?"moderation":e.is_hardblocked||t?.is_blocked?"hard":0===a?"moderation":2===a||r||!i||n?"soft":3===a?"hard":void 0}},12387:(e,t,a)=>{a.d(t,{getPictureConfig:()=>n});var o=a(134349),r=a(902947),i=a(471828);const n=({isAdult:e,item:t,itemWidth:a,href:n,onClick:l})=>{const s=t.thumb||[],c=(0,o.getImageIsomorphic)({images:s,width:a,isRetina:(0,r.isRetina)()}),d=e?i.getLang("market_item_card_blurred_image_caption"):t.title;return{src:c?c.url:void 0,alt:d,href:n,onClick:l}}},119341:(e,t,a)=>{a.d(t,{getStatusBadgeTitleForMarket:()=>i});var o=a(471828),r=a(159380);const i=({item:e,moderationErrorType:t,isAdultConfirmed:a})=>{const i=e.is_adult&&!a;if(e.is_owner){const a="base"===e.owner_info?.market_type&&e.availability===r.MarketMarketItemAvailabilityEnumNames.UNAVAILABLE,i=e.availability===r.MarketMarketItemAvailabilityEnumNames.REMOVED||a;return"moderation"===t?o.getLang("market_item_card_component_badge_title_moderation"):"hard"===t?o.getLang("market_item_card_component_badge_title_hard_block"):i?o.getLang("market_classifieds_status_archive"):e.availability===r.MarketMarketItemAvailabilityEnumNames.UNAVAILABLE||0===e.stock_amount?o.getLang("market_single_cart_product_unavailable_text"):void 0}return"hard"===t||"moderation"===t?void 0:i?o.getLang("market_item_card_component_badge_title_adult"):0===e.stock_amount||0!==e.availability?o.getLang("market_single_cart_product_unavailable_text"):void 0}},134349:(e,t,a)=>{a.d(t,{getImageIsomorphic:()=>r});var o=a(258559);const r=({images:e,width:t=0,height:a,isRetina:r=!1})=>{if(!e||0===e.length)return"";const i=r?2:1,n=t*i,l=("number"==typeof a?a:t)*i,s=[...e];(0,o.sort)(s,((e,t)=>e.height<t.height?-1:e.height>t.height?1:e.width<t.width?-1:e.width>t.width?1:0));for(let e=0;e<s.length;e++)if(s[e].width>=n&&s[e].height>=l)return s[e];return s[s.length-1]}},258559:(e,t,a)=>{function o(e,t){return e.sort(t)}a.d(t,{sort:()=>o})},840224:(e,t,a)=>{a.d(t,{useIntersectionObserver:()=>n});var o=a(667294),r=a(365153),i=a(796155);const n=({triggerOnce:e=!1,rootMargin:t,threshold:a=1,delay:n=200})=>{const[l,s]=(0,o.useState)(null),c=1-a,[d,u]=(0,o.useState)(!1),{top:p=0,bottom:_=0,left:m=0,right:g=0}=(0,o.useMemo)((()=>(e=>{if(!e)return{};if(!/^[-+]?\d+px [-+]?\d+px [-+]?\d+px [-+]?\d+px$/.test(e))throw new Error(`useIntersectionObserver: unsupported rootMargin format: ${e}`);const[t,a,o,r]=e.split(" ").map(parseFloat);return{top:t,right:a,bottom:o,left:r}})(t)),[t]);return(0,o.useEffect)((()=>{if((0,i.isIntersectionObserverSupported)()&&l){const t=new IntersectionObserver((([a])=>{u(a.isIntersecting),e&&a.isIntersecting&&t.disconnect()}),{threshold:a,rootMargin:`${p}px ${g}px ${_}px ${m}px`});return t.observe(l),()=>t.disconnect()}}),[a,e,p,_,g,m,l]),(0,o.useEffect)((()=>{if(!(0,i.isIntersectionObserverSupported)()&&l&&(!d||!e)){const e=(0,r.throttle)((()=>{const e=l.getBoundingClientRect();u(e.top+c*e.height>=-p&&e.bottom-c*e.height<=window.innerHeight+_&&e.left+c*e.width>=-m&&e.right-c*e.width<=window.innerWidth+g)}),n);return e(),document.addEventListener("scroll",e,{passive:!0,capture:!0}),()=>document.removeEventListener("scroll",e,{capture:!0})}}),[d,e,p,_,g,m,a,n,l]),[s,d]}},940889:(e,t,a)=>{a.d(t,{MAX_RATIO:()=>r,MIN_RATIO:()=>i,useVideoThumbRatio:()=>n});var o=a(667294);const r=56.25,i=112.54,n=(e=0)=>(0,o.useMemo)((()=>e?e<r?r:e>i?i:+e.toFixed(2):r),[e])},408903:(e,t,a)=>{a.d(t,{useWindowWidth:()=>i});var o=a(667294),r=a(659397);const i=()=>{const[e,t]=(0,o.useState)(window.innerWidth);return(0,o.useEffect)((()=>{const e=()=>t(window.innerWidth);return(0,r.debounce)(e,700),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}},869777:(e,t,a)=>{a.d(t,{useLangContext:()=>n});var o=a(667294);function r(){console.warn("This is default implementation. Please use platform specific lang context")}const i=(0,o.createContext)({getLang:e=>(r(),e),langSex:(e,t)=>(r(),`${t}`),langNumeric:(e,t)=>(r(),t.join("")),langDate:e=>(r(),String(e)),langReplace:e=>(r(),String(e))}),n=()=>(0,o.useContext)(i)},380526:(e,t,a)=>{a.d(t,{KEY:()=>o,checkEvent:()=>i,isMainClick:()=>r,preventLinkOpening:()=>n});const o={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16,META_LEFT:91,META_RIGHT:93};function r(e){return!("click"!==e.type&&"mousedown"!==e.type&&"mouseup"!==e.type||0!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)}function i(e){return!!(e&&e instanceof MouseEvent)&&!r(e)}const n=e=>new Promise((t=>{r(e instanceof MouseEvent?e:e.nativeEvent)&&(e.stopPropagation(),e.preventDefault(),t())}))},468322:(e,t,a)=>{a.d(t,{getPostRawId:()=>o.getPostRawId,initPostAttachmentBlock:()=>r.initPostAttachmentBlock});var o=a(189249),r=a(420155)},189249:(e,t,a)=>{a.d(t,{getPostRawId:()=>r});var o=a(595815);const r=({id:e,item_id:t,owner_id:a})=>{const r=e||t;return a&&r?(0,o.joinRawId)({ownerId:a,itemId:r}):""}},420155:(e,t,a)=>{a.d(t,{initPostAttachmentBlock:()=>n});var o=a(67005),r=a(659397),i=a(234173);function n(e,t){(0,i.tq)().setStartupHandler("PostAttachmentsBlock/init",(({payload:a})=>{if(!a.target)throw new Error("PostAttachmentsBlock: Missing target");if(!a.target.isConnected)return;const{item:i,profiles:n,owner:l,groups:s,attachmentsExpanded:c}=(0,r.decodeHTMLEntitiesDeep)(a.data),d=a.target,u=(0,o.createReactInitiator)(e,d,{destroyAfterNavigation:!1}),p=()=>{u.isMounted()||u.render({item:i,owner:l,profiles:n,groups:s,attachmentsExpanded:c})};p(),t?.(u,p)}))}},270885:(e,t,a)=>{a.d(t,{MaskIcon:()=>i});var o=a(785893),r=a(659397);function i({src:e,size:t,className:a,style:i,...n}){return(0,o.jsx)("div",{className:(0,r.classNames)("MaskIcon",`MaskIcon--${t}`,a),style:{...i,maskImage:`url("${e}")`,WebkitMaskImage:`url("${e}")`,width:`${t}px`,height:`${t}px`},...n})}},520587:(e,t,a)=>{a.d(t,{$isMouseActive:()=>o.$isMouseActive,$selectedItemIndex:()=>o.$selectedItemIndex,fireDownSelectionIndex:()=>o.fireDownSelectionIndex,fireResetItemsIndex:()=>o.fireResetItemsIndex,fireResetSelectionIndex:()=>o.fireResetSelectionIndex,fireSetItemIndex:()=>o.fireSetItemIndex,fireSetSelectionIndexByItem:()=>o.fireSetSelectionIndexByItem,fireUpSelectionIndex:()=>o.fireUpSelectionIndex});var o=a(461332)},461332:(e,t,a)=>{a.d(t,{$isMouseActive:()=>r,$itemsIndex:()=>n,$selectedIndex:()=>i,$selectedItemIndex:()=>l,fireDownSelectionIndex:()=>d,fireResetItemsIndex:()=>_,fireResetSelectionIndex:()=>p,fireSetItemIndex:()=>u,fireSetSelectionIndexByItem:()=>s,fireUpSelectionIndex:()=>c});const o=(0,a(798116).createDomain)("SEARCH_TOP/MODAL"),r=o.createStore(!0,{name:"isMouseActive"}),i=o.createStore(-1,{name:"selectedIndex"}),n=o.createStore([],{name:"maxItemsIndex"}),l=o.createStore(null,{name:"selectedItemIndex"}),s=o.createEvent("fire/SetSelectionIndexByItem"),c=o.createEvent("fire/UpSelectionIndex"),d=o.createEvent("fire/DownSelectionIndex"),u=o.createEvent("fire/SetItemIndex"),p=(o.createEvent("fire/SetItemIndex"),o.createEvent("fire/ResetSelectionIndex")),_=o.createEvent("fire/ResetItemsIndex")},714328:(e,t,a)=>{a.d(t,{checkStopActionOnEventOnShortVideo:()=>_,formatNumberTranslation:()=>g,getThumb:()=>u,hashtagReplaceReact:()=>d,isLockedVideo:()=>p,transformChallengePinnedItems:()=>m});var o=a(785893),r=a(659397),i=a(800856),n=a(595815),l=a(108538),s=a(471828),c=a(433830);function d(e,t,a){return(0,o.jsx)(i.Link,{href:`/clips/hashtag/${encodeURIComponent(t.slice(1))}`,onClick:a,"data-testid":"hashtag",children:t},e)}function u(e,t,a){const o=e.filter((e=>!e.with_padding));return(0,r.getPhotoSize)(o.length?o:e,t,a)?.url}function p(e,t){return Boolean(t?.userIsAdmin)&&Boolean(e.privacyView&&!function(e){return function(e,t){return!e.category||!t.length||t.includes(e.category)}(e,["all","any"])&&0===(e?.excludedCategory?.length||0)&&0===(e?.lists?.allowed?.length||0)&&0===(e?.lists?.excluded?.length||0)&&0===(e?.owners?.allowed?.length||0)&&0===(e?.owners?.excluded?.length||0)}(e.privacyView))}const _=e=>{const t=e?.target,a=new RegExp(`^https?:\\/\\/${c.VK_HOST_REGEX_UNSAFE.source}\\/clip(-?\\d+_\\d+)$`);return!!t?.href&&a.test(t.href)};function m(e){const t=new Map,a=[];return e?.forEach((e=>{const o=(0,n.joinRawId)({ownerId:e.video?.owner_id??0,itemId:e.video?.id??0});a.push(o),e.label&&t.set(o,e.label)})),{idToLabel:t,pinnedItems:a}}function g(e,t){return`${(0,l.formatCount)(e)} ${(0,s.langNumeric)(e>=1e3?1e3:e,t)}`}},826068:(e,t,a)=>{a.d(t,{isVKUserAnonymous:()=>r});var o=a(184132);const r=()=>o.Ranges.isZeroOwner(window.vk.id)},629866:(e,t,a)=>{a.d(t,{getAPIErrorMessage:()=>r,isRequestAbortError:()=>i});var o=a(471828);const r=e=>e.error_text||e.error_msg||o.getLang("global_unknown_error"),i=e=>e instanceof DOMException&&(20===e.code||"AbortError"===e.name)},924130:(e,t,a)=>{a.d(t,{isBasePrivacyLimited:()=>o});const o=e=>!(e=>!e||((e,t)=>!e?.category||!t?.length||t.includes(e.category))(e,["all","any"])&&0===(e?.excluded_category?.length||0)&&0===(e?.lists?.allowed?.length||0)&&0===(e?.lists?.excluded?.length||0)&&0===(e?.owners?.allowed?.length||0)&&0===(e?.owners?.excluded?.length||0))(e)},747610:(e,t,a)=>{a.d(t,{encodeUrlSearchParams:()=>o});const o=(e,t="")=>{const a=Object.entries(e).filter((([,e])=>Boolean(e||0===e))).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");return a?`${t}${a}`:""}},190349:(e,t,a)=>{a.d(t,{formatDateTime:()=>i});var o=a(471828),r=a(902947);const i=(e=0,t=!1)=>{if(!e)return"";const a=3600,i=1e3*e,n=new Date(i),l=new Date,s=(Date.now()-n.getTime())/1e3,c=n.getFullYear(),d=n.getMonth();if(s<5)return o.getLang("mobile_profile_status_just_now");if(s<60)return o.getLang("mobile_profile_status_secs_ago",Math.ceil(s));if(s<a){const e=Math.ceil(s/60),t=o.getLang("mobile_profile_status_word_mins_ago","raw");return(0,r.isArray)(t)&&e<t.length?t[e]:(0,o.langNumeric)(e,o.getLang("mobile_profile_status_mins_ago","raw"))}if(s/a<5){const e=Math.ceil(s/a),t=o.getLang("mobile_profile_status_word_hours_ago","raw");return(0,r.isArray)(t)&&e<t.length?t[e]:(0,o.langNumeric)(e,o.getLang("mobile_profile_status_hours_ago","raw"))}const u=l.getFullYear(),p=l.getMonth(),_=t?o.getLang("months_of","raw"):o.getLang("months_sm_of","raw");return c<u&&(p>1||d<9||u-c>=2)?(0,o.langDate)(i,o.getLang("global_date","raw"),0,_):(0,o.langDate)(i,o.getLang("global_short_date_time","raw"),0,_)}},717402:(e,t,a)=>{a.d(t,{formatViews:()=>r});var o=a(471828);const r=(e=0,t=!1)=>{if(e<=1e3)return t?o.getLang("video_N_views_list",e):e.toString();let a=1;const r=e>1e6?"M":"K",i=e>1e6?1e6:1e3,n=e/i;n.toFixed(a).endsWith("0")&&(a=0);const l=(n.toFixed(a)+r).replace(".",",");if(t){const e=Math.trunc(n)*i;return o.getLang("video_N_views_list",e).replace(e.toString(),l)}return l}},802509:(e,t,a)=>{a.d(t,{getOwnerAvatar:()=>i});var o=a(134349),r=a(902947);const i=e=>{if(e){if("photo"in e){if((0,r.isArray)(e.photo)){const t=(0,o.getImageIsomorphic)({images:e.photo,width:50,isRetina:(0,r.isRetina)()});return t&&t.url||""}return e.photo||""}if("photo_100"in e&&"photo_100"in e)return(0,r.isRetina)()?e.photo_100||e.photo_50||"":e.photo_50||""}return""}},759286:(e,t,a)=>{a.d(t,{createPercentMask:()=>r});var o=a(978186);const r=({min:e=0,max:t=100,precision:a}={})=>{const r=(0,o.maskitoNumberOptionsGenerator)({min:e,max:t,postfix:"%",precision:a}),i=[...r.plugins,(0,o.maskitoCaretGuard)((e=>[0,e.length-1]))];return{...r,plugins:i}}},85488:(e,t,a)=>{e.exports=a.p+"icons/d1289e257c576849dc79.png"},499826:(e,t,a)=>{e.exports=a.p+"icons/eb34a7ce93575efa8ea2.png"},997434:(e,t,a)=>{e.exports=a.p+"icons/f68633b3226eb80eb0e5.png"},443367:(e,t,a)=>{e.exports=a.p+"icons/a625f522850d3f05797b.png"},502689:(e,t,a)=>{e.exports=a.p+"icons/0654607bdbf008505a06.png"},455170:(e,t,a)=>{e.exports=a.p+"icons/acc6ee2b3c635581063c.png"},294307:(e,t,a)=>{e.exports=a.p+"icons/c7c5be0c7d1faaddf81f.png"},937865:(e,t,a)=>{e.exports=a.p+"icons/6711bd23dfd967f8a731.png"},628437:(e,t,a)=>{e.exports=a.p+"icons/64afafc2bd775171824f.png"},906801:(e,t,a)=>{e.exports=a.p+"icons/852878cf12c43665ba28.png"},672849:(e,t,a)=>{e.exports=a.p+"icons/c43932c5433880a2ac5e.png"},5940:(e,t,a)=>{e.exports=a.p+"icons/2f828bb390fcc9ec0d99.png"},289091:(e,t,a)=>{e.exports=a.p+"icons/00d61a435d09788564b2.png"},688383:(e,t,a)=>{e.exports=a.p+"icons/06ef97600c9629d01d86.png"},909744:(e,t,a)=>{e.exports=a.p+"icons/8c399c6a14d1f6857ceb.png"},274976:(e,t,a)=>{e.exports=a.p+"icons/d2457ede2462017e23a9.png"},382415:(e,t,a)=>{e.exports=a.p+"icons/1bc03f9fa4c9a6ed6d2b.png"},895472:(e,t,a)=>{e.exports=a.p+"icons/2e688c60ced2156e2b1a.png"},828873:(e,t,a)=>{e.exports=a.p+"icons/9da0ad79ea4f455a20bf.png"},562253:(e,t,a)=>{e.exports=a.p+"icons/2d13d920dad2c04c6880.png"},595192:(e,t,a)=>{e.exports=a.p+"icons/5bf1a7625b67535607ca.png"},319525:(e,t,a)=>{e.exports=a.p+"icons/9e43c8c90eb7213b5fd6.png"},715895:(e,t,a)=>{e.exports=a.p+"icons/48af32969c7a5f8e504e.png"},88129:(e,t,a)=>{e.exports=a.p+"icons/67c4202e52d2565da2cd.png"},989573:(e,t,a)=>{a.d(t,{pending:()=>i});var o=a(798116),r={some:e=>e.some(Boolean),every:e=>e.every(Boolean)};function i(e){var{effects:t,domain:a,of:i="some"}=e;if(!o.is.domain(a,{sid:"97b92c"})&&!t)throw new TypeError("domain or effects should be passed");if("some"!==i&&"every"!==i)throw new TypeError('strategy parameter "of" can be "every" or "some". Passed: "'.concat(i,'"'));var n=null!=t?t:[],l=r[i];return a&&(n=[],a.onCreateEffect((e=>n.push(e)))),(0,o.combine)({and:[n.map((e=>e.pending)),l],or:{sid:"a37bj0"}})}},997650:(e,t,a)=>{a.d(t,{observe:()=>c,useInView:()=>d});var o=a(667294);const r=new Map,i=new WeakMap;let n,l=0;function s(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(a=e.root,a?(i.has(a)||(l+=1,i.set(a,l.toString())),i.get(a)):"0"):e[t]}`;var a})).toString()}function c(e,t,a={},o=n){if(void 0===window.IntersectionObserver&&void 0!==o){const r=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:"number"==typeof a.threshold?a.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),()=>{}}const{id:i,observer:l,elements:c}=function(e){let t=s(e),a=r.get(t);if(!a){const o=new Map;let i;const n=new IntersectionObserver((t=>{t.forEach((t=>{var a;const r=t.isIntersecting&&i.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=r),null==(a=o.get(t.target))||a.forEach((e=>{e(r,t)}))}))}),e);i=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),a={id:t,observer:n,elements:o},r.set(t,a)}return a}(a);let d=c.get(e)||[];return c.has(e)||c.set(e,d),d.push(t),l.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(c.delete(e),l.unobserve(e)),0===c.size&&(l.disconnect(),r.delete(i))}}o.Component;function d({threshold:e,delay:t,trackVisibility:a,rootMargin:r,root:i,triggerOnce:n,skip:l,initialInView:s,fallbackInView:d,onChange:u}={}){var p;const[_,m]=o.useState(null),g=o.useRef(),[v,S]=o.useState({inView:!!s,entry:void 0});g.current=u,o.useEffect((()=>{if(l||!_)return;let o;return o=c(_,((e,t)=>{S({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&n&&o&&(o(),o=void 0)}),{root:i,rootMargin:r,threshold:e,trackVisibility:a,delay:t},d),()=>{o&&o()}}),[Array.isArray(e)?e.toString():e,_,i,r,n,l,a,d,t]);const f=null==(p=v.entry)?void 0:p.target,C=o.useRef();_||!f||n||l||C.current===f||(C.current=f,S({inView:!!s,entry:void 0}));const h=[m,v.inView,v.entry];return h.ref=h[0],h.inView=h[1],h.entry=h[2],h}}}]);try{stManager.done("dist/web/chunks/99f9ec37.364675d2.js")}catch(e){}