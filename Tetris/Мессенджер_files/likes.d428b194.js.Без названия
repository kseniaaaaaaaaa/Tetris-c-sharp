(()=>{"use strict";var e,t,o,n,i,r,s={471984:(e,t,o)=>{o.d(t,{registrationItemStat:()=>s});var n=o(322695);const i=new n.ProductionStatCollector,r=new n.ActionStatCollector(i),s=new n.RegistrationItemStatCollector(r)},625529:(e,t,o)=>{o.r(t),o.d(t,{Index:()=>x,showJoinBox:()=>T,showQuickLoginBox:()=>E});var n=o(411374),i=o(97875),r=o(449147),s=o(994676),a=o(93367),c=o(488844),l=o(159663),d=o(585703),u=o(471828),_=o(636322),h=o(70689),p=o(322695),m=o(471984),v=o(908627),g=o(235693),w=o(722400),k=o(612291),f=o(166695),b=o(460725),y=o(617974),S=o(977053),I=o(953368);function E(e){const t={act:"box"};return e&&(t.flow_source=e),(0,l.showBox)("al_login.php",t),!1}function T(e){const t={act:"box",from:window.nav.strLoc};return e&&(t.flow_source=e),(0,l.showBox)("join.php",t),!1}let L="",C=[],A=[];const x={initNew:function(){(0,h.$$)(".index_login .big_text").forEach((e=>{(0,r.placeholderInit)(e)})),setTimeout((()=>(0,h.elfocus)("index_email")),0);let e=(0,h.ge)("index_login_form"),t=(0,h.ge)("index_email"),o=(0,h.ge)("index_pass");e&&t&&o&&(e.onsubmit=function(){if(!window.submitQuickLoginForm)return!0;if(!(0,_.trim)(t.value))return(0,c.notaBene)(t),!1;if(!(0,_.trim)(o.value))return(0,c.notaBene)(o),!1;const e=(0,g.isEmail)(t.value)?p.RegistrationItemEventTypes.INPUT_EMAIL:p.RegistrationItemEventTypes.INPUT_PHONE;return m.registrationItemStat.logEvent(e,cur.eventScreen,void 0,{force:!0}),submitQuickLoginForm(t.value,o.value,{prg:"index_login_button",params:{expire_input:(0,h.val)("index_expire_input")}}),!1},t.oninput=function(){x.isLoginInputDirty||(m.registrationItemStat.logEvent(p.RegistrationItemEventTypes.LOGIN_TAP,p.EventScreens.START,void 0,{force:!0}),x.isLoginInputDirty=!0)},o.oninput=function(){x.isPasswordInputDirty||(m.registrationItemStat.logEvent(p.RegistrationItemEventTypes.PASSWORD_TAP,p.EventScreens.START,void 0,{force:!0}),x.isPasswordInputDirty=!0)},window.loginByCredential&&(t.onclick=loginByCredential,o.onclick=loginByCredential),(0,v.initVKComboIndexPromo)(),this.initGallery(),this.initReLoginHandlers())},initGallery:function(){const e=document.querySelector("#user_gallery");e&&(cur.userGallery=new k.UIGallery(e))},initReLoginHandlers:function(){window.onReLoginDone=function(e){location.href=e},window.onReLoginFailed=function(e){-1===e&&(location.href=location.href.replace(/^http:/,"https:"))}},loadSavedUsers(){const e=document.querySelector("#index_saved_users");e&&(0,f.login)("connect_get_saved_users").then((t=>t&&t.user_ids&&t.user_ids.length&&t.auth_hash?(L=t.auth_hash,A=t.hashes,C=t.user_ids,new Promise(((o,n)=>{ajax.post("/al_index.php?act=a_render_users",{user_ids:t.user_ids,hashes:t.hashes},{onDone:t=>{e.insertAdjacentHTML("afterend",t),e.remove(),this.initGallery(),o()},onFail:e=>{n(e)}})}))):Promise.reject())).catch((()=>{e.remove()}))},authSavedUser(e){(0,S.partConfigEnabled)("vkid_add_app_id_to_stats")?(0,b.logSavedUsersAuthStart)(y.AuthAppId.VK):(0,b.logSavedUsersAuthStart)();const t=btoa(location.protocol+"//"+location.host+(0,I.getToParam)());return(0,f.login)("connect_auth_saved_users",{user_id:e,auth_hash:L,from:"carousel",to:t}).then((e=>{if(!e.url)return Promise.reject();location.href=e.url})).catch((()=>{ajax.post("/join.php?act=connect_saved",{user_id:e,auth_hash:L,to:t,user_hash:A[C.indexOf(e)]})})),!1},deleteSavedUser(e,t,o,n){(0,b.logSavedUsersDropAccount)(),(0,f.login)("connect_delete_saved_users",{user_id:e,auth_hash:L});const i=(0,S.partConfigEnabled)("vkidexp_1823_fix_deleted_selector")?o.currentTarget.parentNode:n;return cur.userGallery&&cur.userGallery.removeItem(i),(0,a.cancelEvent)(o)},initVkId:function(e){this.initReLoginHandlers(),"old"===e.mode?this.initGallery():this.loadSavedUsers();const t=document.querySelector(".index_rcolumn--vkid");t&&(0,w.initVkIdForm)(t,"main",e)},showRegTT:function(e,t){let o,n="INPUT"===e.tagName,i=e;(!n&&(o=(0,h.geByClass1)("selector_table",e))||!n&&(o=(0,h.geByClass1)("radiobtn",e)))&&(i=o);let r=function(){(0,d.showTooltip)(i,{text:t,dir:"right",width:320,typeClass:"ij_tt",shift:[335,-(0,h.getSize)(i)[1]/2],hasover:1,nohideover:1,onCreate:function(){(0,a.removeEvent)(i,"mouseout"),n&&(i.onblur=function(){i.tt&&i.tt.hide&&i.tt.hide()})}})};n?(e.onfocus=r,(0,c.notaBene)(e)):(r(),(0,_.each)((0,h.geByClass)("selector_table",e),(function(e,t){(0,c.notaBene)(t)})))},showLoginBox(e,t){if(!t||"Enter"===t.code)return(0,l.showBox)("al_login.php",{act:"auth_box",ul:e},{params:{hideButtons:!0,bodyStyle:"padding: 44px 25px;"}}),!1},showLoginBoxWithStats(e,t){const o=document.querySelector("#index_save_user_checkbox"),n=o?.checked?1:0;return m.registrationItemStat.logFieldInteraction(p.RegistrationFieldItemNames.SAVED_AUTHORIZATION_ON,String(n)),m.registrationItemStat.logEvent(p.RegistrationItemEventTypes.SCREEN_PROCEED,p.EventScreens.NOWHERE,p.EventScreens.START_PROCEED_AS,{force:!0}),m.registrationItemStat.logEvent(p.RegistrationItemEventTypes.ADD_ACCOUNT_TO_SAVED_START,p.EventScreens.START_PROCEED_AS,p.EventScreens.NOWHERE,{force:!0}),x.showLoginBox(e,t)},showQuickLoginBox:E,showJoinBox:T,deleteRecentAccount:function(e,t,o,n,i){return window.tooltips&&tooltips.hideAll(),ajax.post("/al_login.php?act=a_delete_recent_account",{mid:t,hash:o},{onDone:function(){cur.userGallery&&cur.userGallery.removeItem(i)}}),(0,a.cancelEvent)(n)},generateDays:function(e,t){let o=[[0,u.getLang("index_sel_bday")]],i=(0,n.getLastDay)(e,t);for(let e=1;e<=i;++e)o.push([e,e+""]);return o},updateDays:function(e,t,o){o||(o=cur.uiBday),o.val()>(0,n.getLastDay)(e,t)&&o.clear(),o.setData(x.generateDays(e,t).slice((0,_.intval)(cur.options.bday)?1:0))},fbCheck:function(e,t,o){window.fbAsyncInit=function(){FB.init({appId:e,xfbml:!0,version:"v2.7"});let n="_box"===t;o||(o=(0,h.ge)("index_fbcontinuewithsign"+(t||""))),(0,h.setStyle)(o,{opacity:0,height:0,overflow:"hidden"}),(0,h.show)(o),FB.Event.subscribe("xfbml.render",(()=>{(0,i.animate)(o,{height:n?79:55,opacity:1},200)}))},window.FB&&window.FB.init?window.fbAsyncInit():function(e,t,o){let n,i=e.getElementsByTagName(t)[0];e.getElementById(o)||(n=e.createElement(t),n.id=o,n.src="//connect.facebook.net/"+cur.fbLocale+"/sdk.js",i.parentNode.insertBefore(n,i))}(document,"script","facebook-jssdk")},fbJoin:function(e,t){cur.fbContext=e,cur.fbLoginButton=t,m.registrationItemStat.logFieldInteraction(p.RegistrationFieldItemNames.FACEBOOK_REGISTRATION,p.EventFieldValues.REGISTERED_VIA_FB),m.registrationItemStat.logEvent(p.RegistrationItemEventTypes.SCREEN_PROCEED,p.EventScreens.START,p.EventScreens.OAUTH_FB,{force:!0}),(0,s.setCookie)("remixfbstate",cur.fbState,30,null,"None",!1);let o=location.protocol+"//"+location.host+"/join?act=fb_sign",n=encodeURIComponent(o),i="https://graph.facebook.com/v3.3/oauth/authorize?client_id="+cur.fbApp+"&redirect_uri="+n+"&scope=email,user_birthday&display=popup&state="+cur.fbState,r=void 0!==window.screenX?window.screenX:window.screenLeft,a=void 0!==window.screenY?window.screenY:window.screenTop,c=void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth,l=void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight-22,d=parseInt(r+(c-640)/2,10),u=parseInt(a+(l-340)/2.5,10);return window.open(i,"fb_sign","width=640,height=340,left="+d+",top="+u),!1},fbFinish:function(e){e.error?(m.registrationItemStat.logFieldInteraction(p.RegistrationFieldItemNames.FACEBOOK_REGISTRATION,p.EventFieldValues.REGISTERED_VIA_FB),m.registrationItemStat.logEvent(p.RegistrationItemEventTypes.SCREEN_PROCEED,p.EventScreens.OAUTH_FB,p.EventScreens.FACEBOOK_REGISTRATION_FAILED,{force:!0}),setTimeout((0,l.showFastBox)(u.getLang("global_error"),e.error).hide,2e3)):e.date&&((0,c.lockButton)(cur.fbLoginButton||(0,h.ge)("index_fb"+(cur.fbContext||""))),nav.go("/join?act=fb_start"))}}},235693:(e,t,o)=>{o.d(t,{isEmail:()=>a,isPhoneNumber:()=>s});var n=o(636322);const i=/^\+?[\d]{4,18}$/,r=/^\S+@\S+\.\S+$/;function s(e){return e=(0,n.trim)(e),Boolean(e.match(i))}const a=e=>(e=(0,n.trim)(e),Boolean(e.match(r)))},304300:(e,t,o)=>{o.d(t,{Likes:()=>E});var n=o(70689),i=o(93367),r=o(585703),s=o(636322),a=o(97875),c=o(30655),l=o(902947),d=o(159663),u=o(184132),_=o(471828),h=o(751602),p=o(205070),m=o(863218),v=o(750030),g=o(511051),w=o(430506),k=o(14134),f=o(491495),b=o(105940),y=o(534691),S=o(937228),I=o(199777);const E={toggle(e,t,o,r){if((0,i.cancelEvent)(t),(0,l.isObject)(window.cur)&&(0,l.isFunction)(cur.viewAsBox))return cur.viewAsBox();if(vk.widget&&!vk.id)return window.Widgets.oauth();const s=(0,n.hasClass)(e,"active");(0,n.addClass)(e,"animate"),this.clientUpdate(o,p.LikeButtonTypes.like,s?-1:1,!s),this.handleAuthorLikeInReply(o,e,s);const{objectType:a}=(0,h.parseLikeObjectId)(o),c=(0,h.isObjectTypeIsVideo)(a),d=c?(0,f.getVideoTrackCode)():void 0,u={act:s?"a_do_unlike":"a_do_like",object:o,hash:r,list:cur.pvListId,wall:2,from:this._getReference(o),from_widget:vk.widget?1:0,track_code:d,event_subtype:(0,I.getFeedEventSubtype)()},_=()=>((0,n.toggleClass)(e,"active",s),this.clientUpdate(o,p.LikeButtonTypes.like,s?1:-1,s),this.handleAuthorLikeInReply(o,e,!s),!1);window.ajax.post("like.php",u,{onDone:t=>{if(t.unauth_action_box)return _(),void w.UnauthActionBox.show(t.unauth_action_box,{onLogin:c?window.VideoShowcase?.login:void 0});this.update(o,t);const n=o.match(/^(wall|market)(.*)/);n&&cur.onLike&&cur.onLike(e,n[1],n[2],s),this.handleAuthorLikeInReply(o,e,s,t)},onFail:_});(0,l.intval)((0,n.domData)(e,"count"))>0?E.showLikes(e,o,{fast:!0}):e.tt&&e.tt.destroy&&e.tt.destroy()},_getReference:e=>cur.pvShown?"photo_viewer":e===cur.wallLayer?"wkview":window.mvcur&&window.mvcur.mvShown?"videoview":cur.wallType?"feed"===cur.wallType?"news"===cur.section?`feed_${cur.subsection?cur.subsection:cur.section}`:"recommended"===cur.section?"feed_recommended"+("recent"!==cur.subsection?"_"+cur.subsection:""):(0,s.inArray)(cur.section,["friends","groups","videos","photos"])?"feed_"+(cur.subsection?"_"+cur.subsection:""):`feed_${cur.section}`:"top"===cur.wallType?"wall_top":"wall_"+(cur.onepost?"one":(cur.wallType||"").indexOf("full_")?"page":"full"):cur.module,share(e,t={},o=void 0){if(vk.widget&&!vk.id)return window.Widgets.oauth();if((0,l.isObject)(window.cur)&&(0,l.isFunction)(cur.viewAsBox))return cur.viewAsBox();if(window.cur){const e=(0,b.getTrackCodeFromPost)(o);window.cur.shareButtonTrackCode=e}const{objectType:n,objectId:i}=(0,h.parseLikeObjectId)(e),r=(0,h.isObjectTypeIsVideo)(n);(vk.widget?window.showBox:d.showBox)("like.php",{act:"publish_box",object:e,from_widget:vk.widget?1:0,...t},{onDone:(e,t)=>{t.unauth_action_box&&(e.hide(),w.UnauthActionBox.show(t.unauth_action_box,{onLogin:r?window.VideoShowcase?.login:void 0}))},stat:[window.jsc("web/page.js"),"page.css",window.jsc("web/wide_dd.js"),"wide_dd.css",window.jsc("web/sharebox.js")]}),"wall"===n&&window.Wall&&window.Wall.triggerAdPostStat(i,"share_post"),cur.RpcMethods&&(cur.RpcMethods.likeFullUpdate=t=>E.update(e,window.cleanObj(t)))},clientUpdate(e,t,o,i){const r=this._getButtonsByType(e,t);if(!r.length)return;const s=(0,l.intval)((0,n.domData)(r[0],"count"))+o;this._updateDom(e,t,s,i),this.updateExternalIndex(e,{type:t,count:s,isActive:i})},update(e,t){if(!isNaN(parseInt(t.like_num))){const o=(0,l.isUndefined)(t.like_my)?void 0:!!(0,l.intval)(t.like_my);this._updateDom(e,p.LikeButtonTypes.like,t.like_num,o,t.like_title,t.like_from_group),this.updateExternalIndex(e,{type:p.LikeButtonTypes.like,count:t.like_num,isActive:o})}if(!isNaN(parseInt(t.share_num))){const o=(0,l.isUndefined)(t.share_my)?void 0:!!(0,l.intval)(t.share_my);this._updateDom(e,p.LikeButtonTypes.share,t.share_num,o,t.share_title),this.updateExternalIndex(e,{type:p.LikeButtonTypes.share,count:t.share_num})}if((0,s.isNumeric)(t.views_num)&&this._updateDom(e,p.LikeButtonTypes.views,t.views_num,void 0,t.views_title),(0,s.isNumeric)(t.comment_num)&&this._updateDom(e,p.LikeButtonTypes.comment,t.comment_num),t[m.REACTIONS_COUNTS_RESPONSE_FIELD]){const o=!!t.isQueueUpdate;(0,g.triggerReactionsUpdate)(e,t[m.REACTIONS_COUNTS_RESPONSE_FIELD],void 0,{isQueueUpdate:o,isUserAction:!1,previewVisibility:v.previewVisibilityUseCurrent})}},updateComments(e,t){this.update(e,{comment_num:t})},_updateDom(e,t,o,i,r,c){const d=this._getButtonsByType(e,t),u=t===p.LikeButtonTypes.views;if(!d?.length)return;let m="";u?m=o:o>0&&(m=vk.widget?(0,s.formatCount)(o):(0,_.langNumeric)(o,"%s",!0)),u||(o=(0,l.intval)(o));for(let e=0;e<d.length;e++){const s=d[e];if((0,n.hasClass)(s,"no_counter"))continue;const v=u?d[e]:(0,h.getElementLikeButtonCount)(d[e]);if((0,a.animateCount)(v,m,{str:"auto",noWrapWidth:!u,noSpaceIfEmpty:!0}),(0,n.toggleClass)(s,"empty",o<=0),"boolean"==typeof i&&(0,n.toggleClass)(s,"active",i),(0,n.attr)(d[e],"data-count",o),(0,n.attr)(s,"data-combine")){const e=i?_.getLang("global_dislike"):`${_.getLang("global_like")}${o?" "+o:""}`;(0,n.attr)(s,"title")!==e&&(0,n.attr)(s,"title",e)}(0,k.updateAriaLabelCounter)(s,o,t),u&&s?.closest?.(".like_views")?.setAttribute("title",r||"");const g=d[e].tt;if(g){const e=(0,n.domByClass)(g.container,"_content"),a=(0,n.domByClass)(g.container,"_value"),d=(0,n.domByClass)(g.container,"_title"),u=(0,n.domByClass)(g.container,"like_tt_group_like"),_=(0,l.intval)((0,n.val)(a));if((0,n.val)(a,o),r&&(0,n.val)(d,r),(0,l.isObject)(g)&&(g.likeInvalidated=!0),(_!==o&&_<7||!1===r)&&(t===p.LikeButtonTypes.like?s.needReinitLikesTT=!0:t===p.LikeButtonTypes.share&&(s.needReinitShareTT=!0)),t===p.LikeButtonTypes.like&&(0,n.toggleClass)(e,"me_hidden",!i),!1===r&&g.destroy&&g.destroy(),void 0!==c&&u){const e="like_tt_group_like_hidden";c?u.classList.remove(e):u.classList.add(e)}}}},_getButtonsByType:(e,t)=>(0,n.domQuery)(`._like_${e} ._${t}, ._like_${e} [data-like-button-type="${t}"]`),showLikes(e,t,o={}){if(!e||!(e instanceof HTMLElement)||e.postDontShowLikes)return;if(vk.widget&&vk.show_external_auth_box)return;let i=o.views?{views:1}:o.share?{published:1}:{};o.listId&&(i.list=o.listId),o.like_hash&&(i.like_hash=o.like_hash),o.like_stats_params&&Object.assign(i,o.like_stats_params);const a=!!(0,n.geByClass1)("share",(0,n.gpeByClass)("like_wrap",e));let c=document.body,d=!1;const u=getComputedStyle(e),_=(0,l.intval)(u.getPropertyValue("padding-left").replace("px","")),p=(0,l.intval)(u.getPropertyValue("padding-top").replace("px","")),m=(0,h.getElementLikeButtonIcon)(e);let v=40;"wpost"===o.from&&(v=24);const g=[v-(0,n.getSize)(m)[0]/2-_,10-p];let w=o.cl||"";if(o.share)w+="likes_tt_share";else if(w+="likes_tt_like","widget_community"===o.from)g[0]=6;else if("wcomments"===o.from||"widget_comments"===cur.wallType){const t=16,o=10;g[0]=(0,n.getSize)(e)[0]+t-(0,n.getSize)(m)[0]/2-o}else"photo_carousel"===o.from&&(g[1]=10);if(!!o?.isFromReactionsPreview){const t=e.querySelector("._ReactionsPreview__itemsContainer");if(t){const e=t.querySelector(".ReactionsPreviewItem"),o=(0,n.getXYRect)(e,!1),i=(o.width||0)/2;let r=i;c=t;o.left+o.width/2>window.innerWidth/2&&(d=!0,r=t.offsetWidth-i),g[0]=-r+v}}let k,f;o.share?(k="needReinitLikesTT",f="resetLikesTTTimer"):(k="needReinitShareTT",f="resetShareTTTimer"),clearTimeout(e[f]),(0,r.showTooltip)(e,{url:"/like.php",params:(0,s.extend)({act:"a_get_stats",object:t,has_share:a?1:""},i),appendEl:c,slide:15,shift:g,ajaxdt:o.fast?0:100,showdt:o.fast?0:400,hidedt:200,dir:"auto",checkLeft:!0,needLeft:d,reverseOffset:80,noZIndex:!0,hasover:!0,tip:{over:()=>{E.showLikes(e,t,o)}},typeClass:"like_tt",className:w,onHide:()=>{clearTimeout(e[f]),e[k]&&(e[f]=setTimeout((()=>{delete e[k],e.tt&&e.tt.destroy&&e.tt.destroy()}),200))}})},showShare:function(e,t,o){E.showLikes(e,t,(0,s.extend)(o,{share:1}))},updateViews:(e,t)=>{vk.widget&&vk.show_external_auth_box||window.ajax.post("like.php",{act:"a_get_stats",object:e,views:1},{cache:1,onDone(t,o){const i=(0,n.ce)("div",{innerHTML:o});E._updateDom(e,p.LikeButtonTypes.views,t,void 0,i.innerText||i.textContent)}})},makeTemplate(e,t){if(!e)return"";(t=(0,s.extend)({buttons_prepend:"",object_raw:"",likes_count:"",liked:!1,share_count:"",shared:"",views_count:"",share_opts:{},like_opts:{},class_name:"",like_cont_class:"",like_class_name:"",[m.REACTIONS_COUNTS_RESPONSE_FIELD]:"",reactions_class_name:""},t)).like_active=t.liked?"active":"",t.share_active=t.shared?"active":"",t.comment_active="",t.likes_formatted_count=t.likes_count>0?(0,_.langNumeric)(t.likes_count,"%s",!0):"",t.share_formatted_count=t.share_count>0?(0,_.langNumeric)(t.share_count,"%s",!0):"",t.share_opts=this._convertOptsToString(t.share_opts),t.like_opts=this._convertOptsToString(t.like_opts),t.like_class_name+=t.likes_count>0?"":" empty",t.share_class_name=t.share_count>0?"":"empty";const o=t[m.REACTIONS_COUNTS_RESPONSE_FIELD],i=!!o&&Object.values(o).some((e=>!!e));return t.reactions_class_name+=i?"":" PostBottomAction--empty",(0,n.rs)(e,t)},_convertOptsToString:e=>JSON.stringify(e).replace(/\"/g,"'"),updateExternalIndex(e,t={}){const{objectType:o,objectId:n}=(0,h.parseLikeObjectId)(e);switch(o){case"photo":if(!cur.pvShown||!cur.pvCurPhoto||cur.pvCurPhoto.id!==n)return;const e=cur.pvListId,o=cur.pvIndex,i=cur.pvData[e][o];t.type===p.LikeButtonTypes.like?(i.likes=t.count,i.liked=t.isActive,cur.pvCommsLikes[i.id][1]=t.count):t.type===p.LikeButtonTypes.share&&(i.shares=t.count);break;case"video":if(window.mvcur&&window.mvcur.mvShown&&window.mvcur.videoRaw===n&&t.type===p.LikeButtonTypes.like){const e=window.Videoview.getMvData();e.likes=t.count,void 0!==t.isActive&&(e.liked=t.isActive,window.Videoview.playerOnLiked(t.isActive),window.Videoview.recache())}break;case"clip":t.type===p.LikeButtonTypes.like&&window.Videoview.playerOnLiked(t.isActive)}},showLikesList(e,t){cur.viewAsBox||(0,n.hasClass)((0,n.gpeByClass)("like_btn",e),"no_counter")||(0,c.showWiki)({w:"likes/"+(0,s.clean)(t)},!1,!1,{queue:1})},showSharesList(e,t){cur.viewAsBox||(0,n.hasClass)((0,n.gpeByClass)("like_btn",e),"no_counter")||(0,c.showWiki)({w:"shares/"+(0,s.clean)(t)},!1,!1,{queue:1})},handleAuthorLikeInReply(e,t,o,n){const{objectId:i}=(0,h.parseLikeObjectId)(e),r=(0,y.getPostElemByChildEl)(t),s=Number(r?.dataset?.postAuthorId),a=r?.querySelector(`.reply#post${i}`)?.querySelector(".HighlightingAuthorLike");if(!a||!u.Ranges.isUserId(s)||vk.id!==s)return;const c="HighlightingAuthorLike--hidden";(n?n.like_my:!o)?(a.classList.remove(c),n&&(0,S.renderAuthorUserOnboardingTooltip)(a)):a.classList.add(c)}}},647379:(e,t,o)=>{o.d(t,{initVkId:()=>r});var n=o(988882);const i=7913379;function r(){const{loginDomain:e,connectDomain:t}=window.vk.apiConfigDomains;n.Config.init({appId:i,loginDomain:e,connectDomain:t})}},617974:(e,t,o)=>{var n;o.d(t,{AuthAppId:()=>n}),function(e){e[e.VK=7913379]="VK",e[e.MVK=7934655]="MVK"}(n||(n={}))},825836:(e,t,o)=>{var n=o(802130),i=o(304300);window.vk?.pe?.static_manager_dynamic_imports&&window.vk?.stDomain&&(o.p=window.vk.stDomain+"/dist/"),window.Likes=i.Likes;try{window.stManager.done(window.jsc("web/likes.js"))}catch(e){}requestIdleCallback((()=>{try{(0,n.statlogsValueEvent)("entries_requests",1,"likes","web")}catch{}}),{timeout:5e3})},908627:(e,t,o)=>{o.d(t,{initVKComboIndexPromo:()=>r});var n=o(234173),i=o(289372);function r(){(0,n.tq)().setInteractiveHandler("IndexComboPromo/register",(e=>{const{source:t}=e.payload.dataAttrs||{};i.Unauthorized.showMoreBox(null,0,t)}))}},665048:(e,t,o)=>{o.d(t,{showErrorNotification:()=>a});var n=o(785893),i=o(86894),r=o(740685),s=o(284658);function a(e){const t=window.cur;(0,s.showMessageBoxModal)((({onClose:t})=>(0,n.jsx)(i.ModalCardBase,{header:e.title,subheader:e.text,onClose:t})),{hideOnBGClick:!0,onDestroy(){t.zNavInfo&&(0,r.zNav)(t.zNavInfo.info,t.zNavInfo.opts)}})}},826695:(e,t,o)=>{o.d(t,{initJoinForm:()=>h});var n=o(488844),i=o(70689),r=o(251087),s=o(449147),a=o(261712),c=o(953368),l=o(322695),d=o(471984),u=o(226059);const _="join_form_sex";function h(e,t){const{from:o,bdateMonths:h,bdateYears:p,proceedAs:m,fbApp:v,fbState:g,fbLocale:w,ref:k,values:f={},onSignInClick:b,onNotNowClick:y}=t,S=window.cur.options||{},I=S.bday||0,E=S.bmonth||0,T=S.byear||0;let L;L="invite"===k?l.EventScreens.REGISTRATION_INVITE_CONFIRM:m?l.EventScreens.START_PROCEED_AS:"box"===k?l.EventScreens.START_BOX:l.EventScreens.START,window.cur.eventScreen=L,d.registrationItemStat.logEvent(l.RegistrationItemEventTypes.SCREEN_PROCEED,l.EventScreens.NOWHERE,L,{force:!0});const C=e.querySelector(".JoinForm__error"),A=e.querySelector('.JoinForm__textInput[name="first_name"]'),x=e.querySelector('.JoinForm__textInput[name="last_name"]'),B=e.querySelector(".JoinForm__birthdateDayInput"),N=e.querySelector(".JoinForm__birthdateMonthInput"),R=e.querySelector(".JoinForm__birthdateYearInput"),O=e.querySelector(".JoinForm__sex"),F=e.querySelectorAll(".JoinForm__sexRadio"),j=e.querySelector(".JoinForm__birthdate"),D=e.querySelector(".JoinForm__submitButton"),P=e.querySelector(".JoinForm__facebookLogin"),U=e.querySelector(".JoinForm__facebookLogin .FacebookLogin__button"),V=e.querySelector(".JoinForm__signIn"),q=e.querySelector(".JoinForm__notNowLink");let H,M,J;if(!A||!x||!D)return;const W=()=>{if(u.FlatButton.isLocked(D))return;const e={fname:A.value.trim(),lname:x.value.trim(),bday:H.val(),bmonth:M.val(),byear:J.val(),from:o,frm:1,event_screen:L};(0,i.isVisible)(O)&&(e.sex=Number((0,n.radioval)(_))||0),window.tooltips&&window.tooltips.hideAll();const t=(e,t)=>{e&&t&&window.Index.showRegTT(e,t)};C&&(C.innerHTML=""),window.ajax.post("join.php?act=start",e,{onDone:(e,o)=>{switch(e){case"first_name":return t(A,o),void(0,n.notaBene)(A);case"last_name":return t(x,o),void(0,n.notaBene)(x);case"sex_row":return(0,i.show)(O),void t(O,o);case"birthdate_row":return void t(j,o)}o&&(0,a.showMsg)(C,o,"error",!0)},showProgress:()=>u.FlatButton.lock(D),hideProgress:()=>u.FlatButton.unlock(D)})},K=()=>{const e=Number(H.val())||0,t=Number(M.val())||0,o=Number(J.val())||0,n=new Date(0);e&&n.setDate(e),t&&n.setMonth(t),o&&n.setFullYear(o),d.registrationItemStat.logFieldInteraction(l.RegistrationFieldItemNames.BDAY,n.getTime().toString())},G=function(){const e=window.cur;e.isJoinFieldDirty||(d.registrationItemStat.logEvent(l.RegistrationItemEventTypes.START_REG_TAP,e.eventScreen,void 0,{force:!0}),e.isJoinFieldDirty=!0)};if(d.registrationItemStat.logFieldInteraction(l.RegistrationFieldItemNames.FIRST_NAME,A.value,!0),A.addEventListener("keyup",(()=>{G(),d.registrationItemStat.logFieldInteraction(l.RegistrationFieldItemNames.FIRST_NAME,A.value)})),d.registrationItemStat.logFieldInteraction(l.RegistrationFieldItemNames.LAST_NAME,x.value,!0),x.addEventListener("keyup",(()=>{G(),d.registrationItemStat.logFieldInteraction(l.RegistrationFieldItemNames.LAST_NAME,x.value)})),[A,x].forEach((e=>{(0,s.placeholderInit)(e),e.addEventListener("keydown",(e=>{10!==e.keyCode&&13!==e.keyCode||W()}))})),"index"!==k&&requestAnimationFrame((()=>(0,i.elfocus)(A))),d.registrationItemStat.logFieldInteraction(l.RegistrationFieldItemNames.BDAY,"",!0),H=new window.Dropdown(B,(0,c.generateDays)(T,E),{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:I,onChange:()=>{G(),K()}}),M=new window.Dropdown(N,h,{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:E,onChange:e=>{G(),K(),(0,c.updateDayDropdown)(J.val(),e,H,I)}}),J=new window.Dropdown(R,p,{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:T,onChange:e=>{G(),K(),(0,c.updateDayDropdown)(e,M.val(),H,I)}}),window.radioBtns[_]={els:[...F],val:0},d.registrationItemStat.logFieldInteraction(l.RegistrationFieldItemNames.SEX,Number((0,n.radioval)(_)).toString(),!0),F.forEach((e=>{e.addEventListener("click",(()=>{const t=Number(e.dataset.sex);(0,n.radiobtn)(e,t,_),G(),d.registrationItemStat.logFieldInteraction(l.RegistrationFieldItemNames.SEX,t.toString())}))})),void 0!==f.sex){const t=f.sex,o=e.querySelector(`.JoinForm__sexRadio[data-sex="${t}"]`);o&&o.click()}if(D.addEventListener("click",(e=>{e.preventDefault(),W()})),v){const e=window.cur;e.fbApp=v,e.fbState=g,e.fbLocale=w,window.Index.fbCheck(v,"",P)}U?.addEventListener("click",(e=>{e.preventDefault(),window.Index.fbJoin("",U)})),V&&b&&V.addEventListener("click",b),q&&y&&q.addEventListener("click",y);const $=(0,r.curBox)();$&&$.setOptions({onClean:()=>{H&&H.destroy(),M&&M.destroy(),J&&J.destroy()}}),window.stManager.add([window.jsc("web/tooltips.js"),"tooltips.css"]).catch((()=>{}))}},722400:(e,t,o)=>{o.d(t,{initJoinVKConnectButton:()=>y,initJoinVKConnectForm:()=>S,initVkIdForm:()=>I});var n=o(988882),i=o(322695),r=o(471984),s=o(488844),a=o(226059),c=o(449147),l=o(471828),d=o(977070),u=o(2190),_=o(647379),h=o(618418),p=o(665048),m=o(977053),v=o(617974),g=o(953368);const w=7913379;let k=i.EventScreens.START;function f(e){const{loginDomain:t,connectDomain:o}=window.vk.apiConfigDomains;n.Config.init({appId:w,loginDomain:t,connectDomain:o,appSettings:{external_device_id:e,vkc_auth_action:"registration",promo:"registration"}})}function b(e){const{proceedAs:t,savedUsersCount:o,availableQR:n,saveUserChecked:s}=e;t&&(k=i.EventScreens.START_PROCEED_AS),window.cur.eventScreen=k,n&&r.registrationItemStat.logFieldInteraction(i.RegistrationFieldItemNames.AVAILABLE_AUTH_WITH_QR,"1"),o&&r.registrationItemStat.logFieldInteraction(i.RegistrationFieldItemNames.ACCOUNTS_COUNT,o.toString()),s&&r.registrationItemStat.logFieldInteraction(i.RegistrationFieldItemNames.SAVED_AUTHORIZATION_ON,"1"),r.registrationItemStat.logEvent(i.RegistrationItemEventTypes.SCREEN_PROCEED,i.EventScreens.NOWHERE,k,{force:!0})}function y(e,t){const{proceedAs:o,unauthId:i}=t;f(i),b({proceedAs:o});const r=e.querySelector(".JoinForm__connectButton");if(!r)return;r.addEventListener("click",(e=>{e.preventDefault(),(()=>{let e=location.protocol+"//"+location.host+"/join";n.Connect.redirectAuth({url:e})})()}))}function S(e,t){const{proceedAs:o,unauthId:d,phonePrefix:u,hash:_,fbApp:h,fbState:p,fbLocale:m}=t;f(d),b({proceedAs:o});const v=e.querySelector('.JoinForm__textInput[name="phone"]'),g=e.querySelector(".JoinForm__connectButton"),w=e.querySelector(".JoinForm__connectError"),y=e.querySelector(".JoinForm__form"),S=e.querySelector(".JoinForm__facebookLogin"),I=e.querySelector(".JoinForm__facebookLogin .FacebookLogin__button");let E=!1;if(!(v&&g&&w&&y))return;const T=e=>{(0,s.notaBene)(v),w&&e&&(w.innerHTML=e),r.registrationItemStat.logEvent(i.RegistrationItemEventTypes.INCORRECT_PHONE_NUMBER,k,void 0,{force:!0})},L=()=>{if(a.FlatButton.isLocked(g))return;if(!(e=>{const t=String(e).replace(/[^0-9]/g,"").length;return t>=10&&t<=13})(v.value.trim().replace(" ","")))return void T(l.getLang("index_error_bad_phone"));((e,t,o)=>{const i=e.hash;window.ajax.post("join.php?act=connect",e,{onDone:(e,r)=>{if("error"===e)return T(l.getLang("index_error_bad_phone")),void(0,s.notaBene)(o);a.FlatButton.lock(t);const c={url:location.protocol+"//"+location.host+"/join",action:{name:"registration_with_phone",token:r,params:{csrf_hash:i}}};n.Connect.redirectAuth(c)},showProgress:()=>a.FlatButton.lock(t),hideProgress:()=>a.FlatButton.unlock(t)})})({phone:v.value.trim(),hash:_},g,v)};if((0,c.placeholderInit)(v),v.value=u,v.addEventListener("keyup",(e=>{"Enter"!==e.key&&(w&&w.innerHTML&&(w.innerHTML=""),E||(r.registrationItemStat.logEvent(i.RegistrationItemEventTypes.START_REG_TAP,k,void 0,{force:!0}),E=!0))})),y.addEventListener("submit",(e=>{e.preventDefault(),L()})),g.addEventListener("click",(e=>{e.preventDefault(),L()})),h){const e=window.cur;e.fbApp=h,e.fbState=p,e.fbLocale=m,window.Index.fbCheck(h,"",S)}I?.addEventListener("click",(e=>{e.preventDefault(),window.Index.fbJoin("",I)}))}function I(e,t,o){(0,_.initVkId)();let s=u.ColorSchemeName[u.colorScheme.isDarkScheme()?"Dark":"Light"],c=null;o?.proceed_as&&(k=i.EventScreens.START_PROCEED_AS);const w=u.colorScheme.subscribe((()=>{c&&c.update({scheme:u.colorScheme.isDarkScheme()?u.ColorSchemeName.WebDark:u.ColorSchemeName.Light}),s=u.colorScheme.isDarkScheme()?u.ColorSchemeName.Dark:u.ColorSchemeName.Light}));let f=t;const y=location.search.match(/to=(?:[A-Za-z\d+/]{4})*(?:[A-Za-z\d+/]{3}=|[A-Za-z\d+/]{2}==)?/);if(y){const e=atob(y[0].slice(3)).replace(/\W*/g,"");f=""===e?"main":e}const S=e.querySelector(".VkIdForm__signInButton"),I=e.querySelector(".VkIdForm__signUpButton"),E=e.querySelector(".VkIdForm__businessSignUpButton"),T=e.querySelector(".VkIdForm__signInQRButton"),L=e.querySelector(".VkIdForm__qrPanel"),C=e.querySelector(".VkIdForm__qrPanelStub"),A=e.querySelector(".VkIdForm__input"),x=e.querySelector(".VkIdForm__messageError"),B=document.querySelector(".VkIdCheckbox--save"),N=B?.querySelector("#index_save_user_checkbox"),R=document.querySelector(".VkIdCheckbox--save .VkIdCheckbox__rightIcon");if(o&&b({proceedAs:o?.proceed_as??!1,savedUsersCount:o?.saved_users_count,availableQR:Boolean(L),saveUserChecked:Boolean(N?.checked)}),!S||!I)return;const O=e=>{A&&A.classList.add("VkIdForm__input--error"),x&&e&&(x.classList.remove("VkIdForm__messageError--hidden"),x.innerHTML=e)},F=()=>{A&&A.classList.remove("VkIdForm__input--error"),x&&x.innerHTML&&(x.classList.add("VkIdForm__messageError--hidden"),x.innerHTML="")},j=(e,t,o)=>{const s=e.hash||"",c=N?.checked?1:0;r.registrationItemStat.logFieldInteraction(i.RegistrationFieldItemNames.SAVED_AUTHORIZATION_ON,String(c)),r.registrationItemStat.logEvent(i.RegistrationItemEventTypes.SCREEN_PROCEED,k,i.EventScreens.NOWHERE,{force:!0}),window.ajax.post("join.php?act=connect",e,{onDone:(e,i)=>{if("error"===e)return O(l.getLang("vkconnect_auth_empty_login")),void a.FlatButton.unlock(o);const r={name:"no_password_flow",token:i,params:{type:"sign_in",csrf_hash:s}};t.action=r,n.Connect.redirectAuth(t)},onFail:e=>("security_error"===e&&(0,p.showErrorNotification)({title:l.getLang("vkconnect_auth_security_error_title"),text:l.getLang("vkconnect_auth_security_error_text")}),!1),showProgress:()=>a.FlatButton.lock(o),hideProgress:()=>{(0,m.partConfigEnabled)("vkconnect_auth_flat_button_unlock")&&a.FlatButton.unlock(o)}})},D=e=>{const t={url:e||location.protocol+"//"+location.host+"/join"+location.search,action:{name:"no_password_flow",params:{type:"sign_up"}},entry:{source:f,screen:k},scheme:s};n.Connect.redirectAuth(t)};(()=>{const e=`\n      <div class="VkIdCheckbox__saveTooltipHeader">\n        ${l.getLang("vkconnect_auth_save_user_tooltip_header")}\n      </div>\n      <div>\n        ${l.getLang("vkconnect_auth_save_user_tooltip_body")}\n      </div>\n    `;if(R){let t=new d.ElementTooltip(R,{autoShow:!0,width:260,content:e,cls:"feature_intro_tt",align:d.ElementTooltip.ALIGN_CENTER,forceSide:"bottom",appendToParent:!0,withCloseButton:!1,noHideOnClick:!0,offset:[1,0],onWindowClick(){},autoAdjustToViewport:!1,onHide:function(){}});(0,h.pushNavDestroy)((()=>{t&&(t.destroy(),t=null)}))}})(),(()=>{const e=location.protocol+"//"+location.host;if(!L)return;const t={source:f,screen:k};c=new n.AuthQR({container:L,entry:t}),c.on("VKSDKQRScaned",(o=>{n.Connect.redirectAuth({action:{name:"qr_auth",token:o??"qr_auth_scanned"},url:e+(0,g.getToParam)(),entry:t,scheme:s})})),c.on("VKSDKQRClicked",(()=>{n.Connect.redirectAuth({action:{name:"qr_auth"},url:e+(0,g.getToParam)(),entry:t,scheme:s})})),c.open({scheme:u.colorScheme.isDarkScheme()?u.ColorSchemeName.WebDark:u.ColorSchemeName.Light}).then((()=>{C&&C.remove()})).catch((()=>{c&&c.close(),L.remove()}))})(),I.addEventListener("click",(e=>{e.preventDefault(),w(),D()})),E&&E.addEventListener("click",(e=>{const t=`${location.protocol}//${location.host}/groups_create?type=business&source=registration`;e.preventDefault(),w(),r.registrationItemStat.logEvent(i.RegistrationItemEventTypes.CREATE_BUSINESS_START,k,i.EventScreens.NOWHERE,void 0,void 0,v.AuthAppId.VK),D(t)})),A&&(A.addEventListener("focus",(()=>{F()})),A.addEventListener("input",(()=>{F()})),e.addEventListener("submit",(e=>{e.preventDefault(),w(),(()=>{const e=location.protocol+"//"+location.host,i={source:f,screen:k},r={url:o?.to_feed?e+"/feed":e+(0,g.getToParam)(),action:{name:"no_password_flow",params:{type:"sign_in"}},entry:i,scheme:s};if(!A)return void n.Connect.redirectAuth(r);const c=A.value?.trim().replace(" ","");if(!c)return void O(l.getLang("vkconnect_auth_empty_login"));r.entry&&(r.entry.source=t);const d=document.querySelector("#index_expire_input"),u=d?.checked?1:0,_=document.querySelector("#index_save_user_checkbox"),h=_?.checked?1:0;a.FlatButton.lock(S),j({login:encodeURIComponent(c),hash:o?.hash,expire:u,save_user:h},r,S)})()}))),T&&T.addEventListener("click",(e=>{e.preventDefault(),w(),(()=>{const e=location.protocol+"//"+location.host,t={source:f,screen:k},i={url:o?.to_feed?e+"/feed":e+(0,g.getToParam)(),action:{name:"qr_auth"},entry:t,scheme:s};n.Connect.redirectAuth(i)})()}))}},953368:(e,t,o)=>{o.d(t,{generateDays:()=>r,getToParam:()=>a,updateDayDropdown:()=>s});var n=o(659397),i=o(471828);function r(e,t){const o=[[0,i.getLang("index_sel_bday")]],r=(0,n.getLastDayOfMonth)(e,t);for(let e=1;e<=r;++e)o.push([e,String(e)]);return o}function s(e,t,o,i){Number(o.val())>(0,n.getLastDayOfMonth)(e,t)&&o.clear(),o.setData(r(e,t).slice(Number(i)?1:0))}function a(){if(location.href.includes("login"))return"/login"+location.search;const e=new URLSearchParams(window.location.search).get("to");return e?"/"+e:""}},937228:(e,t,o)=>{o.d(t,{getAuthorOnboardingTooltipsSharedState:()=>c,renderAuthorUserOnboardingTooltip:()=>d,renderHelpTooltip:()=>l});var n=o(304474),i=o(509793),r=o(288824),s=o(31517),a=o(471828);const c=()=>(0,r.makeSharedState)("author-onboarding-tooltips",(()=>({isAuthorUserTooltipShown:!1,isAuthorGroupTooltipShown:!1})),{version:1}),l=(e,t,o,n)=>{const{tooltip:i}=(0,s.helpHintTooltip)(e,{content:t,onHideRequestSent:o,isServerSideHideDisabled:!0},{width:n,forceSide:"top",withCloseButton:!1,appendToParent:!0,autoAdjustToViewport:!1,offset:[2,-6],noAutoHideOnWindowClick:!1,cls:"feature_intro_tt feature_intro_blue_tt"});window.requestAnimationFrame((()=>i.show()))},d=e=>{const t=c(),o=n.AvailableHelpHints.AUTHOR_LIKE_ONBOARDING_HINT;(0,i.ensureAccountHelpHintsService)().canShow(o)&&!t().isAuthorUserTooltipShown&&(t().isAuthorUserTooltipShown=!0,l(e,a.getLang("intro_hint_description_feed_author_like_onboarding"),(()=>(0,i.ensureAccountHelpHintsService)().hideHelpHint({hintId:o})),225))}},751602:(e,t,o)=>{function n(e){const t=e.match(/^([a-z_]+)([0-9\-_]+)$/);if(!t)return null;const[,o,n]=t;return{objectType:o,objectId:n}}o.d(t,{getElementLikeButtonCount:()=>a,getElementLikeButtonIcon:()=>c,getElementLikeButtonLabel:()=>l,isObjectTypeIsVideo:()=>s,likePostObjectId:()=>i,likeReplyObjectId:()=>r,parseLikeObjectId:()=>n});const i=e=>`wall${e}`,r=e=>`wall_reply${e}`,s=e=>["video","video_comment"].includes(e),a=e=>e?.querySelector(".like_button_count, ._like_button_count")??void 0,c=e=>e?.querySelector(".like_button_icon, ._like_button_icon")??void 0,l=e=>e.querySelector(".like_button_label, ._like_button_label")??void 0},205070:(e,t,o)=>{o.d(t,{LikeButtonTypes:()=>n});const n={like:"like",share:"share",views:"views",comment:"comment"}},750030:(e,t,o)=>{o.d(t,{isIntentPreviewHidden:()=>c,isIntentPreviewInActionStatusBar:()=>a,isIntentPreviewUseCurrent:()=>l,isVariantHidden:()=>r,isVariantInActionStatusBar:()=>i,parsePreviewVariant:()=>u,previewVisibilityIntentForVariant:()=>d,previewVisibilityUseCurrent:()=>s});var n=o(771220);const i=e=>e===n.PreviewVariantActionStatusBar,r=e=>e===n.PreviewVariantHidden,s={kind:"useCurrent"},a=e=>e.kind===n.PreviewVariantActionStatusBar,c=e=>e.kind===n.PreviewVariantHidden,l=e=>"useCurrent"===e.kind,d=e=>e?{kind:e}:s,u=e=>n.PreviewVariants.includes(e)?e:void 0},771220:(e,t,o)=>{o.d(t,{PreviewVariantActionStatusBar:()=>n,PreviewVariantHidden:()=>i,PreviewVariants:()=>r});const n="action_status_bar",i="hidden",r=[n,i]},863218:(e,t,o)=>{o.d(t,{REACTIONS_COUNTS_RESPONSE_FIELD:()=>c,SIZE_128:()=>a,SIZE_32:()=>i,SIZE_40:()=>r,SIZE_96:()=>s,SUPPORTED_OBJECT_TYPES:()=>n,WK_SECTION_PREFIX_REACTIONS:()=>l});const n={wall:"wall",wall_reply:"wall_reply"},i={width:32,height:32},r={width:40,height:40},s={width:96,height:96},a={width:128,height:128},c="reactions_counts",l="reactions"},894289:(e,t,o)=>{o.d(t,{isReactionsFullUpdatePayload:()=>r,reactionsCountsOnlyUpdatePayload:()=>s,reactionsCountsUpdatePayload:()=>i});var n=o(776590);const i=(e,t)=>({kind:n.PayloadKindFull,...e,reactionIdState:{reactionId:t.id}}),r=e=>e.kind===n.PayloadKindFull,s=e=>({kind:n.PayloadKindCountsOnly,...e})},776590:(e,t,o)=>{o.d(t,{PayloadKindCountsOnly:()=>n,PayloadKindFull:()=>i});const n="counts_only",i="counts_with_current_reaction"},511051:(e,t,o)=>{o.d(t,{triggerReactionsUpdate:()=>a});var n=o(751602),i=o(863218),r=o(214009),s=o(894289);const a=(e,t,o,a)=>{const c=(0,n.parseLikeObjectId)(e);c&&c.objectType===i.SUPPORTED_OBJECT_TYPES.wall&&c.objectId?(0,r.emitEvent)(r.WallDataEvents.post_reactions_counts_update,function(e,t,o,n){const i={counts:e,isFromWkLayer:t?.isFromWkLayer,isPrimaryLikeButtonClick:t?.isPrimaryLikeButtonClick,isQueueUpdate:t?.isQueueUpdate,isUserAction:t.isUserAction,postFullId:o.objectId,previewVisibility:t.previewVisibility,reactionIdState:n?{reactionId:n.id}:void 0,suggestSubscribe:t.suggestSubscribe};return n?(0,s.reactionsCountsUpdatePayload)(i,n):(0,s.reactionsCountsOnlyUpdatePayload)(i)}(t,a,c,o)):c&&c.objectType===i.SUPPORTED_OBJECT_TYPES.wall_reply&&c.objectId?(0,r.emitEvent)(r.WallDataEvents.reply_reactions_counts_update,{counts:t,replyFullId:c.objectId,reactionIdState:o?{reactionId:o.id}:void 0}):console.warn("Unsupported reactions object update",e)}},430506:(e,t,o)=>{o.d(t,{UnauthActionBox:()=>d});var n=o(322695),i=o(324153),r=o(625529),s=o(159663),a=o(659397),c=o(48204),l=o(826695);const d={show:function(e,t={}){const{onHide:o,onLogin:d}=t,u=e.withForm,_=new s.MessageBox({title:"",width:u?796:450,hideButtons:!0,containerClass:(0,a.classNames)("UnauthActionBoxContainer",{"UnauthActionBoxContainer--form":u}),onHide:()=>{o&&o()}});_.content(e.html),_.changed=!0;const h=_.bodyNode.querySelector(".UnauthActionBox__close"),p=_.bodyNode.querySelector(".UnauthActionBox__join"),m=_.bodyNode.querySelector(".UnauthActionBox__login"),v=t=>{n.marketingTransitionItemStat.logEvent(i.MarketingTransitionItemCampaignType.UNAUTH_ACTION_BOX,t,e.action,window.location.href)};h?.addEventListener("click",(()=>{v(i.MarketingTransitionItemEventType.CLOSE),_.hide()})),p?.addEventListener("click",(()=>{v(i.MarketingTransitionItemEventType.CLICK_SIGN_UP),(0,r.showJoinBox)(e.action)})),m?.addEventListener("click",(()=>{v(i.MarketingTransitionItemEventType.CLICK_SIGN_IN),d?d():(0,r.showQuickLoginBox)(e.action)})),v(i.MarketingTransitionItemEventType.OPEN),_.show();const g=_.bodyNode.querySelector(".LoginCombinedBox"),w=_.bodyNode.querySelector(".JoinForm"),k=e=>{e.preventDefault(),v(i.MarketingTransitionItemEventType.CLOSE),_.hide()};return _.bodyNode.querySelectorAll(".LoginBox").forEach((e=>{(0,c.initLoginBoxForm)(e)})),_.bodyNode.querySelectorAll(".LoginBox__notNow").forEach((e=>{e.addEventListener("click",k)})),_.bodyNode.querySelectorAll(".JoinForm__signIn, .LoginRecentBox__alternative").forEach((e=>{e.addEventListener("click",(()=>{v(i.MarketingTransitionItemEventType.CLICK_SIGN_IN)}))})),_.bodyNode.querySelectorAll(".LoginBox__buttonSignUp").forEach((e=>{e.addEventListener("click",(()=>{v(i.MarketingTransitionItemEventType.CLICK_SIGN_UP)}))})),g?(0,c.initLoginCombinedBoxForm)(g,e.formOptions):w&&(0,l.initJoinForm)(w,{...e.formOptions,onSignInClick:()=>{(0,r.showQuickLoginBox)()},onNotNowClick:k,ref:"box"}),requestAnimationFrame((()=>window.tooltips&&window.tooltips.hideAll())),_}}},214009:(e,t,o)=>{o.d(t,{WallDataEvents:()=>r,emitEvent:()=>d,registerNonGlobalNonUniqueListener:()=>l,registerUniqueListener:()=>c});var n=o(288824),i=o(195763);const r={post_reactions_counts_update:"wall/post_reactions_counts_update",reply_reactions_counts_update:"wall/reply_reactions_counts_update",post_subscribe_update:"wall/post_subscribe_update"},s=(0,n.makeSharedState)("wall-data",(()=>({emitter:new i.default,keyedListeners:Object.create(null)})),{version:0}),a=(e,t,o)=>{const n=s(),i=n.keyedListeners?.[e]?.[t];return i&&n.emitter.removeListener(e,i),((e,t,o)=>{const n=s();return n.emitter.addListener(e,o),n.keyedListeners[e]={...n.keyedListeners[e],[t]:o},()=>{n.emitter.removeListener(e,o);const i=n.keyedListeners[e]?.[t];i===o&&delete n.keyedListeners[e]?.[t]}})(e,t,o)},c=(e,t,o)=>a(t,e,o),l=(e,t)=>((e,t)=>{const o=s();return o.emitter.addListener(e,t),()=>{o.emitter.removeListener(e,t)}})(e,t),d=(e,t)=>{s().emitter.emit(e,t)}},14134:(e,t,o)=>{o.d(t,{updateAriaLabelCounter:()=>r});var n=o(471828),i=o(205070);const r=(e,t,o)=>{if(!("number"==typeof t&&e instanceof HTMLElement&&e.classList.contains("PostBottomAction")))return;const r=(e=>{let t;switch(e){case i.LikeButtonTypes.comment:t=n.getLang("likes_comments_N_aria_short","raw");break;case i.LikeButtonTypes.like:t=n.getLang("likes_likes_N_aria_short","raw");break;case i.LikeButtonTypes.share:t=n.getLang("likes_shares_N_aria_short","raw")}return t})(o);if(!r)return;const s=(0,n.langNumeric)(t,r,!1);e.setAttribute("aria-label",s)}}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return s[e].call(o.exports,o,o.exports,c),o.exports}c.m=s,e=[],c.O=(t,o,n,i)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,n,i]=e[d],s=!0,a=0;a<o.length;a++)(!1&i||r>=i)&&Object.keys(c.O).every((e=>c.O[e](o[a])))?o.splice(a--,1):(s=!1,i<r&&(r=i));if(s){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,n,i]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var i=Object.create(null);c.r(i);var r={};t=t||[null,o({}),o([]),o(o)];for(var s=2&n&&e;"object"==typeof s&&!~t.indexOf(s);s=o(s))Object.getOwnPropertyNames(s).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,c.d(i,r),i},c.d=(e,t)=>{for(var o in t)c.o(t,o)&&!c.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,o)=>(c.f[o](e,t),t)),[])),c.u=e=>24817===e?"web/chunks/hls.b496ce21.js":77794===e?"web/chunks/7bdfc282.async.758ca0aa.js":40530===e?"web/chunks/5ef6139d.async.11c35c9c.js":19442===e?"web/chunks/9f7d7ed3.async.4011bfc9.js":71634===e?"web/chunks/5b5fa12c.async.df7dbdde.js":14803===e?"web/chunks/b8d79c18.async.1f2410f2.js":27370===e?"web/chunks/2c9432b5.async.5b90c7cd.js":5157===e?"web/chunks/unauth_action_box.9d309412.js":25394===e?"web/chunks/AudioLongtapModal.ab967a4b.js":75980===e?"web/chunks/menu_settings.7bdcde07.js":91815===e?"web/chunks/b66df7cc.async.98a85b3f.js":40928===e?"web/chunks/fcbd3ef2.async.877aa898.js":9914===e?"web/chunks/52fa6987.async.94be31b8.js":59727===e?"web/chunks/VideoUpload.ab749b29.js":9375===e?"web/chunks/voice_message_player.faac3006.js":28762===e?"web/chunks/speech.3083d7af.js":57468===e?"web/chunks/SilentModeForms.d5a6e099.js":28872===e?"web/chunks/feed-client-nav-skeleton.a45b822f.js":35953===e?"web/chunks/feed-client-nav-async-right-block.85b20aca.js":85059===e?"web/chunks/059ba3af.async.ee5a4200.js":88339===e?"web/chunks/aadde5b7.async.efcb9ddc.js":67724===e?"web/chunks/VideoEditorModal.eb979233.js":22854===e?"web/chunks/PublishClipToVideoModal.dae3ac0f.js":30271===e?"web/chunks/VideoUploadModal.b8d73da8.js":31286===e?"web/chunks/VideoExternalUploadModal.2c5830cb.js":969===e?"web/chunks/0dc980e6.async.18c61f90.js":92846===e?"web/chunks/ClipUploadModal.fbd8d9e4.js":59240===e?"web/chunks/performance-stats.b497cf49.js":378===e?"web/chunks/79f739a7.async.4832bf09.js":72491===e?"web/chunks/story_blocks.203f1767.js":7308===e?"web/chunks/7308.e4292e75.js":1854===e?"chunks/1854.9b4b0c68.js":18254===e?"chunks/"+e+".0ac520ae.js":92398===e?"chunks/"+e+".18cb85f5.js":"web/chunks/videoplayer-interactive.2e35aad6.js",c.miniCssF=e=>({5157:1,59727:1}[e]?"web/chunks/0c110bf9.css":25394===e?"web/chunks/6a66a172.css":75980===e?"web/chunks/5bbee2c9.css":57468===e?"web/chunks/122e7a6e.css":67724===e?"web/chunks/3c048aa6.css":22854===e?"web/chunks/70c35bc4.css":{30271:1,31286:1}[e]?"web/chunks/f89919fd.css":92846===e?"web/chunks/83ceb5be.css":72491===e?"web/chunks/de731494.css":void 0),c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},c.l=(e,t,o,i)=>{if(n[e])n[e].push(t);else{var r,s;if(void 0!==o)for(var a=document.getElementsByTagName("script"),l=0;l<a.length;l++){var d=a[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+o){r=d;break}}r||(s=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.setAttribute("data-webpack","vk:"+o),r.src=e),n[e]=[t];var u=(t,o)=>{r.onerror=r.onload=null,clearTimeout(_);var i=n[e];if(delete n[e],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((e=>e(o))),t)return t(o)},_=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),s&&document.head.appendChild(r)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="/dist/",i=e=>new Promise(((t,o)=>{var n=c.miniCssF(e),i=c.p+n;if(((e,t)=>{for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var i=(s=o[n]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===t))return s}var r=document.getElementsByTagName("style");for(n=0;n<r.length;n++){var s;if((i=(s=r[n]).getAttribute("data-href"))===e||i===t)return s}})(n,i))return t();((e,t,o,n)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=r=>{if(i.onerror=i.onload=null,"load"===r.type)o();else{var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,i.parentNode.removeChild(i),n(c)}},i.href=t,document.head.appendChild(i)})(e,i,t,o)})),r={22568:0},c.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{5157:1,22854:1,25394:1,30271:1,31286:1,57468:1,59727:1,67724:1,72491:1,75980:1,92846:1}[e]&&t.push(r[e]=i(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{c.b=document.baseURI||self.location.href;var e={22568:0};c.f.j=(t,o)=>{var n=c.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var i=new Promise(((o,i)=>n=e[t]=[o,i]));o.push(n[2]=i);var r=c.p+c.u(t),s=new Error;c.l(r,(o=>{if(c.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,n[1](s)}}),"chunk-"+t,t)}},c.O.j=t=>0===e[t];var t=(t,o)=>{var n,i,[r,s,a]=o,l=0;if(r.some((t=>0!==e[t]))){for(n in s)c.o(s,n)&&(c.m[n]=s[n]);if(a)var d=a(c)}for(t&&t(o);l<r.length;l++)i=r[l],c.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return c.O(d)},o=self.webpackChunkvkweb=self.webpackChunkvkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=c.O(void 0,[213,83737,2067,20795,57451,5038,95167,39056,63580],(()=>c(825836)));l=c.O(l)})();